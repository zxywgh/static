Calendar=function(d,c,h,a,g,e){initCalendar();this.activeDiv=null;this.currentDateEl=null;this.getDateStatus=null;this.getDateToolTip=null;this.getDateText=null;this.timeout=null;this.onSelected=h||null;this.onClose=a||null;this.dragging=false;this.hidden=false;this.minYear=1900;this.maxYear=2100;this.dateFormat=Calendar._TT.DEF_DATE_FORMAT;this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT;this.isPopup=true;this.weekNumbers=true;this.firstDayOfWeek=typeof d=="number"?d:Calendar._FD;this.showsOtherMonths=false;this.dateStr=c;this.ar_days=null;this.showsTime=false;this.time24=true;this.yearStep=1;this.hiliteToday=true;this.multiple=null;this.table=null;this.element=null;this.tbody=null;this.firstdayname=null;this.monthsCombo=null;this.yearsCombo=null;this.hilitedMonth=null;this.activeMonth=null;this.hilitedYear=null;this.activeYear=null;this.isClear=true;this.clearBlank=true;this.height=null;this.isMini=g||null;this.onClear=e||null;this.dateClicked=false;if(typeof Calendar._SDN=="undefined"){if(typeof Calendar._SDN_len=="undefined"){Calendar._SDN_len=3}var b=new Array();for(var f=8;f>0;){b[--f]=Calendar._DN[f].substr(0,Calendar._SDN_len)}Calendar._SDN=b;if(typeof Calendar._SMN_len=="undefined"){Calendar._SMN_len=3}b=new Array();for(var f=12;f>0;){b[--f]=Calendar._MN[f].substr(0,Calendar._SMN_len)}Calendar._SMN=b}};Calendar._C=null;Calendar.is_ie=(/msie/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent))&&!/opera/i.test(navigator.userAgent);Calendar.is_ie5=(Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent));Calendar.is_opera=/opera/i.test(navigator.userAgent);Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent);Calendar.getAbsolutePos=function(e){var a=0,d=0;var c=/^div$/i.test(e.tagName);if(c&&e.scrollLeft){a=e.scrollLeft}if(c&&e.scrollTop){d=e.scrollTop}var f={x:e.offsetLeft-a,y:e.offsetTop-d};if(e.offsetParent){var b=this.getAbsolutePos(e.offsetParent);f.x+=b.x;f.y+=b.y}return f};Calendar.isRelated=function(c,a){var d=a.relatedTarget;if(!d){var b=a.type;if(b=="mouseover"){d=a.fromElement}else{if(b=="mouseout"){d=a.toElement}}}while(d){if(d==c){return true}d=d.parentNode}return false};Calendar.removeClass=function(e,d){if(!(e&&e.className)){return}var a=e.className.split(" ");var b=new Array();for(var c=a.length;c>0;){if(a[--c]!=d){b[b.length]=a[c]}}e.className=b.join(" ")};Calendar.addClass=function(b,a){Calendar.removeClass(b,a);b.className+=" "+a};Calendar.getElement=function(b){try{var c=Calendar.is_ie?window.event.srcElement:b.currentTarget;if(typeof c.nodeType!=null&&c.nodeType){while(c.nodeType!=1||/^div$/i.test(c.tagName)){c=c.parentNode}return c}else{return null}}catch(a){}};Calendar.getCalendar=function(a){while(a.nodeType!=1||!a.calendar){a=a.parentNode}return a.calendar};Calendar.getTargetElement=function(a){var b=Calendar.is_ie?window.event.srcElement:a.target;while(b.nodeType!=1){b=b.parentNode}return b};Calendar.stopEvent=function(a){a||(a=window.event);if(Calendar.is_ie){a.cancelBubble=true;a.returnValue=false}else{a.preventDefault();a.stopPropagation()}return false};Calendar.addEvent=function(a,c,b){if(a.attachEvent){a.attachEvent("on"+c,b)}else{if(a.addEventListener){a.addEventListener(c,b,true)}else{a["on"+c]=b}}};Calendar.removeEvent=function(a,c,b){if(a.detachEvent){a.detachEvent("on"+c,b)}else{if(a.removeEventListener){a.removeEventListener(c,b,true)}else{a["on"+c]=null}}};Calendar.createElement=function(c,b){var a=null;if(document.createElementNS){a=document.createElementNS("http://www.w3.org/1999/xhtml",c)}else{a=document.createElement(c)}if(typeof b!="undefined"){b.appendChild(a)}return a};Calendar._add_evs=function(el){with(Calendar){addEvent(el,"mouseover",dayMouseOver);addEvent(el,"mousedown",dayMouseDown);addEvent(el,"mouseout",dayMouseOut);if(is_ie){addEvent(el,"dblclick",dayMouseDblClick);el.setAttribute("unselectable",true)}}};Calendar.findMonth=function(a){if(typeof a.month!="undefined"){return a}else{if(typeof a.parentNode.month!="undefined"){return a.parentNode}}return null};Calendar.findYear=function(a){if(typeof a.year!="undefined"){return a}else{if(typeof a.parentNode.year!="undefined"){return a.parentNode}}return null};Calendar.showMonthsCombo=function(){var e=Calendar._C;if(!e){return false}var e=e;var f=e.activeDiv;var d=e.monthsCombo;if(e.hilitedMonth){Calendar.removeClass(e.hilitedMonth,"hilite")}if(e.activeMonth){Calendar.removeClass(e.activeMonth,"active")}var c=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(c,"active");e.activeMonth=c;var b=d.style;b.display="block";if(f.navtype<0){b.left=f.offsetLeft+"px"}else{var a=d.offsetWidth;if(typeof a=="undefined"){a=50}b.left=(f.offsetLeft+f.offsetWidth-a)+"px"}b.top=(f.offsetTop+f.offsetHeight)+"px"};Calendar.showYearsCombo=function(d){var a=Calendar._C;if(!a){return false}var a=a;var c=a.activeDiv;var f=a.yearsCombo;if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}if(a.activeYear){Calendar.removeClass(a.activeYear,"active")}a.activeYear=null;var b=a.date.getFullYear()+(d?1:-1);var k=f.firstChild;var h=false;for(var e=12;e>0;--e){if(b>=a.minYear&&b<=a.maxYear){k.innerHTML=b;k.year=b;k.style.display="block";h=true}else{k.style.display="none"}k=k.nextSibling;var j=a.yearStep?a.yearStep:1;b+=d?j:-j}if(h){var l=f.style;l.display="block";if(c.navtype<0){l.left=c.offsetLeft+"px"}else{var g=f.offsetWidth;if(typeof g=="undefined"){g=50}l.left=(c.offsetLeft+c.offsetWidth-g)+"px"}l.top=(c.offsetTop+c.offsetHeight)+"px"}};Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal){return false}if(cal.timeout){clearTimeout(cal.timeout)}var el=cal.activeDiv;if(!el){return false}var target=Calendar.getTargetElement(ev);ev||(ev=window.event);Calendar.removeClass(el,"active");if(target==el||target.parentNode==el){var isclick=typeof(SeeUtils.getAttrEl(el,"clicktime"))=="undefined";var clickdate=new Date();var clicktime=clickdate.getTime();if(!isclick){if((clicktime-SeeUtils.getAttrEl(el,"clicktime"))<300){if(!SeeUtils.hasClass(target,"nav")&&SeeUtils.getAttrEl(target,"unselectable")!="on"){Calendar.cellClick(el,ev,"twice");SeeUtils.attrEl(el,"clicktime",clicktime)}}else{Calendar.cellClick(el,ev);SeeUtils.attrEl(el,"clicktime",clicktime)}}else{Calendar.cellClick(el,ev)}}var mon=Calendar.findMonth(target);var date=null;if(mon){date=new Date(cal.date);if(mon.month!=date.getMonth()){date.setMonth(mon.month);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}else{var year=Calendar.findYear(target);if(year){date=new Date(cal.date);if(year.year!=date.getFullYear()){date.setFullYear(year.year);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}}with(Calendar){removeEvent(document,"mouseup",tableMouseUp);removeEvent(document,"mouseover",tableMouseOver);removeEvent(document,"mousemove",tableMouseOver);cal._hideCombos();_C=null;return stopEvent(ev)}};Calendar.tableMouseOver=function(n){var a=Calendar._C;if(!a){return}var c=a.activeDiv;var j=Calendar.getTargetElement(n);if(j==c||j.parentNode==c){Calendar.addClass(c,"hilite active");Calendar.addClass(c.parentNode,"rowhilite")}else{if(typeof c.navtype=="undefined"||(c.navtype!=50&&(c.navtype==0||Math.abs(c.navtype)>2))){Calendar.removeClass(c,"active")}Calendar.removeClass(c,"hilite");Calendar.removeClass(c.parentNode,"rowhilite")}n||(n=window.event);if(c.navtype==50&&j!=c){var m=Calendar.getAbsolutePos(c);var q=c.offsetWidth;var o=n.clientX;var r;var l=true;if(o>m.x+q){r=o-m.x-q;l=false}else{r=m.x-o}if(r<0){r=0}var f=c._range;var h=c._current;var g=Math.floor(r/10)%f.length;for(var e=f.length;--e>=0;){if(f[e]==h){break}}while(g-->0){if(l){if(--e<0){e=f.length-1}}else{if(++e>=f.length){e=0}}}var b=f[e];c.innerHTML=b;a.onUpdateTime()}var d=Calendar.findMonth(j);if(d){if(d.month!=a.date.getMonth()){if(a.hilitedMonth){Calendar.removeClass(a.hilitedMonth,"hilite")}Calendar.addClass(d,"hilite");a.hilitedMonth=d}else{if(a.hilitedMonth){Calendar.removeClass(a.hilitedMonth,"hilite")}}}else{if(a.hilitedMonth){Calendar.removeClass(a.hilitedMonth,"hilite")}var k=Calendar.findYear(j);if(k){if(k.year!=a.date.getFullYear()){if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}Calendar.addClass(k,"hilite");a.hilitedYear=k}else{if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}}}else{if(a.hilitedYear){Calendar.removeClass(a.hilitedYear,"hilite")}}}return Calendar.stopEvent(n)};Calendar.tableMouseDown=function(a){var b=Calendar.getTargetElement(a).id;if(b=="timeHours"||b=="timeMinutes"){return}if(Calendar.getTargetElement(a)==Calendar.getElement(a)){return Calendar.stopEvent(a)}};Calendar.calDragIt=function(b){var c=Calendar._C;if(!(c&&c.dragging)){return false}var e;var d;if(Calendar.is_ie){d=window.event.clientY+document.body.scrollTop;e=window.event.clientX+document.body.scrollLeft}else{e=b.pageX;d=b.pageY}c.hideShowCovered();var a=c.element.style;a.left=(e-c.xOffs)+"px";a.top=(d-c.yOffs)+"px";if(c.isPopup){c.iframe.style.left=(e-c.xOffs)+"px";c.iframe.style.top=(d-c.yOffs)+"px"}return Calendar.stopEvent(b)};Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal){return false}cal.dragging=false;with(Calendar){removeEvent(document,"mousemove",calDragIt);removeEvent(document,"mouseup",calDragEnd);tableMouseUp(ev)}cal.hideShowCovered()};Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled){return false}var cal=el.calendar;cal.activeDiv=el;Calendar._C=cal;if(el.navtype!=300){with(Calendar){if(el.navtype==50){el._current=el.innerHTML;addEvent(document,"mousemove",tableMouseOver)}else{addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver)}addClass(el,"hilite active");addEvent(document,"mouseup",tableMouseUp)}}else{if(cal.isPopup){cal._dragStart(ev)}}if(el.navtype==-1||el.navtype==1){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)}else{if(el.navtype==-2||el.navtype==2){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout((el.navtype>0)?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)}else{cal.timeout=null}}return Calendar.stopEvent(ev)};Calendar.dayMouseDblClick=function(a){if(Calendar.is_ie){if(document.selection){document.selection.empty()}else{if(window.getSelection){try{window.getSelection().removeAllRanges()}catch(b){}}}}};Calendar.dayMouseOver=function(b){var a=Calendar.getElement(b);if(Calendar.isRelated(a,b)||Calendar._C||a.disabled){return false}if(a.ttip){if(a.ttip.substr(0,1)=="_"){a.ttip=a.caldate.print(a.calendar.ttDateFormat)+a.ttip.substr(1)}a.calendar.tooltips.innerHTML=a.ttip}if(a.navtype!=300){Calendar.addClass(a,"hilite");if(a.caldate){Calendar.addClass(a.parentNode,"rowhilite");var c=a.calendar;if(c&&c.getDateToolTip){var e=a.caldate;window.status=e;a.title=c.getDateToolTip(e,e.getFullYear(),e.getMonth(),e.getDate())}}}return Calendar.stopEvent(b)};Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);if(isRelated(el,ev)||_C||el.disabled){return false}removeClass(el,"hilite");if(el.caldate){removeClass(el.parentNode,"rowhilite")}if(el.calendar){el.calendar.tooltips.innerHTML=_TT.SEL_DATE}}};Calendar.cellClick=function(e,q,m){initCalendar();var c=e.calendar;var h=false;var l=false;var f=null;if(typeof e.navtype=="undefined"){if(c.currentDateEl){Calendar.removeClass(c.currentDateEl,"selected");Calendar.addClass(e,"selected");h=(c.currentDateEl==e);if(!h){c.currentDateEl=e}}c.date.setDateOnly(e.caldate);f=c.date;var b=!(c.dateClicked=!e.otherMonth);if(!b&&!c.currentDateEl&&c.multiple){c._toggleMultipleDate(new Date(f))}else{l=!e.disabled}if(b){c._init(c.firstDayOfWeek,f)}}else{if(e.navtype==200){Calendar.removeClass(e,"hilite");c.callCloseHandler();return}f=new Date(c.date);if(e.navtype==0){f.setDateOnly(new Date())}c.dateClicked=false;var o=f.getFullYear();var g=f.getMonth();function a(t){var u=f.getDate();var s=f.getMonthDays(t);if(u>s){f.setDate(s)}f.setMonth(t)}switch(e.navtype){case 400:Calendar.removeClass(e,"hilite");var r=Calendar._TT.ABOUT;if(typeof r!="undefined"){r+=c.showsTime?Calendar._TT.ABOUT_TIME:""}else{r='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon#yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n'}alert(r);return;case -2:if(o>c.minYear){f.setFullYear(o-1)}break;case -1:if(g>0){a(g-1)}else{if(o-->c.minYear){f.setFullYear(o);a(11)}}break;case 1:if(g<11){a(g+1)}else{if(o<c.maxYear){f.setFullYear(o+1);a(0)}}break;case 2:if(o<c.maxYear){f.setFullYear(o+1)}break;case 100:c.setFirstDayOfWeek(e.fdow);return;case 50:var k=e._range;var n=e.innerHTML;for(var j=k.length;--j>=0;){if(k[j]==n){break}}if(q&&q.shiftKey){if(--j<0){j=k.length-1}}else{if(++j>=k.length){j=0}}var d=k[j];e.innerHTML=d;c.onUpdateTime();return;case 0:if((typeof c.getDateStatus=="function")&&c.getDateStatus(f,f.getFullYear(),f.getMonth(),f.getDate())){return false}break}if(!f.equalsTo(c.date)){c.setDate(f);l=true}else{if(e.navtype==0){l=h=true}}}if(l){if(c.params.hideOkClearButton==true){q&&c.callHandler()}}if(h){Calendar.removeClass(e,"hilite");if(c.params.hideOkClearButton==true){q&&c.callCloseHandler()}}if(this._C&&this._C.iframe){SeeUtils.setElHeight(this._C.iframe,SeeUtils.getElHeight(this._C.element))}if(m=="twice"){q&&c.callHandler()&&c.callCloseHandler()}};Calendar.prototype.create=function(r){initCalendar();var l=null;if(!r){l=document.getElementsByTagName("body")[0];this.isPopup=true}else{l=r;this.isPopup=false}this.date=this.dateStr?new Date(this.dateStr):new Date();var B=Calendar.createElement("table");this.table=B;B.cellSpacing=2;B.cellPadding=0;if(this.height){B.style.height=this.height+"px"}B.calendar=this;Calendar.addEvent(B,"mousedown",Calendar.tableMouseDown);var q=Calendar.createElement("div");this.element=q;q.className="calendar";if(self!=top||this.isMini==true){q.className="calendar miniCalendar"}if(this.isPopup){q.style.position="absolute";q.style.display="none"}q.appendChild(B);if(this.dateFormat=="%Y-%m"){if(document.getElementById("inputYear")){document.getElementById("inputYear").parentElement.innerHTML=""}var h=Calendar.createElement("div");h.className="calendar_month_container";var e=Calendar.createElement("div",h);e.className="calendar_month_container_head border_b";var n=this.date.getFullYear();e.innerHTML='<input type="button" style="width:20px;" value="&#x00ab;" onclick="Calendar.increaseYearInput(-1);"/><input id="inputYear" type="text" value="'+n+'" size="4"/><input type="button" style="width:20px;" value="&#x00bb;"  onclick="Calendar.increaseYearInput(1);"/>';var d=Calendar.createElement("div",h);d.className="calendar_month_container_body";for(w=0;w<Calendar._MN.length;++w){var x=Calendar.createElement("a");x.month=w;if(w==this.date.getMonth()){x.className="current"}x.innerHTML=Calendar._SMN[w];Calendar.addEvent(x,"click",function(E){var j=Calendar.getElement(E);var F=j.calendar;F.date.setMonth(j.month);F.date.setFullYear(document.getElementById("inputYear").value);F.callHandler();F.callCloseHandler()});x.calendar=this;d.appendChild(x)}q.appendChild(h);B.style.display="none"}var A=Calendar.createElement("thead",B);var c=null;var g=null;var o=this;var f=function(F,E,j){c=Calendar.createElement("td",g);c.colSpan=E;c.className="button";if(j!=0&&Math.abs(j)<=2){c.className+=" nav"}Calendar._add_evs(c);c.calendar=o;c.navtype=j;c.innerHTML="<div unselectable='on'>"+F+"</div>";return c};g=Calendar.createElement("tr",A);var D=6;(this.isPopup)&&--D;(this.weekNumbers)&&++D;f("?",1,400).ttip=Calendar._TT.INFO;this.title=f("",D,300);this.title.className="title";if(this.isPopup){this.title.ttip=Calendar._TT.DRAG_TO_MOVE;this.title.style.cursor="move";f("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE}g=Calendar.createElement("tr",A);g.className="headrow";this._nav_py=f("&#x00ab;",1,-2);this._nav_py.ttip=Calendar._TT.PREV_YEAR;this._nav_pm=f("&#x2039;",1,-1);this._nav_pm.ttip=Calendar._TT.PREV_MONTH;this._nav_now=f(Calendar._TT.TODAY,this.weekNumbers?4:3,0);this._nav_now.ttip=Calendar._TT.GO_TODAY;this._nav_nm=f("&#x203a;",1,1);this._nav_nm.ttip=Calendar._TT.NEXT_MONTH;this._nav_ny=f("&#x00bb;",1,2);this._nav_ny.ttip=Calendar._TT.NEXT_YEAR;g=Calendar.createElement("tr",A);g.className="daynames";if(this.weekNumbers){c=Calendar.createElement("td",g);c.className="name wn";c.innerHTML=Calendar._TT.WK}for(var w=7;w>0;--w){c=Calendar.createElement("td",g);if(!w){c.navtype=100;c.calendar=this;Calendar._add_evs(c)}}this.firstdayname=(this.weekNumbers)?g.firstChild.nextSibling:g.firstChild;this._displayWeekdays();var a=Calendar.createElement("tbody",B);this.tbody=a;for(w=6;w>0;--w){g=Calendar.createElement("tr",a);if(this.weekNumbers){c=Calendar.createElement("td",g)}for(var s=7;s>0;--s){c=Calendar.createElement("td",g);c.calendar=this;Calendar._add_evs(c)}}if(this.showsTime){g=Calendar.createElement("tr",a);g.className="time";c=Calendar.createElement("td",g);c.className="time";c.colSpan=7;c.innerHTML=getTimeTableHTML(this.date.getHours(),this.date.getMinutes(),this.params.minuteStep,this.params.hideOkClearButton);g=Calendar.createElement("tr",a);g.className="time";g.style.display="none";c=Calendar.createElement("td",g);c.className="time";c.colSpan=2;c.innerHTML=Calendar._TT.TIME||"&nbsp;";c=Calendar.createElement("td",g);c.className="time";c.colSpan=this.weekNumbers?4:3;(function(){function G(Q,S,R,W){var M=Calendar.createElement("span",c);M.className=Q;M.innerHTML=S;M.calendar=o;M.ttip=Calendar._TT.TIME_PART;M.navtype=50;M._range=[];if(typeof R!="number"){M._range=R}else{for(var P=R;P<=W;++P){var H;if(P<10&&W>=10){H="0"+P}else{H=""+P}M._range[M._range.length]=H}}Calendar._add_evs(M);return M}var N=o.date.getHours();var j=o.date.getMinutes();var O=!o.time24;var E=(N>12);if(O&&E){N-=12}var J=G("hour",N,O?1:0,O?12:23);var I=Calendar.createElement("span",c);I.innerHTML=":";I.className="colon";var F=G("minute",j,0,59);var K=null;c=Calendar.createElement("td",g);c.className="time";c.colSpan=2;if(O){K=G("ampm",E?"pm":"am",["am","pm"])}else{c.innerHTML="&nbsp;"}o.onSetTime=function(){var M,H=this.date.getHours(),P=this.date.getMinutes();if(O){M=(H>=12);if(M){H-=12}if(H==0){H=12}K.innerHTML=M?"pm":"am"}J.innerHTML=(H<10)?("0"+H):H;F.innerHTML=(P<10)?("0"+P):P};o.onUpdateTime=function(){var M=this.date;var P=parseInt(J.innerHTML,10);if(O){if(/pm/i.test(K.innerHTML)&&P<12){P+=12}else{if(/am/i.test(K.innerHTML)&&P==12){P=0}}}var Q=M.getDate();var H=M.getMonth();var R=M.getFullYear();M.setHours(P);M.setMinutes(parseInt(F.innerHTML,10));M.setFullYear(R);M.setMonth(H);M.setDate(Q);this.dateClicked=false;this.callHandler()}})()}else{this.onSetTime=this.onUpdateTime=function(){}}var m=Calendar.createElement("tfoot",B);if(this.isClear){var z=m.insertRow(0);z.className="footrow ttip";var b=z.insertCell(0);b.colSpan=this.weekNumbers?8:7;var u=Calendar.createElement("table",b);u.width="100%";g=u.insertRow(0);c=f(Calendar._TT.SEL_DATE,1,300);c.className="ttip1";if(self!=top){c.style.width="95px"}else{c.style.width="178px"}c.style.color="#999";if(this.isPopup){c.ttip=Calendar._TT.DRAG_TO_MOVE;c.style.cursor="move"}this.tooltips=c;if(!this.params.hideOkClearButton){var k=g.insertCell(1);k.nowrap="nowrap";k.width="50";var y=Calendar.createElement("span",k);y.innerHTML=getCalendarI18n("calendar_ok");y.href="javascript:void(0)";y.className="common_button common_button_emphasize margin_r_5";Calendar.addEvent(y,"click",function(E){var j=Calendar.getElement(E);var F=j.calendar;F.callHandler();F.callCloseHandler()});y.calendar=o;if(this.clearBlank){k=g.insertCell(2);k.nowrap="nowrap";k.width="50";y=Calendar.createElement("span",k);y.innerHTML=getCalendarI18n("calendar_none");y.className="common_button common_button_gray";y.href="javascript:void(0)";Calendar._add_clear_evs(y);y.calendar=o}}}else{g=Calendar.createElement("tr",m);g.className="footrow";c=f(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300);c.className="ttip";if(this.isPopup){c.ttip=Calendar._TT.DRAG_TO_MOVE;c.style.cursor="move"}this.tooltips=c}q=Calendar.createElement("div",this.element);this.monthsCombo=q;q.className="combo";for(w=0;w<Calendar._MN.length;++w){var x=Calendar.createElement("div");x.className=Calendar.is_ie?"label-IEfix":"label";x.month=w;x.innerHTML=Calendar._SMN[w];q.appendChild(x)}q=Calendar.createElement("div",this.element);this.yearsCombo=q;q.className="combo";for(w=12;w>0;--w){var t=Calendar.createElement("div");t.className=Calendar.is_ie?"label-IEfix":"label";q.appendChild(t)}if(this.isPopup){this.iframe=Calendar.createElement("iframe");this.iframe.className="calendar_iframe";if(!this.showsTime){this.iframe.style.display="none";this.iframe.style.height="170px"}l.appendChild(this.iframe)}this._init(this.firstDayOfWeek,this.date);l.appendChild(this.element)};Calendar._add_clear_evs=function(el){with(Calendar){addEvent(el,"click",callClearHandler)}};Calendar.callClearHandler=function(ev){with(Calendar){var el=getElement(ev);if(el.calendar){if(el.calendar.params.inputField){el.calendar.params.inputField.value="";el.calendar.params.inputField.focus();if($){$(el.calendar.params.inputField).trigger("change")}}else{if(el.calendar.params.displayArea){if(el.calendar.params.displayArea.nodeName&&el.calendar.params.displayArea.nodeName=="INPUT"){el.calendar.params.displayArea.value="";el.calendar.params.displayArea.focus()}}}el.calendar.callCloseHandler();if(typeof(el.calendar.onClear)=="function"){el.calendar.onClear()}}}};Calendar._keyEvent=function(m){var a=window._dynarch_popupCalendar;if(!a||a.multiple){return false}(Calendar.is_ie)&&(m=window.event);var k=(Calendar.is_ie||m.type=="keypress"),n=m.keyCode;var j=Calendar.getElement(m);if(j&&(j.id=="inputYear")){var o=document.getElementById("inputYear");return true}if(m.ctrlKey){switch(n){case 37:k&&Calendar.cellClick(a._nav_pm);break;case 38:k&&Calendar.cellClick(a._nav_py);break;case 39:k&&Calendar.cellClick(a._nav_nm);break;case 40:k&&Calendar.cellClick(a._nav_ny);break;default:return false}}else{switch(n){case 32:Calendar.cellClick(a._nav_now);break;case 27:k&&a.callCloseHandler();break;case 37:case 38:case 39:case 40:if(k){var e,q,l,g,c,d;e=n==37||n==38;d=(n==37||n==39)?1:7;function b(){c=a.currentDateEl;var r=c.pos;q=r&15;l=r>>4;g=a.ar_days[l][q]}b();function f(){var r=new Date(a.date);r.setDate(r.getDate()-d);a.setDate(r)}function h(){var r=new Date(a.date);r.setDate(r.getDate()+d);a.setDate(r)}while(1){switch(n){case 37:if(--q>=0){g=a.ar_days[l][q]}else{q=6;n=38;continue}break;case 38:if(--l>=0){g=a.ar_days[l][q]}else{f();b()}break;case 39:if(++q<7){g=a.ar_days[l][q]}else{q=0;n=40;continue}break;case 40:if(++l<a.ar_days.length){g=a.ar_days[l][q]}else{h();b()}break}break}if(g){if(!g.disabled){Calendar.cellClick(g)}else{if(e){f()}else{h()}}}}break;case 13:if(k){Calendar.cellClick(a.currentDateEl,m)}break;default:return false}}return Calendar.stopEvent(m)};Calendar.prototype._init=function(m,y){initCalendar();var x=new Date(),r=x.getFullYear(),A=x.getMonth(),b=x.getDate();this.table.style.visibility="hidden";var h=y.getFullYear();if(h<this.minYear){h=this.minYear;y.setFullYear(h)}else{if(h>this.maxYear){h=this.maxYear;y.setFullYear(h)}}this.firstDayOfWeek=m;this.date=new Date(y);var z=y.getMonth();var D=y.getDate();var B=y.getMonthDays();y.setDate(1);var s=(y.getDay()-this.firstDayOfWeek)%7;if(s<0){s+=7}y.setDate(-s);y.setDate(y.getDate()+1);var e=this.tbody.firstChild;var k=Calendar._SMN[z];var o=this.ar_days=new Array();var n=Calendar._TT.WEEKEND;var d=this.multiple?(this.datesCells={}):null;for(var u=0;u<6;++u,e=e.nextSibling){var a=e.firstChild;if(this.weekNumbers){a.className="day wn";a.innerHTML=y.getWeekNumber();a=a.nextSibling}e.className="daysrow";var w=false,f,c=o[u]=[];for(var t=0;t<7;++t,a=a.nextSibling,y.setDate(f+1)){f=y.getDate();var g=y.getDay();a.className="day";a.pos=u<<4|t;c[t]=a;var l=(y.getMonth()==z);if(!l){if(this.showsOtherMonths){a.className+=" othermonth";a.otherMonth=true}else{a.className="emptycell";a.innerHTML="&nbsp;";a.disabled=true;continue}}else{a.otherMonth=false;w=true}a.disabled=false;a.innerHTML=this.getDateText?this.getDateText(y,f):f;if(d){d[y.print("%Y%m%d")]=a}if(this.getDateStatus){var q=this.getDateStatus(y,h,z,f);if(q===true){a.className+=" disabled";a.disabled=true}else{if(/disabled/i.test(q)){a.disabled=true}a.className+=" "+q}}if(!a.disabled){a.caldate=new Date(y);a.ttip="_";if(!this.multiple&&l&&f==D&&this.hiliteToday){a.className+=" selected";this.currentDateEl=a}if(y.getFullYear()==r&&y.getMonth()==A&&f==b){a.className+=" today";a.ttip+=Calendar._TT.PART_TODAY}if(n.indexOf(g.toString())!=-1){a.className+=a.otherMonth?" oweekend":" weekend"}}}if(!(w||this.showsOtherMonths)){e.className="emptyrow"}}this.title.innerHTML=Calendar._MN[z]+", "+h;this.onSetTime();this.table.style.visibility="visible";this._initMultipleDates()};Calendar.prototype._initMultipleDates=function(){if(this.multiple){for(var b in this.multiple){var a=this.datesCells[b];var c=this.multiple[b];if(!c){continue}if(a){a.className+=" selected"}}}};Calendar.prototype._toggleMultipleDate=function(b){if(this.multiple){var c=b.print("%Y%m%d");var a=this.datesCells[c];if(a){var e=this.multiple[c];if(!e){Calendar.addClass(a,"selected");this.multiple[c]=b}else{Calendar.removeClass(a,"selected");delete this.multiple[c]}}}};Calendar.prototype.setClear=function(a){this.isClear=a};Calendar.prototype.setClearBlank=function(a){this.clearBlank=a};Calendar.prototype.setHeight=function(a){this.height=a};Calendar.prototype.setDateToolTipHandler=function(a){this.getDateToolTip=a};Calendar.prototype.setDate=function(b){if(this.dateFormat=="%Y-%m"){var c=SeeUtils.getByClass(document,"calendar_month_container_body");var d=SeeUtils.getElByTag(c[0],"a");var e=b.getMonth();for(var a=0;a<d.length;a++){SeeUtils.removeClass(d[a],"current");if(e===a){SeeUtils.addClass(d[a],"current")}SeeUtils.setElVal("inputYear",b.getFullYear())}}else{if(!b.equalsTo(this.date)){this._init(this.firstDayOfWeek,b)}}};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)};Calendar.prototype.setFirstDayOfWeek=function(a){this._init(a,this.date);this._displayWeekdays()};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(a){this.getDateStatus=a};Calendar.prototype.setRange=function(b,c){this.minYear=b;this.maxYear=c};Calendar.prototype.callHandler=function(){if(this.onSelected){this.onSelected(this,this.date.print(this.dateFormat))}};Calendar.prototype.closeIdx=0;Calendar.prototype.callCloseHandler=function(){this.closeIdx++;if(this.closeIdx>=2&&this.params.cache==false){return}if(this.onClose){this.onClose(this)}this.hideShowCovered();if(this.clearCloseIdx){this.clearCloseIdx()}};Calendar.prototype.destroy=function(){var a=this.element.parentNode;a.removeChild(this.element);if(this.isPopup){a.removeChild(this.iframe)}Calendar._C=null;window._dynarch_popupCalendar=null};Calendar.prototype.reparent=function(b){var a=this.element;a.parentNode.removeChild(a);b.appendChild(a)};Calendar._checkCalendar=function(b){var c=window._dynarch_popupCalendar;if(!c){return false}var a=Calendar.is_ie?Calendar.getElement(b):Calendar.getTargetElement(b);for(;a!=null&&a!=c.element;a=a.parentNode){}if(a==null){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(b)}};Calendar.prototype.show=function(){var r=this.table.getElementsByTagName("tr");for(var f=r.length;f>0;){var q=r[--f];Calendar.removeClass(q,"rowhilite");var o=q.getElementsByTagName("td");for(var d=o.length;d>0;){var n=o[--d];Calendar.removeClass(n,"hilite");Calendar.removeClass(n,"active")}}this.element.style.display="block";this.hidden=false;try{hideOfficeObj()}catch(h){}if(this.isPopup){window._dynarch_popupCalendar=this;Calendar.addEvent(document,"keydown",Calendar._keyEvent);Calendar.addEvent(document,"keypress",Calendar._keyEvent);Calendar.addEvent(document,"mousedown",Calendar._checkCalendar);this.iframe.style.display="block"}this.hideShowCovered();var l=false;var k=document.getElementById("timeMinutes");if(k){var b=this.date.getMinutes();var a=this.params.minuteStep;if(a){if(b%a!=0){b=b+a-(b%a)}if(b==60){b=0;l=true}}this.date.setMinutes(b);if(b<10){b="0"+b}k.value=b}var c=this.date.getHours();if(l){this.date.setHours(++c)}var g=document.getElementById("timeHours");if(g){if(c<10){c="0"+c}g.value=c}};Calendar.prototype.hide=function(){if(this.isPopup){Calendar.removeEvent(document,"keydown",Calendar._keyEvent);Calendar.removeEvent(document,"keypress",Calendar._keyEvent);Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)}this.element.style.display="none";try{showOfficeObj()}catch(a){}if(this.isPopup){this.iframe.style.display="none"}this.hidden=true;this.hideShowCovered()};Calendar.prototype.showAt=function(a,d){if(isNaN(d)){d=0}if(isNaN(a)){a=0}var c=this.element.style;c.left=a+"px";c.top=d>0?d+"px":"0px";this.show();if(this.isPopup){this.iframe.style.left=a+"px";this.iframe.style.top=d+"px";this.iframe.style.display="block";var b=214;if(SeeUtils.getElWidth(this.element)<b){SeeUtils.setElWidth(this.iframe,b+20);SeeUtils.setElWidth(this.element,b);SeeUtils.setElHeight(this.iframe,SeeUtils.getElHeight(this.element)+20)}else{SeeUtils.setElWidth(this.iframe,SeeUtils.getElWidth(this.element)+20);SeeUtils.setElHeight(this.iframe,SeeUtils.getElHeight(this.element)+20)}}};Calendar.prototype.showAtElement=function(c,d){var a=this;var e=Calendar.getAbsolutePos(c);if(!d||typeof d!="string"){this.showAt(e.x,e.y+c.offsetHeight);return true}function b(k){if(k.x<0){k.x=0}if(k.y<0){k.y=0}var l=document.createElement("div");var j=l.style;j.position="absolute";j.right=j.bottom=j.width=j.height="0px";document.body.appendChild(l);var g=Calendar.getAbsolutePos(l);document.body.removeChild(l);if(Calendar.is_ie){g.y+=document.body.scrollTop;g.x+=document.body.scrollLeft;g.x+=document.documentElement.scrollLeft;var h=parseInt(document.documentElement.scrollTop);if(h&&h>0){g.y+=h}}else{g.y+=window.scrollY;g.x+=window.scrollX}var f=k.x+k.width-g.x;if(f>0){k.x-=f}f=k.y+k.height-g.y;if(f>0){k.y-=f}}this.element.style.display="block";Calendar.continuation_for_the_fucking_khtml_browser=function(){var f=a.element.offsetWidth;var j=a.element.offsetHeight;a.element.style.display="none";var g=d.substr(0,1);var k="l";if(d.length>1){k=d.substr(1,1)}switch(g){case"T":e.y-=j;break;case"B":e.y+=c.offsetHeight;break;case"C":e.y+=(c.offsetHeight-j)/2;break;case"t":e.y+=c.offsetHeight-j;break;case"b":break}switch(k){case"L":e.x-=f;break;case"R":e.x+=c.offsetWidth;break;case"C":e.x+=(c.offsetWidth-f)/2;break;case"l":e.x+=c.offsetWidth-f;break;case"r":break}e.width=f;e.height=j+40;a.monthsCombo.style.display="none";b(e);a.showAt(e.x,e.y)};if(Calendar.is_khtml){setTimeout("Calendar.continuation_for_the_fucking_khtml_browser()",10)}else{Calendar.continuation_for_the_fucking_khtml_browser()}};Calendar.prototype.setDateFormat=function(a){this.dateFormat=a};Calendar.prototype.getDateFormat=function(){return this.dateFormat};Calendar.prototype.setTtDateFormat=function(a){this.ttDateFormat=a};Calendar.prototype.parseDate=function(b,a){if(!a){a=this.dateFormat}this.setDate(Date.parseDate(b,a))};Calendar.prototype.hideShowCovered=function(){if(Calendar.is_ie||Calendar.is_opera){return}if(!Calendar.is_ie&&!Calendar.is_opera){return}function b(t){var k=t.style.visibility;if(!k){if(document.defaultView&&typeof(document.defaultView.getComputedStyle)=="function"){if(!Calendar.is_khtml){k=document.defaultView.getComputedStyle(t,"").getPropertyValue("visibility")}else{k=""}}else{if(t.currentStyle){k=t.currentStyle.visibility}else{k=""}}}return k}var s=new Array("applet","iframe");var c=this.element;var a=Calendar.getAbsolutePos(c);var f=a.x;var d=c.offsetWidth+f;var r=a.y;var q=c.offsetHeight+r;for(var h=s.length;h>0;){var g=document.getElementsByTagName(s[--h]);var e=null;for(var l=g.length;l>0;){e=g[--l];a=Calendar.getAbsolutePos(e);var o=a.x;var n=e.offsetWidth+o;var m=a.y;var j=e.offsetHeight+m;if(this.hidden||(o>d)||(n<f)||(m>q)||(j<r)){if(!e.__msh_save_visibility){e.__msh_save_visibility=b(e)}e.style.visibility=e.__msh_save_visibility}else{if(!e.__msh_save_visibility){e.__msh_save_visibility=b(e)}if(e.name=="timeHours"||e.name=="timeMinutes"||e.className=="cke_wysiwyg_frame cke_reset"||e.id=="mainbodyFrame"||e.id=="fckedit___Frame"||e.id=="officeEditorFrame"||e.className=="calendar_iframe"||e.id=="content"||SeeUtils.hasClass(e,"calendar_show_iframe")){continue}e.style.visibility="hidden"}}}};Calendar.prototype._displayWeekdays=function(){initCalendar();var b=this.firstDayOfWeek;var a=this.firstdayname;var d=Calendar._TT.WEEKEND;for(var c=0;c<7;++c){a.className="day name";var e=(c+b)%7;if(c){a.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[e]);a.navtype=100;a.calendar=this;a.fdow=e;Calendar._add_evs(a)}if(d.indexOf(e.toString())!=-1){Calendar.addClass(a,"weekend")}a.innerHTML=Calendar._SDN[(c+b)%7];a=a.nextSibling}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none";this.yearsCombo.style.display="none"};Calendar.prototype._dragStart=function(ev){if(this.dragging){return}this.dragging=true;var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft}else{posY=ev.clientY+window.scrollY;posX=ev.clientX+window.scrollX}var st=this.element.style;this.xOffs=posX-parseInt(st.left);this.yOffs=posY-parseInt(st.top);with(Calendar){addEvent(document,"mousemove",calDragIt);addEvent(document,"mouseup",calDragEnd)}};Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31);Date.SECOND=1000;Date.MINUTE=60*Date.SECOND;Date.HOUR=60*Date.MINUTE;Date.DAY=24*Date.HOUR;Date.WEEK=7*Date.DAY;Date.parseDate=function(l,c){initCalendar();var n=new Date();var o=0;var e=-1;var k=0;var r=l.split(/\W+/);var q=c.match(/%./g);var h=0,g=0;var s=0;var f=0;for(h=0;h<r.length;++h){if(!r[h]){continue}switch(q[h]){case"%d":case"%e":k=parseInt(r[h],10);break;case"%m":e=parseInt(r[h],10)-1;break;case"%Y":case"%y":o=parseInt(r[h],10);(o<100)&&(o+=(o>29)?1900:2000);break;case"%b":case"%B":for(g=0;g<12;++g){if(Calendar._MN[g].substr(0,r[h].length).toLowerCase()==r[h].toLowerCase()){e=g;break}}break;case"%H":case"%I":case"%k":case"%l":s=parseInt(r[h],10);break;case"%P":case"%p":if(/pm/i.test(r[h])&&s<12){s+=12}else{if(/am/i.test(r[h])&&s>=12){s-=12}}break;case"%M":f=parseInt(r[h],10);break}}if(isNaN(o)){o=n.getFullYear()}if(isNaN(e)){e=n.getMonth()}if(isNaN(k)){k=n.getDate()}if(isNaN(s)){s=n.getHours()}if(isNaN(f)){f=n.getMinutes()}if(o!=0&&e!=-1&&"%Y-%m"==c){return new Date(o,e,1,0,0,0)}if(o!=0&&e!=-1&&k!=0){return new Date(o,e,k,s,f,0)}o=0;e=-1;k=0;for(h=0;h<r.length;++h){if(r[h].search(/[a-zA-Z]+/)!=-1){var u=-1;for(g=0;g<12;++g){if(Calendar._MN[g].substr(0,r[h].length).toLowerCase()==r[h].toLowerCase()){u=g;break}}if(u!=-1){if(e!=-1){k=e+1}e=u}}else{if(parseInt(r[h],10)<=12&&e==-1){e=r[h]-1}else{if(parseInt(r[h],10)>31&&o==0){o=parseInt(r[h],10);(o<100)&&(o+=(o>29)?1900:2000)}else{if(k==0){k=r[h]}}}}}if(o==0){o=n.getFullYear()}if(e!=-1&&k!=0){return new Date(o,e,k,s,f,0)}return n};Date.prototype.getMonthDays=function(b){var a=this.getFullYear();if(typeof b=="undefined"){b=this.getMonth()}if(((0==(a%4))&&((0!=(a%100))||(0==(a%400))))&&b==1){return 29}else{return Date._MD[b]}};Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var c=new Date(this.getFullYear(),0,0,0,0,0);var b=a-c;return Math.floor(b/Date.DAY)};Date.prototype.getWeekNumber=function(){var c=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var b=c.getDay();c.setDate(c.getDate()-(b+6)%7+3);var a=c.valueOf();c.setMonth(0);c.setDate(4);return Math.round((a-c.valueOf())/(7*86400000))+1};Date.prototype.equalsTo=function(a){return((this.getFullYear()==a.getFullYear())&&(this.getMonth()==a.getMonth())&&(this.getDate()==a.getDate())&&(this.getHours()==a.getHours())&&(this.getMinutes()==a.getMinutes()))};Date.prototype.setDateOnly=function(a){var b=new Date(a);this.setDate(1);this.setFullYear(b.getFullYear());this.setMonth(b.getMonth());this.setDate(b.getDate())};Date.prototype.print=function(l){initCalendar();var b=this.getMonth();var k=this.getDate();var n=this.getFullYear();var q=this.getWeekNumber();var r=this.getDay();var z={};var t=this.getHours();var c=(t>=12);var h=(c)?(t-12):t;var x=this.getDayOfYear();if(h==0){h=12}var e=this.getMinutes();var j=this.getSeconds();z["%a"]=Calendar._SDN[r];z["%A"]=Calendar._DN[r];z["%b"]=Calendar._SMN[b];z["%B"]=Calendar._MN[b];z["%C"]=1+Math.floor(n/100);z["%d"]=(k<10)?("0"+k):k;z["%e"]=k;z["%H"]=(t<10)?("0"+t):t;z["%I"]=(h<10)?("0"+h):h;z["%j"]=(x<100)?((x<10)?("00"+x):("0"+x)):x;z["%k"]=t;z["%l"]=h;z["%m"]=(b<9)?("0"+(1+b)):(1+b);z["%M"]=(e<10)?("0"+e):e;z["%n"]="\n";z["%p"]=c?"PM":"AM";z["%P"]=c?"pm":"am";z["%s"]=Math.floor(this.getTime()/1000);z["%S"]=(j<10)?("0"+j):j;z["%t"]="\t";z["%U"]=z["%W"]=z["%V"]=(q<10)?("0"+q):q;z["%u"]=r+1;z["%w"]=r;z["%y"]=(""+n).substr(2,2);z["%Y"]=n;z["%%"]="%";var u=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml){return l.replace(u,function(a){return z[a]||a})}var o=l.match(u);for(var g=0;g<o.length;g++){var f=z[o[g]];if(f){u=new RegExp(o[g],"g");l=l.replace(u,f)}}return l};window._dynarch_popupCalendar=null;Calendar.increaseYearInput=function(b){var a=document.getElementById("inputYear");if(a){a.value=parseInt(a.value)+b}};function getTimeTableHTML(g,l,e,h){var k;var c;if(!e){e=10}var b=new Date();if(!g&&(g!=0)){g=b.getHours()}if(!l&&(l!=0)){l=b.getMinutes()}if(document.getElementById("timeHours")){document.getElementById("timeHours").parentElement.innerHTML=""}if(document.getElementById("timeMinutes")){document.getElementById("timeMinutes").parentElement.innerHTML=""}var f=0;var d="";var j="";var m="";var a="cal.callHandler();";if(!h){a=""}m+='<table border="0" cellspacing="0" cellpadding="0">';m+=" <tr>";m+=' <td width=40 colspan="2" align="left">'+Calendar._TT.TIME+"</td>";m+=" <td>";m+=' <select name="timeHours" id="timeHours" style="width: 50px; height:20px; visibility: visible" onchange="var cal = Calendar.getCalendar(this);cal.date.setHours(this.value);'+a+'">';for(f=0;f<24;f++){d=(f==g||f==c)?" selected":"";m+='<option value="'+(f<10?"0"+f:f)+'"'+d+">"+(f<10?"0"+f:f)+"</option>"}m+=" </select>";m+=" </td>";m+=" <td width=30>&nbsp;"+Calendar._TT.HOUR+"&nbsp;</td>";m+=" <td>";m+=" <select name='timeMinutes' id='timeMinutes' style='width: 50px; height:20px; visibility: visible' onchange='var cal = Calendar.getCalendar(this);cal.date.setMinutes(this.value);"+a+"'>";for(f=0;f<60;f+=e){j=(f==l||f==k)?" selected":"";m+='<option value="'+(f<10?"0"+f:f)+'"'+j+">"+(f<10?"0"+f:f)+"</option>"}m+=" </select>";m+=" </td>";m+=" <td>&nbsp;&nbsp;"+Calendar._TT.MINUTE+"</td>";m+=" </tr>";m+="</table>";return m}function getCalendarI18n(a){var b=getA8Top();if(b&&(typeof b.$!=="undefined")&&(typeof b.$.i18n!=="undefined")){return b.$.i18n(a)}else{return b.v3x.getMessage("V3XLang."+a)}}
/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function(bp,aW){var z,ay,q=bp.document,a3=bp.location,d=bp.navigator,bD=bp.jQuery,N=bp.$,aG=Array.prototype.push,br=Array.prototype.slice,a5=Array.prototype.indexOf,D=Object.prototype.toString,ae=Object.prototype.hasOwnProperty,a9=String.prototype.trim,b3=function(e,cm){return new b3.fn.init(e,cm,z)},bU=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,aj=/\S/,bi=/\s+/,G=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bL=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bC=/^[\],:{}\s]*$/,bF=/(?:^|:|,)(?:\s*\[)+/g,b0=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bn=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,cc=/^-ms-/,bh=/-([\da-z])/gi,S=function(e,cm){return(cm+"").toUpperCase()},a0=function(){if(q.addEventListener){q.removeEventListener("DOMContentLoaded",a0,false);b3.ready()}else{if(q.readyState==="complete"){q.detachEvent("onreadystatechange",a0);b3.ready()}}},ai={};b3.fn=b3.prototype={constructor:b3,init:function(e,cp,co){var cn,cq,cm,cr;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){cn=[null,e,null]}else{cn=bL.exec(e)}if(cn&&(cn[1]||!cp)){if(cn[1]){cp=cp instanceof b3?cp[0]:cp;cr=(cp&&cp.nodeType?cp.ownerDocument||cp:q);e=b3.parseHTML(cn[1],cr,true);if(a.test(cn[1])&&b3.isPlainObject(cp)){this.attr.call(e,cp,true)}return b3.merge(this,e)}else{cq=q.getElementById(cn[2]);if(cq&&cq.parentNode){if(cq.id!==cn[2]){return co.find(e)}this.length=1;this[0]=cq}this.context=q;this.selector=e;return this}}else{if(!cp||cp.jquery){return(cp||co).find(e)}else{return this.constructor(cp).find(e)}}}else{if(b3.isFunction(e)){return co.ready(e)}}if(e.selector!==aW){this.selector=e.selector;this.context=e.context}return b3.makeArray(e,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return br.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(cm,co,e){var cn=b3.merge(this.constructor(),cm);cn.prevObject=this;cn.context=this.context;if(co==="find"){cn.selector=this.selector+(this.selector?" ":"")+e}else{if(co){cn.selector=this.selector+"."+co+"("+e+")"}}return cn},each:function(cm,e){return b3.each(this,cm,e)},ready:function(e){b3.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(br.apply(this,arguments),"slice",br.call(arguments).join(","))},map:function(e){return this.pushStack(b3.map(this,function(cn,cm){return e.call(cn,cm,cn)}))},end:function(){return this.prevObject||this.constructor(null)},push:aG,sort:[].sort,splice:[].splice};b3.fn.init.prototype=b3.fn;b3.extend=b3.fn.extend=function(){var cu,cn,e,cm,cr,cs,cq=arguments[0]||{},cp=1,co=arguments.length,ct=false;if(typeof cq==="boolean"){ct=cq;cq=arguments[1]||{};cp=2}if(typeof cq!=="object"&&!b3.isFunction(cq)){cq={}}if(co===cp){cq=this;--cp}for(;cp<co;cp++){if((cu=arguments[cp])!=null){for(cn in cu){e=cq[cn];cm=cu[cn];if(cq===cm){continue}if(ct&&cm&&(b3.isPlainObject(cm)||(cr=b3.isArray(cm)))){if(cr){cr=false;cs=e&&b3.isArray(e)?e:[]}else{cs=e&&b3.isPlainObject(e)?e:{}}cq[cn]=b3.extend(ct,cs,cm)}else{if(cm!==aW){cq[cn]=cm}}}}}return cq};b3.extend({noConflict:function(e){if(bp.$===b3){bp.$=N}if(e&&bp.jQuery===b3){bp.jQuery=bD}return b3},isReady:false,readyWait:1,holdReady:function(e){if(e){b3.readyWait++}else{b3.ready(true)}},ready:function(e){if(e===true?--b3.readyWait:b3.isReady){return}if(!q.body){return setTimeout(b3.ready,1)}b3.isReady=true;if(e!==true&&--b3.readyWait>0){return}ay.resolveWith(q,[b3]);if(b3.fn.trigger){b3(q).trigger("ready").off("ready")}},isFunction:function(e){return b3.type(e)==="function"},isArray:Array.isArray||function(e){return b3.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?"null":ai[D.call(e)]||"object"},isPlainObject:function(co){if(!co||b3.type(co)!=="object"||co.nodeType||b3.isWindow(co)){return false}try{if(co.constructor&&!ae.call(co,"constructor")&&!ae.call(co.constructor.prototype,"isPrototypeOf")){return false}}catch(cn){return false}var cm;for(cm in co){}return cm===aW||ae.call(co,cm)},isEmptyObject:function(cm){var e;for(e in cm){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(co,cn,e){var cm;if(!co||typeof co!=="string"){return null}if(typeof cn==="boolean"){e=cn;cn=0}cn=cn||q;if((cm=a.exec(co))){return[cn.createElement(cm[1])]}cm=b3.buildFragment([co],cn,e?null:[]);return b3.merge([],(cm.cacheable?b3.clone(cm.fragment):cm.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=b3.trim(e);if(bp.JSON&&bp.JSON.parse){return bp.JSON.parse(e)}if(bC.test(e.replace(b0,"@").replace(bn,"]").replace(bF,""))){return(new Function("return "+e))()}b3.error("Invalid JSON: "+e)},parseXML:function(co){var cm,cn;if(!co||typeof co!=="string"){return null}try{if(bp.DOMParser){cn=new DOMParser();cm=cn.parseFromString(co,"text/xml")}else{cm=new ActiveXObject("Microsoft.XMLDOM");cm.async="false";cm.loadXML(co)}}catch(cp){cm=aW}if(!cm||!cm.documentElement||cm.getElementsByTagName("parsererror").length){b3.error("Invalid XML: "+co)}return cm},noop:function(){},globalEval:function(e){if(e&&aj.test(e)){(bp.execScript||function(cm){bp["eval"].call(bp,cm)})(e)}},camelCase:function(e){return e.replace(cc,"ms-").replace(bh,S)},nodeName:function(cm,e){return cm.nodeName&&cm.nodeName.toLowerCase()===e.toLowerCase()},each:function(cq,cr,cn){var cm,co=0,cp=cq.length,e=cp===aW||b3.isFunction(cq);if(cn){if(e){for(cm in cq){if(cr.apply(cq[cm],cn)===false){break}}}else{for(;co<cp;){if(cr.apply(cq[co++],cn)===false){break}}}}else{if(e){for(cm in cq){if(cr.call(cq[cm],cm,cq[cm])===false){break}}}else{for(;co<cp;){if(cr.call(cq[co],co,cq[co++])===false){break}}}}return cq},trim:a9&&!a9.call("\uFEFF\xA0")?function(e){return e==null?"":a9.call(e)}:function(e){return e==null?"":(e+"").replace(G,"")},makeArray:function(e,cn){var co,cm=cn||[];if(e!=null){co=b3.type(e);if(e.length==null||co==="string"||co==="function"||co==="regexp"||b3.isWindow(e)){aG.call(cm,e)}else{b3.merge(cm,e)}}return cm},inArray:function(co,cm,cn){var e;if(cm){if(a5){return a5.call(cm,co,cn)}e=cm.length;cn=cn?cn<0?Math.max(0,e+cn):cn:0;for(;cn<e;cn++){if(cn in cm&&cm[cn]===co){return cn}}}return -1},merge:function(cp,cn){var e=cn.length,co=cp.length,cm=0;if(typeof e==="number"){for(;cm<e;cm++){cp[co++]=cn[cm]}}else{while(cn[cm]!==aW){cp[co++]=cn[cm++]}}cp.length=co;return cp},grep:function(cm,cr,e){var cq,cn=[],co=0,cp=cm.length;e=!!e;for(;co<cp;co++){cq=!!cr(cm[co],co);if(e!==cq){cn.push(cm[co])}}return cn},map:function(e,cs,ct){var cq,cr,cp=[],cn=0,cm=e.length,co=e instanceof b3||cm!==aW&&typeof cm==="number"&&((cm>0&&e[0]&&e[cm-1])||cm===0||b3.isArray(e));if(co){for(;cn<cm;cn++){cq=cs(e[cn],cn,ct);if(cq!=null){cp[cp.length]=cq}}}else{for(cr in e){cq=cs(e[cr],cr,ct);if(cq!=null){cp[cp.length]=cq}}}return cp.concat.apply([],cp)},guid:1,proxy:function(cp,co){var cn,e,cm;if(typeof co==="string"){cn=cp[co];co=cp;cp=cn}if(!b3.isFunction(cp)){return aW}e=br.call(arguments,2);cm=function(){return cp.apply(co,e.concat(br.call(arguments)))};cm.guid=cp.guid=cp.guid||b3.guid++;return cm},access:function(e,cr,cu,cs,cp,cv,ct){var cn,cq=cu==null,co=0,cm=e.length;if(cu&&typeof cu==="object"){for(co in cu){b3.access(e,cr,co,cu[co],1,cv,cs)}cp=1}else{if(cs!==aW){cn=ct===aW&&b3.isFunction(cs);if(cq){if(cn){cn=cr;cr=function(cx,cw,cy){return cn.call(b3(cx),cy)}}else{cr.call(e,cs);cr=null}}if(cr){for(;co<cm;co++){cr(e[co],cu,cn?cs.call(e[co],co,cr(e[co],cu)):cs,ct)}}cp=1}}return cp?e:cq?cr.call(e):cm?cr(e[0],cu):cv},now:function(){return(new Date()).getTime()}});b3.ready.promise=function(cp){if(!ay){ay=b3.Deferred();if(q.readyState==="complete"){setTimeout(b3.ready,1)}else{if(q.addEventListener){q.addEventListener("DOMContentLoaded",a0,false);bp.addEventListener("load",b3.ready,false)}else{q.attachEvent("onreadystatechange",a0);bp.attachEvent("onload",b3.ready);var co=false;try{co=bp.frameElement==null&&q.documentElement}catch(cn){}if(co&&co.doScroll){(function cm(){if(!b3.isReady){try{co.doScroll("left")}catch(cq){return setTimeout(cm,50)}b3.ready()}})()}}}}return ay.promise(cp)};b3.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(cm,e){ai["[object "+e+"]"]=e.toLowerCase()});z=b3(q);var ch={};function am(cm){var e=ch[cm]={};b3.each(cm.split(bi),function(co,cn){e[cn]=true});return e}b3.Callbacks=function(cv){cv=typeof cv==="string"?(ch[cv]||am(cv)):b3.extend({},cv);var co,e,cp,cn,cq,cr,cs=[],ct=!cv.once&&[],cm=function(cw){co=cv.memory&&cw;e=true;cr=cn||0;cn=0;cq=cs.length;cp=true;for(;cs&&cr<cq;cr++){if(cs[cr].apply(cw[0],cw[1])===false&&cv.stopOnFalse){co=false;break}}cp=false;if(cs){if(ct){if(ct.length){cm(ct.shift())}}else{if(co){cs=[]}else{cu.disable()}}}},cu={add:function(){if(cs){var cx=cs.length;(function cw(cy){b3.each(cy,function(cA,cz){var cB=b3.type(cz);if(cB==="function"){if(!cv.unique||!cu.has(cz)){cs.push(cz)}}else{if(cz&&cz.length&&cB!=="string"){cw(cz)}}})})(arguments);if(cp){cq=cs.length}else{if(co){cn=cx;cm(co)}}}return this},remove:function(){if(cs){b3.each(arguments,function(cy,cw){var cx;while((cx=b3.inArray(cw,cs,cx))>-1){cs.splice(cx,1);if(cp){if(cx<=cq){cq--}if(cx<=cr){cr--}}}})}return this},has:function(cw){return b3.inArray(cw,cs)>-1},empty:function(){cs=[];return this},disable:function(){cs=ct=co=aW;return this},disabled:function(){return !cs},lock:function(){ct=aW;if(!co){cu.disable()}return this},locked:function(){return !ct},fireWith:function(cx,cw){cw=cw||[];cw=[cx,cw.slice?cw.slice():cw];if(cs&&(!e||ct)){if(cp){ct.push(cw)}else{cm(cw)}}return this},fire:function(){cu.fireWith(this,arguments);return this},fired:function(){return !!e}};return cu};b3.extend({Deferred:function(cn){var cm=[["resolve","done",b3.Callbacks("once memory"),"resolved"],["reject","fail",b3.Callbacks("once memory"),"rejected"],["notify","progress",b3.Callbacks("memory")]],co="pending",cp={state:function(){return co},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var cq=arguments;return b3.Deferred(function(cr){b3.each(cm,function(ct,cs){var cv=cs[0],cu=cq[ct];e[cs[1]](b3.isFunction(cu)?function(){var cw=cu.apply(this,arguments);if(cw&&b3.isFunction(cw.promise)){cw.promise().done(cr.resolve).fail(cr.reject).progress(cr.notify)}else{cr[cv+"With"](this===e?cr:this,[cw])}}:cr[cv])});cq=null}).promise()},promise:function(cq){return cq!=null?b3.extend(cq,cp):cp}},e={};cp.pipe=cp.then;b3.each(cm,function(cr,cq){var ct=cq[2],cs=cq[3];cp[cq[1]]=ct.add;if(cs){ct.add(function(){co=cs},cm[cr^1][2].disable,cm[2][2].lock)}e[cq[0]]=ct.fire;e[cq[0]+"With"]=ct.fireWith});cp.promise(e);if(cn){cn.call(e,e)}return e},when:function(cp){var cn=0,cr=br.call(arguments),e=cr.length,cm=e!==1||(cp&&b3.isFunction(cp.promise))?e:0,cu=cm===1?cp:b3.Deferred(),co=function(cw,cx,cv){return function(cy){cx[cw]=this;cv[cw]=arguments.length>1?br.call(arguments):cy;if(cv===ct){cu.notifyWith(cx,cv)}else{if(!(--cm)){cu.resolveWith(cx,cv)}}}},ct,cq,cs;if(e>1){ct=new Array(e);cq=new Array(e);cs=new Array(e);for(;cn<e;cn++){if(cr[cn]&&b3.isFunction(cr[cn].promise)){cr[cn].promise().done(co(cn,cs,cr)).fail(cu.reject).progress(co(cn,cq,ct))}else{--cm}}}if(!cm){cu.resolveWith(cs,cr)}return cu.promise()}});b3.support=(function(){var cy,cx,cv,cw,cp,cu,ct,cr,cq,co,cm,cn=q.createElement("div");cn.setAttribute("className","t");cn.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cx=cn.getElementsByTagName("*");cv=cn.getElementsByTagName("a")[0];if(!cx||!cv||!cx.length){return{}}cw=q.createElement("select");cp=cw.appendChild(q.createElement("option"));cu=cn.getElementsByTagName("input")[0];cv.style.cssText="top:1px;float:left;opacity:.5";cy={leadingWhitespace:(cn.firstChild.nodeType===3),tbody:!cn.getElementsByTagName("tbody").length,htmlSerialize:!!cn.getElementsByTagName("link").length,style:/top/.test(cv.getAttribute("style")),hrefNormalized:(cv.getAttribute("href")==="/a"),opacity:/^0.5/.test(cv.style.opacity),cssFloat:!!cv.style.cssFloat,checkOn:(cu.value==="on"),optSelected:cp.selected,getSetAttribute:cn.className!=="t",enctype:!!q.createElement("form").enctype,html5Clone:q.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(q.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};cu.checked=true;cy.noCloneChecked=cu.cloneNode(true).checked;cw.disabled=true;cy.optDisabled=!cp.disabled;try{delete cn.test}catch(cs){cy.deleteExpando=false}if(!cn.addEventListener&&cn.attachEvent&&cn.fireEvent){cn.attachEvent("onclick",cm=function(){cy.noCloneEvent=false});cn.cloneNode(true).fireEvent("onclick");cn.detachEvent("onclick",cm)}cu=q.createElement("input");cu.value="t";cu.setAttribute("type","radio");cy.radioValue=cu.value==="t";cu.setAttribute("checked","checked");cu.setAttribute("name","t");cn.appendChild(cu);ct=q.createDocumentFragment();ct.appendChild(cn.lastChild);cy.checkClone=ct.cloneNode(true).cloneNode(true).lastChild.checked;cy.appendChecked=cu.checked;ct.removeChild(cu);ct.appendChild(cn);if(cn.attachEvent){for(cq in {submit:true,change:true,focusin:true}){cr="on"+cq;co=(cr in cn);if(!co){cn.setAttribute(cr,"return;");co=(typeof cn[cr]==="function")}cy[cq+"Bubbles"]=co}}b3(function(){var cz,cD,cB,cC,cA="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=q.getElementsByTagName("body")[0];if(!e){return}cz=q.createElement("div");cz.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(cz,e.firstChild);cD=q.createElement("div");cz.appendChild(cD);cD.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cB=cD.getElementsByTagName("td");cB[0].style.cssText="padding:0;margin:0;border:0;display:none";co=(cB[0].offsetHeight===0);cB[0].style.display="";cB[1].style.display="none";cy.reliableHiddenOffsets=co&&(cB[0].offsetHeight===0);cD.innerHTML="";cD.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";cy.boxSizing=(cD.offsetWidth===4);cy.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(bp.getComputedStyle){cy.pixelPosition=(bp.getComputedStyle(cD,null)||{}).top!=="1%";cy.boxSizingReliable=(bp.getComputedStyle(cD,null)||{width:"4px"}).width==="4px";cC=q.createElement("div");cC.style.cssText=cD.style.cssText=cA;cC.style.marginRight=cC.style.width="0";cD.style.width="1px";cD.appendChild(cC);cy.reliableMarginRight=!parseFloat((bp.getComputedStyle(cC,null)||{}).marginRight)}if(typeof cD.style.zoom!=="undefined"){cD.innerHTML="";cD.style.cssText=cA+"width:1px;padding:1px;display:inline;zoom:1";cy.inlineBlockNeedsLayout=(cD.offsetWidth===3);cD.style.display="block";cD.style.overflow="visible";cD.innerHTML="<div></div>";cD.firstChild.style.width="5px";cy.shrinkWrapBlocks=(cD.offsetWidth!==3);cz.style.zoom=1}e.removeChild(cz);cz=cD=cB=cC=null});ct.removeChild(cn);cx=cv=cw=cp=cu=ct=cn=null;return cy})();var bQ=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,a6=/([A-Z])/g;b3.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(b3.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b3.cache[e[b3.expando]]:e[b3.expando];return !!e&&!W(e)},data:function(co,cm,cq,cp){if(!b3.acceptData(co)){return}var cr,ct,cu=b3.expando,cs=typeof cm==="string",cv=co.nodeType,e=cv?b3.cache:co,cn=cv?co[cu]:co[cu]&&cu;if((!cn||!e[cn]||(!cp&&!e[cn].data))&&cs&&cq===aW){return}if(!cn){if(cv){co[cu]=cn=b3.deletedIds.pop()||b3.guid++}else{cn=cu}}if(!e[cn]){e[cn]={};if(!cv){e[cn].toJSON=b3.noop}}if(typeof cm==="object"||typeof cm==="function"){if(cp){e[cn]=b3.extend(e[cn],cm)}else{e[cn].data=b3.extend(e[cn].data,cm)}}cr=e[cn];if(!cp){if(!cr.data){cr.data={}}cr=cr.data}if(cq!==aW){cr[b3.camelCase(cm)]=cq}if(cs){ct=cr[cm];if(ct==null){ct=cr[b3.camelCase(cm)]}}else{ct=cr}return ct},removeData:function(co,cm,cp){if(!b3.acceptData(co)){return}var cs,cr,cq,ct=co.nodeType,e=ct?b3.cache:co,cn=ct?co[b3.expando]:b3.expando;if(!e[cn]){return}if(cm){cs=cp?e[cn]:e[cn].data;if(cs){if(!b3.isArray(cm)){if(cm in cs){cm=[cm]}else{cm=b3.camelCase(cm);if(cm in cs){cm=[cm]}else{cm=cm.split(" ")}}}for(cr=0,cq=cm.length;cr<cq;cr++){delete cs[cm[cr]]}if(!(cp?W:b3.isEmptyObject)(cs)){return}}}if(!cp){delete e[cn].data;if(!W(e[cn])){return}}if(ct){b3.cleanData([co],true)}else{if(b3.support.deleteExpando||e!=e.window){delete e[cn]}else{e[cn]=null}}},_data:function(cm,e,cn){return b3.data(cm,e,cn,true)},acceptData:function(cm){var e=cm.nodeName&&b3.noData[cm.nodeName.toLowerCase()];return !e||e!==true&&cm.getAttribute("classid")===e}});b3.fn.extend({data:function(cu,ct){var cp,cm,cs,e,co,cn=this[0],cr=0,cq=null;if(cu===aW){if(this.length){cq=b3.data(cn);if(cn.nodeType===1&&!b3._data(cn,"parsedAttrs")){cs=cn.attributes;for(co=cs.length;cr<co;cr++){e=cs[cr].name;if(!e.indexOf("data-")){e=b3.camelCase(e.substring(5));bS(cn,e,cq[e])}}b3._data(cn,"parsedAttrs",true)}}return cq}if(typeof cu==="object"){return this.each(function(){b3.data(this,cu)})}cp=cu.split(".",2);cp[1]=cp[1]?"."+cp[1]:"";cm=cp[1]+"!";return b3.access(this,function(cv){if(cv===aW){cq=this.triggerHandler("getData"+cm,[cp[0]]);if(cq===aW&&cn){cq=b3.data(cn,cu);cq=bS(cn,cu,cq)}return cq===aW&&cp[1]?this.data(cp[0]):cq}cp[1]=cv;this.each(function(){var cw=b3(this);cw.triggerHandler("setData"+cm,cp);b3.data(this,cu,cv);cw.triggerHandler("changeData"+cm,cp)})},null,ct,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){b3.removeData(this,e)})}});function bS(co,cn,cp){if(cp===aW&&co.nodeType===1){var cm="data-"+cn.replace(a6,"-$1").toLowerCase();cp=co.getAttribute(cm);if(typeof cp==="string"){try{cp=cp==="true"?true:cp==="false"?false:cp==="null"?null:+cp+""===cp?+cp:bQ.test(cp)?b3.parseJSON(cp):cp}catch(cq){}b3.data(co,cn,cp)}else{cp=aW}}return cp}function W(cm){var e;for(e in cm){if(e==="data"&&b3.isEmptyObject(cm[e])){continue}if(e!=="toJSON"){return false}}return true}b3.extend({queue:function(cn,cm,co){var e;if(cn){cm=(cm||"fx")+"queue";e=b3._data(cn,cm);if(co){if(!e||b3.isArray(co)){e=b3._data(cn,cm,b3.makeArray(co))}else{e.push(co)}}return e||[]}},dequeue:function(cq,cp){cp=cp||"fx";var cm=b3.queue(cq,cp),cr=cm.length,co=cm.shift(),e=b3._queueHooks(cq,cp),cn=function(){b3.dequeue(cq,cp)};if(co==="inprogress"){co=cm.shift();cr--}if(co){if(cp==="fx"){cm.unshift("inprogress")}delete e.stop;co.call(cq,cn,e)}if(!cr&&e){e.empty.fire()}},_queueHooks:function(cn,cm){var e=cm+"queueHooks";return b3._data(cn,e)||b3._data(cn,e,{empty:b3.Callbacks("once memory").add(function(){b3.removeData(cn,cm+"queue",true);b3.removeData(cn,e,true)})})}});b3.fn.extend({queue:function(e,cm){var cn=2;if(typeof e!=="string"){cm=e;e="fx";cn--}if(arguments.length<cn){return b3.queue(this[0],e)}return cm===aW?this:this.each(function(){var co=b3.queue(this,e,cm);b3._queueHooks(this,e);if(e==="fx"&&co[0]!=="inprogress"){b3.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){b3.dequeue(this,e)})},delay:function(cm,e){cm=b3.fx?b3.fx.speeds[cm]||cm:cm;e=e||"fx";return this.queue(e,function(co,cn){var cp=setTimeout(co,cm);cn.stop=function(){clearTimeout(cp)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(cn,cr){var cm,co=1,cs=b3.Deferred(),cq=this,e=this.length,cp=function(){if(!(--co)){cs.resolveWith(cq,[cq])}};if(typeof cn!=="string"){cr=cn;cn=aW}cn=cn||"fx";while(e--){cm=b3._data(cq[e],cn+"queueHooks");if(cm&&cm.empty){co++;cm.empty.add(cp)}}cp();return cs.promise(cr)}});var bu,ci,o,b6=/[\t\r\n]/g,aB=/\r/g,k=/^(?:button|input)$/i,aV=/^(?:button|input|object|select|textarea)$/i,H=/^a(?:rea|)$/i,R=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,b8=b3.support.getSetAttribute;b3.fn.extend({attr:function(e,cm){return b3.access(this,b3.attr,e,cm,arguments.length>1)},removeAttr:function(e){return this.each(function(){b3.removeAttr(this,e)})},prop:function(e,cm){return b3.access(this,b3.prop,e,cm,arguments.length>1)},removeProp:function(e){e=b3.propFix[e]||e;return this.each(function(){try{this[e]=aW;delete this[e]}catch(cm){}})},addClass:function(cp){var cr,cn,cm,co,cq,cs,e;if(b3.isFunction(cp)){return this.each(function(ct){b3(this).addClass(cp.call(this,ct,this.className))})}if(cp&&typeof cp==="string"){cr=cp.split(bi);for(cn=0,cm=this.length;cn<cm;cn++){co=this[cn];if(co.nodeType===1){if(!co.className&&cr.length===1){co.className=cp}else{cq=" "+co.className+" ";for(cs=0,e=cr.length;cs<e;cs++){if(cq.indexOf(" "+cr[cs]+" ")<0){cq+=cr[cs]+" "}}co.className=b3.trim(cq)}}}}return this},removeClass:function(cr){var co,cp,cq,cs,cm,cn,e;if(b3.isFunction(cr)){return this.each(function(ct){b3(this).removeClass(cr.call(this,ct,this.className))})}if((cr&&typeof cr==="string")||cr===aW){co=(cr||"").split(bi);for(cn=0,e=this.length;cn<e;cn++){cq=this[cn];if(cq.nodeType===1&&cq.className){cp=(" "+cq.className+" ").replace(b6," ");for(cs=0,cm=co.length;cs<cm;cs++){while(cp.indexOf(" "+co[cs]+" ")>=0){cp=cp.replace(" "+co[cs]+" "," ")}}cq.className=cr?b3.trim(cp):""}}}return this},toggleClass:function(co,cm){var cn=typeof co,e=typeof cm==="boolean";if(b3.isFunction(co)){return this.each(function(cp){b3(this).toggleClass(co.call(this,cp,this.className,cm),cm)})}return this.each(function(){if(cn==="string"){var cr,cq=0,cp=b3(this),cs=cm,ct=co.split(bi);while((cr=ct[cq++])){cs=e?cs:!cp.hasClass(cr);cp[cs?"addClass":"removeClass"](cr)}}else{if(cn==="undefined"||cn==="boolean"){if(this.className){b3._data(this,"__className__",this.className)}this.className=this.className||co===false?"":b3._data(this,"__className__")||""}}})},hasClass:function(e){var co=" "+e+" ",cn=0,cm=this.length;for(;cn<cm;cn++){if(this[cn].nodeType===1&&(" "+this[cn].className+" ").replace(b6," ").indexOf(co)>=0){return true}}return false},val:function(co){var e,cm,cp,cn=this[0];if(!arguments.length){if(cn){e=b3.valHooks[cn.type]||b3.valHooks[cn.nodeName.toLowerCase()];if(e&&"get" in e&&(cm=e.get(cn,"value"))!==aW){return cm}cm=cn.value;return typeof cm==="string"?cm.replace(aB,""):cm==null?"":cm}return}cp=b3.isFunction(co);return this.each(function(cr){var cs,cq=b3(this);if(this.nodeType!==1){return}if(cp){cs=co.call(this,cr,cq.val())}else{cs=co}if(cs==null){cs=""}else{if(typeof cs==="number"){cs+=""}else{if(b3.isArray(cs)){cs=b3.map(cs,function(ct){return ct==null?"":ct+""})}}}e=b3.valHooks[this.type]||b3.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,cs,"value")===aW){this.value=cs}})}});b3.extend({valHooks:{option:{get:function(e){var cm=e.attributes.value;return !cm||cm.specified?e.value:e.text}},select:{get:function(e){var cr,cn,ct=e.options,cp=e.selectedIndex,co=e.type==="select-one"||cp<0,cs=co?null:[],cq=co?cp+1:ct.length,cm=cp<0?cq:co?cp:0;for(;cm<cq;cm++){cn=ct[cm];if((cn.selected||cm===cp)&&(b3.support.optDisabled?!cn.disabled:cn.getAttribute("disabled")===null)&&(!cn.parentNode.disabled||!b3.nodeName(cn.parentNode,"optgroup"))){cr=b3(cn).val();if(co){return cr}cs.push(cr)}}return cs},set:function(cm,cn){var e=b3.makeArray(cn);b3(cm).find("option").each(function(){this.selected=b3.inArray(b3(this).val(),e)>=0});if(!e.length){cm.selectedIndex=-1}return e}}},attrFn:{},attr:function(cr,co,cs,cq){var cn,e,cp,cm=cr.nodeType;if(!cr||cm===3||cm===8||cm===2){return}if(cq&&b3.isFunction(b3.fn[co])){return b3(cr)[co](cs)}if(typeof cr.getAttribute==="undefined"){return b3.prop(cr,co,cs)}cp=cm!==1||!b3.isXMLDoc(cr);if(cp){co=co.toLowerCase();e=b3.attrHooks[co]||(R.test(co)?ci:bu)}if(cs!==aW){if(cs===null){b3.removeAttr(cr,co);return}else{if(e&&"set" in e&&cp&&(cn=e.set(cr,cs,co))!==aW){return cn}else{cr.setAttribute(co,cs+"");return cs}}}else{if(e&&"get" in e&&cp&&(cn=e.get(cr,co))!==null){return cn}else{cn=cr.getAttribute(co);return cn===null?aW:cn}}},removeAttr:function(co,cq){var cp,cr,cm,e,cn=0;if(cq&&co.nodeType===1){cr=cq.split(bi);for(;cn<cr.length;cn++){cm=cr[cn];if(cm){cp=b3.propFix[cm]||cm;e=R.test(cm);if(!e){b3.attr(co,cm,"")}co.removeAttribute(b8?cm:cp);if(e&&cp in co){co[cp]=false}}}}},attrHooks:{type:{set:function(e,cm){if(k.test(e.nodeName)&&e.parentNode){b3.error("type property can't be changed")}else{if(!b3.support.radioValue&&cm==="radio"&&b3.nodeName(e,"input")){var cn=e.value;e.setAttribute("type",cm);if(cn){e.value=cn}return cm}}}},value:{get:function(cm,e){if(bu&&b3.nodeName(cm,"button")){return bu.get(cm,e)}return e in cm?cm.value:null},set:function(cm,cn,e){if(bu&&b3.nodeName(cm,"button")){return bu.set(cm,cn,e)}cm.value=cn}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(cq,co,cr){var cn,e,cp,cm=cq.nodeType;if(!cq||cm===3||cm===8||cm===2){return}cp=cm!==1||!b3.isXMLDoc(cq);if(cp){co=b3.propFix[co]||co;e=b3.propHooks[co]}if(cr!==aW){if(e&&"set" in e&&(cn=e.set(cq,cr,co))!==aW){return cn}else{return(cq[co]=cr)}}else{if(e&&"get" in e&&(cn=e.get(cq,co))!==null){return cn}else{return cq[co]}}},propHooks:{tabIndex:{get:function(cm){var e=cm.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aV.test(cm.nodeName)||H.test(cm.nodeName)&&cm.href?0:aW}}}});ci={get:function(cm,e){var co,cn=b3.prop(cm,e);return cn===true||typeof cn!=="boolean"&&(co=cm.getAttributeNode(e))&&co.nodeValue!==false?e.toLowerCase():aW},set:function(cm,co,e){var cn;if(co===false){b3.removeAttr(cm,e)}else{cn=b3.propFix[e]||e;if(cn in cm){cm[cn]=true}cm.setAttribute(e,e.toLowerCase())}return e}};if(!b8){o={name:true,id:true,coords:true};bu=b3.valHooks.button={get:function(cn,cm){var e;e=cn.getAttributeNode(cm);return e&&(o[cm]?e.value!=="":e.specified)?e.value:aW},set:function(cn,co,cm){var e=cn.getAttributeNode(cm);if(!e){e=q.createAttribute(cm);cn.setAttributeNode(e)}return(e.value=co+"")}};b3.each(["width","height"],function(cm,e){b3.attrHooks[e]=b3.extend(b3.attrHooks[e],{set:function(cn,co){if(co===""){cn.setAttribute(e,"auto");return co}}})});b3.attrHooks.contenteditable={get:bu.get,set:function(cm,cn,e){if(cn===""){cn="false"}bu.set(cm,cn,e)}}}if(!b3.support.hrefNormalized){b3.each(["href","src","width","height"],function(cm,e){b3.attrHooks[e]=b3.extend(b3.attrHooks[e],{get:function(co){var cn=co.getAttribute(e,2);return cn===null?aW:cn}})})}if(!b3.support.style){b3.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aW},set:function(e,cm){return(e.style.cssText=cm+"")}}}if(!b3.support.optSelected){b3.propHooks.selected=b3.extend(b3.propHooks.selected,{get:function(cm){var e=cm.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!b3.support.enctype){b3.propFix.enctype="encoding"}if(!b3.support.checkOn){b3.each(["radio","checkbox"],function(){b3.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}b3.each(["radio","checkbox"],function(){b3.valHooks[this]=b3.extend(b3.valHooks[this],{set:function(e,cm){if(b3.isArray(cm)){return(e.checked=b3.inArray(b3(e).val(),cm)>=0)}}})});var b1=/^(?:textarea|input|select)$/i,bO=/^([^\.]*|)(?:\.(.+)|)$/,bx=/(?:^|\s)hover(\.\S+|)\b/,bq=/^key/,b7=/^(?:mouse|contextmenu)|click/,bV=/^(?:focusinfocus|focusoutblur)$/,aL=function(e){return b3.event.special.hover?e:e.replace(bx,"mouseenter$1 mouseleave$1")};b3.event={add:function(co,cs,cz,cq,cp){var ct,cr,cA,cy,cx,cv,e,cw,cm,cn,cu;if(co.nodeType===3||co.nodeType===8||!cs||!cz||!(ct=b3._data(co))){return}if(cz.handler){cm=cz;cz=cm.handler;cp=cm.selector}if(!cz.guid){cz.guid=b3.guid++}cA=ct.events;if(!cA){ct.events=cA={}}cr=ct.handle;if(!cr){ct.handle=cr=function(cB){return typeof b3!=="undefined"&&(!cB||b3.event.triggered!==cB.type)?b3.event.dispatch.apply(cr.elem,arguments):aW};cr.elem=co}cs=b3.trim(aL(cs)).split(" ");for(cy=0;cy<cs.length;cy++){cx=bO.exec(cs[cy])||[];cv=cx[1];e=(cx[2]||"").split(".").sort();cu=b3.event.special[cv]||{};cv=(cp?cu.delegateType:cu.bindType)||cv;cu=b3.event.special[cv]||{};cw=b3.extend({type:cv,origType:cx[1],data:cq,handler:cz,guid:cz.guid,selector:cp,needsContext:cp&&b3.expr.match.needsContext.test(cp),namespace:e.join(".")},cm);cn=cA[cv];if(!cn){cn=cA[cv]=[];cn.delegateCount=0;if(!cu.setup||cu.setup.call(co,cq,e,cr)===false){if(co.addEventListener){co.addEventListener(cv,cr,false)}else{if(co.attachEvent){co.attachEvent("on"+cv,cr)}}}}if(cu.add){cu.add.call(co,cw);if(!cw.handler.guid){cw.handler.guid=cz.guid}}if(cp){cn.splice(cn.delegateCount++,0,cw)}else{cn.push(cw)}b3.event.global[cv]=true}co=null},global:{},remove:function(co,ct,cz,cp,cs){var cA,cB,cw,cn,cm,cq,cr,cy,cv,e,cx,cu=b3.hasData(co)&&b3._data(co);if(!cu||!(cy=cu.events)){return}ct=b3.trim(aL(ct||"")).split(" ");for(cA=0;cA<ct.length;cA++){cB=bO.exec(ct[cA])||[];cw=cn=cB[1];cm=cB[2];if(!cw){for(cw in cy){b3.event.remove(co,cw+ct[cA],cz,cp,true)}continue}cv=b3.event.special[cw]||{};cw=(cp?cv.delegateType:cv.bindType)||cw;e=cy[cw]||[];cq=e.length;cm=cm?new RegExp("(^|\\.)"+cm.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(cr=0;cr<e.length;cr++){cx=e[cr];if((cs||cn===cx.origType)&&(!cz||cz.guid===cx.guid)&&(!cm||cm.test(cx.namespace))&&(!cp||cp===cx.selector||cp==="**"&&cx.selector)){e.splice(cr--,1);if(cx.selector){e.delegateCount--}if(cv.remove){cv.remove.call(co,cx)}}}if(e.length===0&&cq!==e.length){if(!cv.teardown||cv.teardown.call(co,cm,cu.handle)===false){b3.removeEvent(co,cw,cu.handle)}delete cy[cw]}}if(b3.isEmptyObject(cy)){delete cu.handle;b3.removeData(co,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(cm,ct,cr,cA){if(cr&&(cr.nodeType===3||cr.nodeType===8)){return}var e,co,cu,cy,cq,cp,cw,cv,cs,cz,cx=cm.type||cm,cn=[];if(bV.test(cx+b3.event.triggered)){return}if(cx.indexOf("!")>=0){cx=cx.slice(0,-1);co=true}if(cx.indexOf(".")>=0){cn=cx.split(".");cx=cn.shift();cn.sort()}if((!cr||b3.event.customEvent[cx])&&!b3.event.global[cx]){return}cm=typeof cm==="object"?cm[b3.expando]?cm:new b3.Event(cx,cm):new b3.Event(cx);cm.type=cx;cm.isTrigger=true;cm.exclusive=co;cm.namespace=cn.join(".");cm.namespace_re=cm.namespace?new RegExp("(^|\\.)"+cn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;cp=cx.indexOf(":")<0?"on"+cx:"";if(!cr){e=b3.cache;for(cu in e){if(e[cu].events&&e[cu].events[cx]){b3.event.trigger(cm,ct,e[cu].handle.elem,true)}}return}cm.result=aW;if(!cm.target){cm.target=cr}ct=ct!=null?b3.makeArray(ct):[];ct.unshift(cm);cw=b3.event.special[cx]||{};if(cw.trigger&&cw.trigger.apply(cr,ct)===false){return}cs=[[cr,cw.bindType||cx]];if(!cA&&!cw.noBubble&&!b3.isWindow(cr)){cz=cw.delegateType||cx;cy=bV.test(cz+cx)?cr:cr.parentNode;for(cq=cr;cy;cy=cy.parentNode){cs.push([cy,cz]);cq=cy}if(cq===(cr.ownerDocument||q)){cs.push([cq.defaultView||cq.parentWindow||bp,cz])}}for(cu=0;cu<cs.length&&!cm.isPropagationStopped();cu++){cy=cs[cu][0];cm.type=cs[cu][1];cv=(b3._data(cy,"events")||{})[cm.type]&&b3._data(cy,"handle");if(cv){cv.apply(cy,ct)}cv=cp&&cy[cp];if(cv&&b3.acceptData(cy)&&cv.apply&&cv.apply(cy,ct)===false){cm.preventDefault()}}cm.type=cx;if(!cA&&!cm.isDefaultPrevented()){if((!cw._default||cw._default.apply(cr.ownerDocument,ct)===false)&&!(cx==="click"&&b3.nodeName(cr,"a"))&&b3.acceptData(cr)){if(cp&&cr[cx]&&((cx!=="focus"&&cx!=="blur")||cm.target.offsetWidth!==0)&&!b3.isWindow(cr)){cq=cr[cp];if(cq){cr[cp]=null}b3.event.triggered=cx;cr[cx]();b3.event.triggered=aW;if(cq){cr[cp]=cq}}}}return cm.result},dispatch:function(e){e=b3.event.fix(e||bp.event);var cs,cr,cB,cv,cu,cm,ct,cz,co,cA,cp=((b3._data(this,"events")||{})[e.type]||[]),cq=cp.delegateCount,cx=br.call(arguments),cn=!e.exclusive&&!e.namespace,cw=b3.event.special[e.type]||{},cy=[];cx[0]=e;e.delegateTarget=this;if(cw.preDispatch&&cw.preDispatch.call(this,e)===false){return}if(cq&&!(e.button&&e.type==="click")){for(cB=e.target;cB!=this;cB=cB.parentNode||this){if(cB.disabled!==true||e.type!=="click"){cu={};ct=[];for(cs=0;cs<cq;cs++){cz=cp[cs];co=cz.selector;if(cu[co]===aW){cu[co]=cz.needsContext?b3(co,this).index(cB)>=0:b3.find(co,this,null,[cB]).length}if(cu[co]){ct.push(cz)}}if(ct.length){cy.push({elem:cB,matches:ct})}}}}if(cp.length>cq){cy.push({elem:this,matches:cp.slice(cq)})}for(cs=0;cs<cy.length&&!e.isPropagationStopped();cs++){cm=cy[cs];e.currentTarget=cm.elem;for(cr=0;cr<cm.matches.length&&!e.isImmediatePropagationStopped();cr++){cz=cm.matches[cr];if(cn||(!e.namespace&&!cz.namespace)||e.namespace_re&&e.namespace_re.test(cz.namespace)){e.data=cz.data;e.handleObj=cz;cv=((b3.event.special[cz.origType]||{}).handle||cz.handler).apply(cm.elem,cx);if(cv!==aW){e.result=cv;if(cv===false){e.preventDefault();e.stopPropagation()}}}}}if(cw.postDispatch){cw.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(cm,e){if(cm.which==null){cm.which=e.charCode!=null?e.charCode:e.keyCode}return cm}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(co,cn){var cp,cq,e,cm=cn.button,cr=cn.fromElement;if(co.pageX==null&&cn.clientX!=null){cp=co.target.ownerDocument||q;cq=cp.documentElement;e=cp.body;co.pageX=cn.clientX+(cq&&cq.scrollLeft||e&&e.scrollLeft||0)-(cq&&cq.clientLeft||e&&e.clientLeft||0);co.pageY=cn.clientY+(cq&&cq.scrollTop||e&&e.scrollTop||0)-(cq&&cq.clientTop||e&&e.clientTop||0)}if(!co.relatedTarget&&cr){co.relatedTarget=cr===co.target?cn.toElement:cr}if(!co.which&&cm!==aW){co.which=(cm&1?1:(cm&2?3:(cm&4?2:0)))}return co}},fix:function(cn){if(cn[b3.expando]){return cn}var cm,cq,e=cn,co=b3.event.fixHooks[cn.type]||{},cp=co.props?this.props.concat(co.props):this.props;cn=b3.Event(e);for(cm=cp.length;cm;){cq=cp[--cm];cn[cq]=e[cq]}if(!cn.target){cn.target=e.srcElement||q}if(cn.target.nodeType===3){cn.target=cn.target.parentNode}cn.metaKey=!!cn.metaKey;return co.filter?co.filter(cn,e):cn},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(cn,cm,e){if(b3.isWindow(this)){this.onbeforeunload=e}},teardown:function(cm,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(cn,cp,co,cm){var cq=b3.extend(new b3.Event(),co,{type:cn,isSimulated:true,originalEvent:{}});if(cm){b3.event.trigger(cq,null,cp)}else{b3.event.dispatch.call(cp,cq)}if(cq.isDefaultPrevented()){co.preventDefault()}}};b3.event.handle=b3.event.dispatch;b3.removeEvent=q.removeEventListener?function(cm,e,cn){if(cm.removeEventListener){cm.removeEventListener(e,cn,false)}}:function(cn,cm,co){var e="on"+cm;if(cn.detachEvent){if(typeof cn[e]==="undefined"){cn[e]=null}cn.detachEvent(e,co)}};b3.Event=function(cm,e){if(!(this instanceof b3.Event)){return new b3.Event(cm,e)}if(cm&&cm.type){this.originalEvent=cm;this.type=cm.type;this.isDefaultPrevented=(cm.defaultPrevented||cm.returnValue===false||cm.getPreventDefault&&cm.getPreventDefault())?aa:ag}else{this.type=cm}if(e){b3.extend(this,e)}this.timeStamp=cm&&cm.timeStamp||b3.now();this[b3.expando]=true};function ag(){return false}function aa(){return true}b3.Event.prototype={preventDefault:function(){this.isDefaultPrevented=aa;var cm=this.originalEvent;if(!cm){return}if(cm.preventDefault){cm.preventDefault()}else{cm.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=aa;var cm=this.originalEvent;if(!cm){return}if(cm.stopPropagation){cm.stopPropagation()}cm.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=aa;this.stopPropagation()},isDefaultPrevented:ag,isPropagationStopped:ag,isImmediatePropagationStopped:ag};b3.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(cm,e){b3.event.special[cm]={delegateType:e,bindType:e,handle:function(cq){var co,cs=this,cr=cq.relatedTarget,cp=cq.handleObj,cn=cp.selector;if(!cr||(cr!==cs&&!b3.contains(cs,cr))){cq.type=cp.origType;co=cp.handler.apply(this,arguments);cq.type=e}return co}}});if(!b3.support.submitBubbles){b3.event.special.submit={setup:function(){if(b3.nodeName(this,"form")){return false}b3.event.add(this,"click._submit keypress._submit",function(co){var cn=co.target,cm=b3.nodeName(cn,"input")||b3.nodeName(cn,"button")?cn.form:aW;if(cm&&!b3._data(cm,"_submit_attached")){b3.event.add(cm,"submit._submit",function(e){e._submit_bubble=true});b3._data(cm,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){b3.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(b3.nodeName(this,"form")){return false}b3.event.remove(this,"._submit")}}}if(!b3.support.changeBubbles){b3.event.special.change={setup:function(){if(b1.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){b3.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});b3.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}b3.event.simulate("change",this,e,true)})}return false}b3.event.add(this,"beforeactivate._change",function(cn){var cm=cn.target;if(b1.test(cm.nodeName)&&!b3._data(cm,"_change_attached")){b3.event.add(cm,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){b3.event.simulate("change",this.parentNode,e,true)}});b3._data(cm,"_change_attached",true)}})},handle:function(cm){var e=cm.target;if(this!==e||cm.isSimulated||cm.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return cm.handleObj.handler.apply(this,arguments)}},teardown:function(){b3.event.remove(this,"._change");return !b1.test(this.nodeName)}}}if(!b3.support.focusinBubbles){b3.each({focus:"focusin",blur:"focusout"},function(co,e){var cm=0,cn=function(cp){b3.event.simulate(e,cp.target,b3.event.fix(cp),true)};b3.event.special[e]={setup:function(){if(cm++===0){q.addEventListener(co,cn,true)}},teardown:function(){if(--cm===0){q.removeEventListener(co,cn,true)}}}})}b3.fn.extend({on:function(cn,e,cq,cp,cm){var cr,co;if(typeof cn==="object"){if(typeof e!=="string"){cq=cq||e;e=aW}for(co in cn){this.on(co,e,cq,cn[co],cm)}return this}if(cq==null&&cp==null){cp=e;cq=e=aW}else{if(cp==null){if(typeof e==="string"){cp=cq;cq=aW}else{cp=cq;cq=e;e=aW}}}if(cp===false){cp=ag}else{if(!cp){return this}}if(cm===1){cr=cp;cp=function(cs){b3().off(cs);return cr.apply(this,arguments)};cp.guid=cr.guid||(cr.guid=b3.guid++)}return this.each(function(){b3.event.add(this,cn,cp,cq,e)})},one:function(cm,e,co,cn){return this.on(cm,e,co,cn,1)},off:function(cn,e,cp){var cm,co;if(cn&&cn.preventDefault&&cn.handleObj){cm=cn.handleObj;b3(cn.delegateTarget).off(cm.namespace?cm.origType+"."+cm.namespace:cm.origType,cm.selector,cm.handler);return this}if(typeof cn==="object"){for(co in cn){this.off(co,e,cn[co])}return this}if(e===false||typeof e==="function"){cp=e;e=aW}if(cp===false){cp=ag}return this.each(function(){b3.event.remove(this,cn,cp,e)})},bind:function(e,cn,cm){return this.on(e,null,cn,cm)},unbind:function(e,cm){return this.off(e,null,cm)},live:function(e,cn,cm){b3(this.context).on(e,this.selector,cn,cm);return this},die:function(e,cm){b3(this.context).off(e,this.selector||"**",cm);return this},delegate:function(e,cm,co,cn){return this.on(cm,e,co,cn)},undelegate:function(e,cm,cn){return arguments.length===1?this.off(e,"**"):this.off(cm,e||"**",cn)},trigger:function(e,cm){return this.each(function(){b3.event.trigger(e,cm,this)})},triggerHandler:function(e,cm){if(this[0]){return b3.event.trigger(e,cm,this[0],true)}},toggle:function(co){var cm=arguments,e=co.guid||b3.guid++,cn=0,cp=function(cq){var cr=(b3._data(this,"lastToggle"+co.guid)||0)%cn;b3._data(this,"lastToggle"+co.guid,cr+1);cq.preventDefault();return cm[cr].apply(this,arguments)||false};cp.guid=e;while(cn<cm.length){cm[cn++].guid=e}return this.click(cp)},hover:function(e,cm){return this.mouseenter(e).mouseleave(cm||e)}});b3.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(cm,e){b3.fn[e]=function(co,cn){if(cn==null){cn=co;co=null}return arguments.length>0?this.on(e,null,co,cn):this.trigger(e)};if(bq.test(e)){b3.event.fixHooks[e]=b3.event.keyHooks}if(b7.test(e)){b3.event.fixHooks[e]=b3.event.mouseHooks}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(df,cE){var dk,cx,c8,cn,cJ,cX,cA,cD,cz,c6,cw=true,cR="undefined",dm=("sizcache"+Math.random()).replace(".",""),cr=String,cv=df.document,cy=cv.documentElement,cO=0,cC=0,c1=[].pop,dj=[].push,cI=[].slice,cL=[].indexOf||function(dw){var dv=0,e=this.length;for(;dv<e;dv++){if(this[dv]===dw){return dv}}return -1},dp=function(e,dv){e[dm]=dv==null||dv;return e},dt=function(){var e={},dv=[];return dp(function(dw,dx){if(dv.push(dw)>c8.cacheLength){delete e[dv.shift()]}return(e[dw+" "]=dx)},e)},dh=dt(),di=dt(),cK=dt(),cV="[\\x20\\t\\r\\n\\f]",cH="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",cF=cH.replace("w","w#"),ds="([*^$|!~]?=)",dc="\\["+cV+"*("+cH+")"+cV+"*(?:"+ds+cV+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cF+")|)|)"+cV+"*\\]",du=":("+cH+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+dc+")|[^:]|\\\\.)*|.*))\\)|)",cW=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cV+"*((?:-\\d)?\\d*)"+cV+"*\\)|)(?=[^-]|$)",dg=new RegExp("^"+cV+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cV+"+$","g"),cs=new RegExp("^"+cV+"*,"+cV+"*"),c4=new RegExp("^"+cV+"*([\\x20\\t\\r\\n\\f>+~])"+cV+"*"),c9=new RegExp(du),db=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,c0=/^:not/,de=/[\x20\t\r\n\f]*[+~]/,dn=/:not\($/,cP=/h\d/i,da=/input|select|textarea|button/i,cQ=/\\(?!\\)/g,c3={ID:new RegExp("^#("+cH+")"),CLASS:new RegExp("^\\.("+cH+")"),NAME:new RegExp("^\\[name=['\"]?("+cH+")['\"]?\\]"),TAG:new RegExp("^("+cH.replace("w","w*")+")"),ATTR:new RegExp("^"+dc),PSEUDO:new RegExp("^"+du),POS:new RegExp(cW,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cV+"*(even|odd|(([+-]|)(\\d*)n|)"+cV+"*(?:([+-]|)"+cV+"*(\\d+)|))"+cV+"*\\)|)","i"),needsContext:new RegExp("^"+cV+"*[>+~]|"+cW,"i")},c7=function(dv){var dx=cv.createElement("div");try{return dv(dx)}catch(dw){return false}finally{dx=null}},cu=c7(function(e){e.appendChild(cv.createComment(""));return !e.getElementsByTagName("*").length}),cZ=c7(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cR&&e.firstChild.getAttribute("href")==="#"}),cN=c7(function(dv){dv.innerHTML="<select></select>";var e=typeof dv.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cY=c7(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),cm=c7(function(dv){dv.id=dm+0;dv.innerHTML="<a name='"+dm+"'></a><div name='"+dm+"'></div>";cy.insertBefore(dv,cy.firstChild);var e=cv.getElementsByName&&cv.getElementsByName(dm).length===2+cv.getElementsByName(dm+0).length;cx=!cv.getElementById(dm);cy.removeChild(dv);return e});try{cI.call(cy.childNodes,0)[0].nodeType}catch(dr){cI=function(dv){var dw,e=[];for(;(dw=this[dv]);dv++){e.push(dw)}return e}}function dd(dx,e,dz,dC){dz=dz||[];e=e||cv;var dA,dv,dB,dw,dy=e.nodeType;if(!dx||typeof dx!=="string"){return dz}if(dy!==1&&dy!==9){return[]}dB=cJ(e);if(!dB&&!dC){if((dA=db.exec(dx))){if((dw=dA[1])){if(dy===9){dv=e.getElementById(dw);if(dv&&dv.parentNode){if(dv.id===dw){dz.push(dv);return dz}}else{return dz}}else{if(e.ownerDocument&&(dv=e.ownerDocument.getElementById(dw))&&cX(e,dv)&&dv.id===dw){dz.push(dv);return dz}}}else{if(dA[2]){dj.apply(dz,cI.call(e.getElementsByTagName(dx),0));return dz}else{if((dw=dA[3])&&cY&&e.getElementsByClassName){dj.apply(dz,cI.call(e.getElementsByClassName(dw),0));return dz}}}}}return dl(dx.replace(dg,"$1"),e,dz,dC,dB)}dd.matches=function(dv,e){return dd(dv,null,null,e)};dd.matchesSelector=function(e,dv){return dd(dv,null,null,[e]).length>0};function c5(e){return function(dw){var dv=dw.nodeName.toLowerCase();return dv==="input"&&dw.type===e}}function cq(e){return function(dw){var dv=dw.nodeName.toLowerCase();return(dv==="input"||dv==="button")&&dw.type===e}}function c2(e){return dp(function(dv){dv=+dv;return dp(function(dw,dA){var dy,dx=e([],dw.length,dv),dz=dx.length;while(dz--){if(dw[(dy=dx[dz])]){dw[dy]=!(dA[dy]=dw[dy])}}})})}cn=dd.getText=function(dy){var dx,dv="",dw=0,e=dy.nodeType;if(e){if(e===1||e===9||e===11){if(typeof dy.textContent==="string"){return dy.textContent}else{for(dy=dy.firstChild;dy;dy=dy.nextSibling){dv+=cn(dy)}}}else{if(e===3||e===4){return dy.nodeValue}}}else{for(;(dx=dy[dw]);dw++){dv+=cn(dx)}}return dv};cJ=dd.isXML=function(e){var dv=e&&(e.ownerDocument||e).documentElement;return dv?dv.nodeName!=="HTML":false};cX=dd.contains=cy.contains?function(dv,e){var dx=dv.nodeType===9?dv.documentElement:dv,dw=e&&e.parentNode;return dv===dw||!!(dw&&dw.nodeType===1&&dx.contains&&dx.contains(dw))}:cy.compareDocumentPosition?function(dv,e){return e&&!!(dv.compareDocumentPosition(e)&16)}:function(dv,e){while((e=e.parentNode)){if(e===dv){return true}}return false};dd.attr=function(dw,dv){var dx,e=cJ(dw);if(!e){dv=dv.toLowerCase()}if((dx=c8.attrHandle[dv])){return dx(dw)}if(e||cN){return dw.getAttribute(dv)}dx=dw.getAttributeNode(dv);return dx?typeof dw[dv]==="boolean"?dw[dv]?dv:null:dx.specified?dx.value:null:null};c8=dd.selectors={cacheLength:50,createPseudo:dp,match:c3,attrHandle:cZ?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:cx?function(dx,dw,dv){if(typeof dw.getElementById!==cR&&!dv){var e=dw.getElementById(dx);return e&&e.parentNode?[e]:[]}}:function(dx,dw,dv){if(typeof dw.getElementById!==cR&&!dv){var e=dw.getElementById(dx);return e?e.id===dx||typeof e.getAttributeNode!==cR&&e.getAttributeNode("id").value===dx?[e]:cE:[]}},TAG:cu?function(e,dv){if(typeof dv.getElementsByTagName!==cR){return dv.getElementsByTagName(e)}}:function(e,dy){var dx=dy.getElementsByTagName(e);if(e==="*"){var dz,dw=[],dv=0;for(;(dz=dx[dv]);dv++){if(dz.nodeType===1){dw.push(dz)}}return dw}return dx},NAME:cm&&function(e,dv){if(typeof dv.getElementsByName!==cR){return dv.getElementsByName(name)}},CLASS:cY&&function(dw,dv,e){if(typeof dv.getElementsByClassName!==cR&&!e){return dv.getElementsByClassName(dw)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cQ,"");e[3]=(e[4]||e[5]||"").replace(cQ,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){dd.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){dd.error(e[0])}}return e},PSEUDO:function(dv){var dw,e;if(c3.CHILD.test(dv[0])){return null}if(dv[3]){dv[2]=dv[3]}else{if((dw=dv[4])){if(c9.test(dw)&&(e=co(dw,true))&&(e=dw.indexOf(")",dw.length-e)-dw.length)){dw=dw.slice(0,e);dv[0]=dv[0].slice(0,e)}dv[2]=dw}}return dv.slice(0,3)}},filter:{ID:cx?function(e){e=e.replace(cQ,"");return function(dv){return dv.getAttribute("id")===e}}:function(e){e=e.replace(cQ,"");return function(dw){var dv=typeof dw.getAttributeNode!==cR&&dw.getAttributeNode("id");return dv&&dv.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cQ,"").toLowerCase();return function(dv){return dv.nodeName&&dv.nodeName.toLowerCase()===e}},CLASS:function(e){var dv=dh[dm][e+" "];return dv||(dv=new RegExp("(^|"+cV+")"+e+"("+cV+"|$)"))&&dh(e,function(dw){return dv.test(dw.className||(typeof dw.getAttribute!==cR&&dw.getAttribute("class"))||"")})},ATTR:function(dw,dv,e){return function(dz,dy){var dx=dd.attr(dz,dw);if(dx==null){return dv==="!="}if(!dv){return true}dx+="";return dv==="="?dx===e:dv==="!="?dx!==e:dv==="^="?e&&dx.indexOf(e)===0:dv==="*="?e&&dx.indexOf(e)>-1:dv==="$="?e&&dx.substr(dx.length-e.length)===e:dv==="~="?(" "+dx+" ").indexOf(e)>-1:dv==="|="?dx===e||dx.substr(0,e.length+1)===e+"-":false}},CHILD:function(e,dw,dx,dv){if(e==="nth"){return function(dA){var dz,dB,dy=dA.parentNode;if(dx===1&&dv===0){return true}if(dy){dB=0;for(dz=dy.firstChild;dz;dz=dz.nextSibling){if(dz.nodeType===1){dB++;if(dA===dz){break}}}}dB-=dv;return dB===dx||(dB%dx===0&&dB/dx>=0)}}return function(dz){var dy=dz;switch(e){case"only":case"first":while((dy=dy.previousSibling)){if(dy.nodeType===1){return false}}if(e==="first"){return true}dy=dz;case"last":while((dy=dy.nextSibling)){if(dy.nodeType===1){return false}}return true}}},PSEUDO:function(dx,dw){var e,dv=c8.pseudos[dx]||c8.setFilters[dx.toLowerCase()]||dd.error("unsupported pseudo: "+dx);if(dv[dm]){return dv(dw)}if(dv.length>1){e=[dx,dx,"",dw];return c8.setFilters.hasOwnProperty(dx.toLowerCase())?dp(function(dA,dC){var dz,dy=dv(dA,dw),dB=dy.length;while(dB--){dz=cL.call(dA,dy[dB]);dA[dz]=!(dC[dz]=dy[dB])}}):function(dy){return dv(dy,0,e)}}return dv}},pseudos:{not:dp(function(e){var dv=[],dw=[],dx=cA(e.replace(dg,"$1"));return dx[dm]?dp(function(dz,dE,dC,dA){var dD,dy=dx(dz,null,dA,[]),dB=dz.length;while(dB--){if((dD=dy[dB])){dz[dB]=!(dE[dB]=dD)}}}):function(dA,dz,dy){dv[0]=dA;dx(dv,null,dy,dw);return !dw.pop()}}),has:dp(function(e){return function(dv){return dd(e,dv).length>0}}),contains:dp(function(e){return function(dv){return(dv.textContent||dv.innerText||cn(dv)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dv=e.nodeName.toLowerCase();return(dv==="input"&&!!e.checked)||(dv==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !c8.pseudos.empty(e)},empty:function(dv){var e;dv=dv.firstChild;while(dv){if(dv.nodeName>"@"||(e=dv.nodeType)===3||e===4){return false}dv=dv.nextSibling}return true},header:function(e){return cP.test(e.nodeName)},text:function(dw){var dv,e;return dw.nodeName.toLowerCase()==="input"&&(dv=dw.type)==="text"&&((e=dw.getAttribute("type"))==null||e.toLowerCase()===dv)},radio:c5("radio"),checkbox:c5("checkbox"),file:c5("file"),password:c5("password"),image:c5("image"),submit:cq("submit"),reset:cq("reset"),button:function(dv){var e=dv.nodeName.toLowerCase();return e==="input"&&dv.type==="button"||e==="button"},input:function(e){return da.test(e.nodeName)},focus:function(e){var dv=e.ownerDocument;return e===dv.activeElement&&(!dv.hasFocus||dv.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:c2(function(){return[0]}),last:c2(function(e,dv){return[dv-1]}),eq:c2(function(e,dw,dv){return[dv<0?dv+dw:dv]}),even:c2(function(e,dw){for(var dv=0;dv<dw;dv+=2){e.push(dv)}return e}),odd:c2(function(e,dw){for(var dv=1;dv<dw;dv+=2){e.push(dv)}return e}),lt:c2(function(e,dx,dw){for(var dv=dw<0?dw+dx:dw;--dv>=0;){e.push(dv)}return e}),gt:c2(function(e,dx,dw){for(var dv=dw<0?dw+dx:dw;++dv<dx;){e.push(dv)}return e})}};function cp(dv,e,dw){if(dv===e){return dw}var dx=dv.nextSibling;while(dx){if(dx===e){return -1}dx=dx.nextSibling}return 1}cD=cy.compareDocumentPosition?function(dv,e){if(dv===e){cz=true;return 0}return(!dv.compareDocumentPosition||!e.compareDocumentPosition?dv.compareDocumentPosition:dv.compareDocumentPosition(e)&4)?-1:1}:function(dC,dB){if(dC===dB){cz=true;return 0}else{if(dC.sourceIndex&&dB.sourceIndex){return dC.sourceIndex-dB.sourceIndex}}var dz,dv,dw=[],e=[],dy=dC.parentNode,dA=dB.parentNode,dD=dy;if(dy===dA){return cp(dC,dB)}else{if(!dy){return -1}else{if(!dA){return 1}}}while(dD){dw.unshift(dD);dD=dD.parentNode}dD=dA;while(dD){e.unshift(dD);dD=dD.parentNode}dz=dw.length;dv=e.length;for(var dx=0;dx<dz&&dx<dv;dx++){if(dw[dx]!==e[dx]){return cp(dw[dx],e[dx])}}return dx===dz?cp(dC,e[dx],-1):cp(dw[dx],dB,1)};[0,0].sort(cD);cw=!cz;dd.uniqueSort=function(dw){var dx,dy=[],dv=1,e=0;cz=cw;dw.sort(cD);if(cz){for(;(dx=dw[dv]);dv++){if(dx===dw[dv-1]){e=dy.push(dv)}}while(e--){dw.splice(dy[e],1)}}return dw};dd.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function co(dy,dD){var dv,dz,dB,dC,dA,dw,e,dx=di[dm][dy+" "];if(dx){return dD?0:dx.slice(0)}dA=dy;dw=[];e=c8.preFilter;while(dA){if(!dv||(dz=cs.exec(dA))){if(dz){dA=dA.slice(dz[0].length)||dA}dw.push(dB=[])}dv=false;if((dz=c4.exec(dA))){dB.push(dv=new cr(dz.shift()));dA=dA.slice(dv.length);dv.type=dz[0].replace(dg," ")}for(dC in c8.filter){if((dz=c3[dC].exec(dA))&&(!e[dC]||(dz=e[dC](dz)))){dB.push(dv=new cr(dz.shift()));dA=dA.slice(dv.length);dv.type=dC;dv.matches=dz}}if(!dv){break}}return dD?dA.length:dA?dd.error(dy):di(dy,dw).slice(0)}function cT(dy,dw,dx){var e=dw.dir,dz=dx&&dw.dir==="parentNode",dv=cC++;return dw.first?function(dC,dB,dA){while((dC=dC[e])){if(dz||dC.nodeType===1){return dy(dC,dB,dA)}}}:function(dD,dC,dB){if(!dB){var dA,dE=cO+" "+dv+" ",dF=dE+dk;while((dD=dD[e])){if(dz||dD.nodeType===1){if((dA=dD[dm])===dF){return dD.sizset}else{if(typeof dA==="string"&&dA.indexOf(dE)===0){if(dD.sizset){return dD}}else{dD[dm]=dF;if(dy(dD,dC,dB)){dD.sizset=true;return dD}dD.sizset=false}}}}}else{while((dD=dD[e])){if(dz||dD.nodeType===1){if(dy(dD,dC,dB)){return dD}}}}}}function cB(e){return e.length>1?function(dy,dx,dv){var dw=e.length;while(dw--){if(!e[dw](dy,dx,dv)){return false}}return true}:e[0]}function cS(e,dv,dw,dx,dA){var dy,dD=[],dz=0,dB=e.length,dC=dv!=null;for(;dz<dB;dz++){if((dy=e[dz])){if(!dw||dw(dy,dx,dA)){dD.push(dy);if(dC){dv.push(dz)}}}}return dD}function dq(dw,dv,dy,dx,dz,e){if(dx&&!dx[dm]){dx=dq(dx)}if(dz&&!dz[dm]){dz=dq(dz,e)}return dp(function(dK,dH,dC,dJ){var dM,dI,dE,dD=[],dL=[],dB=dH.length,dA=dK||cM(dv||"*",dC.nodeType?[dC]:dC,[]),dF=dw&&(dK||!dv)?cS(dA,dD,dw,dC,dJ):dA,dG=dy?dz||(dK?dw:dB||dx)?[]:dH:dF;if(dy){dy(dF,dG,dC,dJ)}if(dx){dM=cS(dG,dL);dx(dM,[],dC,dJ);dI=dM.length;while(dI--){if((dE=dM[dI])){dG[dL[dI]]=!(dF[dL[dI]]=dE)}}}if(dK){if(dz||dw){if(dz){dM=[];dI=dG.length;while(dI--){if((dE=dG[dI])){dM.push((dF[dI]=dE))}}dz(null,(dG=[]),dM,dJ)}dI=dG.length;while(dI--){if((dE=dG[dI])&&(dM=dz?cL.call(dK,dE):dD[dI])>-1){dK[dM]=!(dH[dM]=dE)}}}}else{dG=cS(dG===dH?dG.splice(dB,dG.length):dG);if(dz){dz(null,dH,dG,dJ)}else{dj.apply(dH,dG)}}})}function cU(dA){var dv,dy,dw,dz=dA.length,dD=c8.relative[dA[0].type],dE=dD||c8.relative[" "],dx=dD?1:0,dB=cT(function(dF){return dF===dv},dE,true),dC=cT(function(dF){return cL.call(dv,dF)>-1},dE,true),e=[function(dH,dG,dF){return(!dD&&(dF||dG!==c6))||((dv=dG).nodeType?dB(dH,dG,dF):dC(dH,dG,dF))}];for(;dx<dz;dx++){if((dy=c8.relative[dA[dx].type])){e=[cT(cB(e),dy)]}else{dy=c8.filter[dA[dx].type].apply(null,dA[dx].matches);if(dy[dm]){dw=++dx;for(;dw<dz;dw++){if(c8.relative[dA[dw].type]){break}}return dq(dx>1&&cB(e),dx>1&&dA.slice(0,dx-1).join("").replace(dg,"$1"),dy,dx<dw&&cU(dA.slice(dx,dw)),dw<dz&&cU((dA=dA.slice(dw))),dw<dz&&dA.join(""))}e.push(dy)}}return cB(e)}function ct(dx,dw){var e=dw.length>0,dy=dx.length>0,dv=function(dI,dC,dH,dG,dO){var dD,dE,dJ,dN=[],dM=0,dF="0",dz=dI&&[],dK=dO!=null,dL=c6,dB=dI||dy&&c8.find.TAG("*",dO&&dC.parentNode||dC),dA=(cO+=dL==null?1:Math.E);if(dK){c6=dC!==cv&&dC;dk=dv.el}for(;(dD=dB[dF])!=null;dF++){if(dy&&dD){for(dE=0;(dJ=dx[dE]);dE++){if(dJ(dD,dC,dH)){dG.push(dD);break}}if(dK){cO=dA;dk=++dv.el}}if(e){if((dD=!dJ&&dD)){dM--}if(dI){dz.push(dD)}}}dM+=dF;if(e&&dF!==dM){for(dE=0;(dJ=dw[dE]);dE++){dJ(dz,dN,dC,dH)}if(dI){if(dM>0){while(dF--){if(!(dz[dF]||dN[dF])){dN[dF]=c1.call(dG)}}}dN=cS(dN)}dj.apply(dG,dN);if(dK&&!dI&&dN.length>0&&(dM+dw.length)>1){dd.uniqueSort(dG)}}if(dK){cO=dA;c6=dL}return dz};dv.el=0;return e?dp(dv):dv}cA=dd.compile=function(e,dz){var dw,dv=[],dy=[],dx=cK[dm][e+" "];if(!dx){if(!dz){dz=co(e)}dw=dz.length;while(dw--){dx=cU(dz[dw]);if(dx[dm]){dv.push(dx)}else{dy.push(dx)}}dx=cK(e,ct(dy,dv))}return dx};function cM(dv,dy,dx){var dw=0,e=dy.length;for(;dw<e;dw++){dd(dv,dy[dw],dx)}return dx}function dl(dw,e,dy,dC,dB){var dz,dF,dv,dE,dD,dA=co(dw),dx=dA.length;if(!dC){if(dA.length===1){dF=dA[0]=dA[0].slice(0);if(dF.length>2&&(dv=dF[0]).type==="ID"&&e.nodeType===9&&!dB&&c8.relative[dF[1].type]){e=c8.find.ID(dv.matches[0].replace(cQ,""),e,dB)[0];if(!e){return dy}dw=dw.slice(dF.shift().length)}for(dz=c3.POS.test(dw)?-1:dF.length-1;dz>=0;dz--){dv=dF[dz];if(c8.relative[(dE=dv.type)]){break}if((dD=c8.find[dE])){if((dC=dD(dv.matches[0].replace(cQ,""),de.test(dF[0].type)&&e.parentNode||e,dB))){dF.splice(dz,1);dw=dC.length&&dF.join("");if(!dw){dj.apply(dy,cI.call(dC,0));return dy}break}}}}}cA(dw,dA)(dC,e,dB,dy,de.test(dw));return dy}if(cv.querySelectorAll){(function(){var dz,dA=dl,dy=/'|\\/g,dw=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,dv=[":focus"],e=[":active"],dx=cy.matchesSelector||cy.mozMatchesSelector||cy.webkitMatchesSelector||cy.oMatchesSelector||cy.msMatchesSelector;c7(function(dB){dB.innerHTML="<select><option selected=''></option></select>";if(!dB.querySelectorAll("[selected]").length){dv.push("\\["+cV+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dB.querySelectorAll(":checked").length){dv.push(":checked")}});c7(function(dB){dB.innerHTML="<p test=''></p>";if(dB.querySelectorAll("[test^='']").length){dv.push("[*^$]="+cV+"*(?:\"\"|'')")}dB.innerHTML="<input type='hidden'/>";if(!dB.querySelectorAll(":enabled").length){dv.push(":enabled",":disabled")}});dv=new RegExp(dv.join("|"));dl=function(dH,dC,dJ,dM,dL){if(!dM&&!dL&&!dv.test(dH)){var dF,dK,dE=true,dB=dm,dD=dC,dI=dC.nodeType===9&&dH;if(dC.nodeType===1&&dC.nodeName.toLowerCase()!=="object"){dF=co(dH);if((dE=dC.getAttribute("id"))){dB=dE.replace(dy,"\\$&")}else{dC.setAttribute("id",dB)}dB="[id='"+dB+"'] ";dK=dF.length;while(dK--){dF[dK]=dB+dF[dK].join("")}dD=de.test(dH)&&dC.parentNode||dC;dI=dF.join(",")}if(dI){try{dj.apply(dJ,cI.call(dD.querySelectorAll(dI),0));return dJ}catch(dG){}finally{if(!dE){dC.removeAttribute("id")}}}}return dA(dH,dC,dJ,dM,dL)};if(dx){c7(function(dC){dz=dx.call(dC,"div");try{dx.call(dC,"[test!='']:sizzle");e.push("!=",du)}catch(dB){}});e=new RegExp(e.join("|"));dd.matchesSelector=function(dC,dE){dE=dE.replace(dw,"='$1']");if(!cJ(dC)&&!e.test(dE)&&!dv.test(dE)){try{var dB=dx.call(dC,dE);if(dB||dz||dC.document&&dC.document.nodeType!==11){return dB}}catch(dD){}}return dd(dE,null,null,[dC]).length>0}}})()}c8.pseudos.nth=c8.pseudos.eq;function cG(){}c8.filters=cG.prototype=c8.pseudos;c8.setFilters=new cG();dd.attr=b3.attr;b3.find=dd;b3.expr=dd.selectors;b3.expr[":"]=b3.expr.pseudos;b3.unique=dd.uniqueSort;b3.text=dd.getText;b3.isXMLDoc=dd.isXML;b3.contains=dd.contains})(bp);var az=/Until$/,bN=/^(?:parents|prev(?:Until|All))/,aF=/^.[^:#\[\.,]*$/,B=b3.expr.match.needsContext,bR={children:true,contents:true,next:true,prev:true};b3.fn.extend({find:function(e){var cp,cm,cr,cs,cq,co,cn=this;if(typeof e!=="string"){return b3(e).filter(function(){for(cp=0,cm=cn.length;cp<cm;cp++){if(b3.contains(cn[cp],this)){return true}}})}co=this.pushStack("","find",e);for(cp=0,cm=this.length;cp<cm;cp++){cr=co.length;b3.find(e,this[cp],co);if(cp>0){for(cs=cr;cs<co.length;cs++){for(cq=0;cq<cr;cq++){if(co[cq]===co[cs]){co.splice(cs--,1);break}}}}}return co},has:function(co){var cn,cm=b3(co,this),e=cm.length;return this.filter(function(){for(cn=0;cn<e;cn++){if(b3.contains(this,cm[cn])){return true}}})},not:function(e){return this.pushStack(a7(this,e,false),"not",e)},filter:function(e){return this.pushStack(a7(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?B.test(e)?b3(e,this.context).index(this[0])>=0:b3.filter(e,this).length>0:this.filter(e).length>0)},closest:function(cp,co){var cq,cn=0,e=this.length,cm=[],cr=B.test(cp)||typeof cp!=="string"?b3(cp,co||this.context):0;for(;cn<e;cn++){cq=this[cn];while(cq&&cq.ownerDocument&&cq!==co&&cq.nodeType!==11){if(cr?cr.index(cq)>-1:b3.find.matchesSelector(cq,cp)){cm.push(cq);break}cq=cq.parentNode}}cm=cm.length>1?b3.unique(cm):cm;return this.pushStack(cm,"closest",cp)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return b3.inArray(this[0],b3(e))}return b3.inArray(e.jquery?e[0]:e,this)},add:function(e,cm){var co=typeof e==="string"?b3(e,cm):b3.makeArray(e&&e.nodeType?[e]:e),cn=b3.merge(this.get(),co);return this.pushStack(bd(co[0])||bd(cn[0])?cn:b3.unique(cn))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});b3.fn.andSelf=b3.fn.addBack;function bd(e){return !e||!e.parentNode||e.parentNode.nodeType===11}function bl(cm,e){do{cm=cm[e]}while(cm&&cm.nodeType!==1);return cm}b3.each({parent:function(cm){var e=cm.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return b3.dir(e,"parentNode")},parentsUntil:function(cm,e,cn){return b3.dir(cm,"parentNode",cn)},next:function(e){return bl(e,"nextSibling")},prev:function(e){return bl(e,"previousSibling")},nextAll:function(e){return b3.dir(e,"nextSibling")},prevAll:function(e){return b3.dir(e,"previousSibling")},nextUntil:function(cm,e,cn){return b3.dir(cm,"nextSibling",cn)},prevUntil:function(cm,e,cn){return b3.dir(cm,"previousSibling",cn)},siblings:function(e){return b3.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b3.sibling(e.firstChild)},contents:function(e){return b3.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b3.merge([],e.childNodes)}},function(e,cm){b3.fn[e]=function(cp,cn){var co=b3.map(this,cm,cp);if(!az.test(e)){cn=cp}if(cn&&typeof cn==="string"){co=b3.filter(cn,co)}co=this.length>1&&!bR[e]?b3.unique(co):co;if(this.length>1&&bN.test(e)){co=co.reverse()}return this.pushStack(co,e,br.call(arguments).join(","))}});b3.extend({filter:function(cn,e,cm){if(cm){cn=":not("+cn+")"}return e.length===1?b3.find.matchesSelector(e[0],cn)?[e[0]]:[]:b3.find.matches(cn,e)},dir:function(cn,cm,cp){var e=[],co=cn[cm];while(co&&co.nodeType!==9&&(cp===aW||co.nodeType!==1||!b3(co).is(cp))){if(co.nodeType===1){e.push(co)}co=co[cm]}return e},sibling:function(cn,cm){var e=[];for(;cn;cn=cn.nextSibling){if(cn.nodeType===1&&cn!==cm){e.push(cn)}}return e}});function a7(co,cn,e){cn=cn||0;if(b3.isFunction(cn)){return b3.grep(co,function(cq,cp){var cr=!!cn.call(cq,cp,cq);return cr===e})}else{if(cn.nodeType){return b3.grep(co,function(cq,cp){return(cq===cn)===e})}else{if(typeof cn==="string"){var cm=b3.grep(co,function(cp){return cp.nodeType===1});if(aF.test(cn)){return b3.filter(cn,cm,!e)}else{cn=b3.filter(cn,cm)}}}}return b3.grep(co,function(cq,cp){return(b3.inArray(cq,cn)>=0)===e})}function E(e){var cn=c.split("|"),cm=e.createDocumentFragment();if(cm.createElement){while(cn.length){cm.createElement(cn.pop())}}return cm}var c="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aP=/ jQuery\d+="(?:null|\d+)"/g,cl=/^\s+/,aT=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,r=/<([\w:]+)/,cg=/<tbody/i,O=/<|&#?\w+;/,aD=/<(?:script|style|link)/i,aK=/<(?:script|object|embed|option|style)/i,P=new RegExp("<(?:"+c+")[\\s/>]","i"),aZ=/^(?:checkbox|radio)$/,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,bT=/\/(java|ecma)script/i,a2=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ac={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bb=E(q),m=bb.appendChild(q.createElement("div"));ac.optgroup=ac.option;ac.tbody=ac.tfoot=ac.colgroup=ac.caption=ac.thead;ac.th=ac.td;if(!b3.support.htmlSerialize){ac._default=[1,"X<div>","</div>"]}b3.fn.extend({text:function(e){return b3.access(this,function(cm){return cm===aW?b3.text(this):this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(cm))},null,e,arguments.length)},wrapAll:function(e){if(b3.isFunction(e)){return this.each(function(cn){b3(this).wrapAll(e.call(this,cn))})}if(this[0]){var cm=b3(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){cm.insertBefore(this[0])}cm.map(function(){var cn=this;while(cn.firstChild&&cn.firstChild.nodeType===1){cn=cn.firstChild}return cn}).append(this)}return this},wrapInner:function(e){if(b3.isFunction(e)){return this.each(function(cm){b3(this).wrapInner(e.call(this,cm))})}return this.each(function(){var cm=b3(this),cn=cm.contents();if(cn.length){cn.wrapAll(e)}else{cm.append(e)}})},wrap:function(e){var cm=b3.isFunction(e);return this.each(function(cn){b3(this).wrapAll(cm?e.call(this,cn):e)})},unwrap:function(){return this.parent().each(function(){if(!b3.nodeName(this,"body")){b3(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!bd(this[0])){return this.domManip(arguments,false,function(cm){this.parentNode.insertBefore(cm,this)})}if(arguments.length){var e=b3.clean(arguments);return this.pushStack(b3.merge(e,this),"before",this.selector)}},after:function(){if(!bd(this[0])){return this.domManip(arguments,false,function(cm){this.parentNode.insertBefore(cm,this.nextSibling)})}if(arguments.length){var e=b3.clean(arguments);return this.pushStack(b3.merge(this,e),"after",this.selector)}},remove:function(e,co){var cn,cm=0;for(;(cn=this[cm])!=null;cm++){if(!e||b3.filter(e,[cn]).length){if(!co&&cn.nodeType===1){b3.cleanData(cn.getElementsByTagName("*"));b3.cleanData([cn])}if(cn.parentNode){cn.parentNode.removeChild(cn)}}}return this},empty:function(){var cm,e=0;for(;(cm=this[e])!=null;e++){if(cm.nodeType===1){b3.cleanData(cm.getElementsByTagName("*"))}while(cm.firstChild){cm.removeChild(cm.firstChild)}}return this},clone:function(cm,e){cm=cm==null?false:cm;e=e==null?cm:e;return this.map(function(){return b3.clone(this,cm,e)})},html:function(e){return b3.access(this,function(cp){var co=this[0]||{},cn=0,cm=this.length;if(cp===aW){return co.nodeType===1?co.innerHTML.replace(aP,""):aW}if(typeof cp==="string"&&!aD.test(cp)&&(b3.support.htmlSerialize||!P.test(cp))&&(b3.support.leadingWhitespace||!cl.test(cp))&&!ac[(r.exec(cp)||["",""])[1].toLowerCase()]){cp=cp.replace(aT,"<$1></$2>");try{for(;cn<cm;cn++){co=this[cn]||{};if(co.nodeType===1){b3.cleanData(co.getElementsByTagName("*"));co.innerHTML=cp}}co=0}catch(cq){}}if(co){this.empty().append(cp)}},null,e,arguments.length)},replaceWith:function(e){if(!bd(this[0])){if(b3.isFunction(e)){return this.each(function(co){var cn=b3(this),cm=cn.html();cn.replaceWith(e.call(this,co,cm))})}if(typeof e!=="string"){e=b3(e).detach()}return this.each(function(){var cn=this.nextSibling,cm=this.parentNode;b3(this).remove();if(cn){b3(cn).before(e)}else{b3(cm).append(e)}})}return this.length?this.pushStack(b3(b3.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(cr,cv,cu){cr=[].concat.apply([],cr);var cn,cp,cq,ct,co=0,cs=cr[0],cm=[],e=this.length;if(!b3.support.checkClone&&e>1&&typeof cs==="string"&&ce.test(cs)){return this.each(function(){b3(this).domManip(cr,cv,cu)})}if(b3.isFunction(cs)){return this.each(function(cx){var cw=b3(this);cr[0]=cs.call(this,cx,cv?cw.html():aW);cw.domManip(cr,cv,cu)})}if(this[0]){cn=b3.buildFragment(cr,this,cm);cq=cn.fragment;cp=cq.firstChild;if(cq.childNodes.length===1){cq=cp}if(cp){cv=cv&&b3.nodeName(cp,"tr");for(ct=cn.cacheable||e-1;co<e;co++){cu.call(cv&&b3.nodeName(this[co],"table")?A(this[co],"tbody"):this[co],co===ct?cq:b3.clone(cq,true,true))}}cq=cp=null;if(cm.length){b3.each(cm,function(cw,cx){if(cx.src){if(b3.ajax){b3.ajax({url:cx.src,type:"GET",dataType:"script",async:false,global:false,beforeSend:CsrfGuard.beforeAjaxSend,"throws":true})}else{b3.error("no ajax")}}else{b3.globalEval((cx.text||cx.textContent||cx.innerHTML||"").replace(a2,""))}if(cx.parentNode){cx.parentNode.removeChild(cx)}})}}return this}});function A(cm,e){return cm.getElementsByTagName(e)[0]||cm.appendChild(cm.ownerDocument.createElement(e))}function aJ(cs,cm){if(cm.nodeType!==1||!b3.hasData(cs)){return}var cp,co,e,cr=b3._data(cs),cq=b3._data(cm,cr),cn=cr.events;if(cn){delete cq.handle;cq.events={};for(cp in cn){for(co=0,e=cn[cp].length;co<e;co++){b3.event.add(cm,cp,cn[cp][co])}}}if(cq.data){cq.data=b3.extend({},cq.data)}}function J(cn,e){var co;if(e.nodeType!==1){return}try{if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(cn)}}catch(cm){}co=e.nodeName.toLowerCase();if(co==="object"){if(e.parentNode){e.outerHTML=cn.outerHTML}if(b3.support.html5Clone&&(cn.innerHTML&&!b3.trim(e.innerHTML))){e.innerHTML=cn.innerHTML}}else{if(co==="input"&&aZ.test(cn.type)){e.defaultChecked=e.checked=cn.checked;if(e.value!==cn.value){e.value=cn.value}}else{if(co==="option"){e.selected=cn.defaultSelected}else{if(co==="input"||co==="textarea"){e.defaultValue=cn.defaultValue}else{if(co==="script"&&e.text!==cn.text){e.text=cn.text}}}}}e.removeAttribute(b3.expando)}b3.buildFragment=function(co,cp,cm){var cn,e,cq,cr=co[0];cp=cp||q;cp=!cp.nodeType&&cp[0]||cp;cp=cp.ownerDocument||cp;if(co.length===1&&typeof cr==="string"&&cr.length<512&&cp===q&&cr.charAt(0)==="<"&&!aK.test(cr)&&(b3.support.checkClone||!ce.test(cr))&&(b3.support.html5Clone||!P.test(cr))){e=true;cn=b3.fragments[cr];cq=cn!==aW}if(!cn){cn=cp.createDocumentFragment();b3.clean(co,cp,cn,cm);if(e){b3.fragments[cr]=cq&&cn}}return{fragment:cn,cacheable:e}};b3.fragments={};b3.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,cm){b3.fn[e]=function(cn){var cp,cr=0,cq=[],ct=b3(cn),co=ct.length,cs=this.length===1&&this[0].parentNode;if((cs==null||cs&&cs.nodeType===11&&cs.childNodes.length===1)&&co===1){ct[cm](this[0]);return this}else{for(;cr<co;cr++){cp=(cr>0?this.clone(true):this).get();b3(ct[cr])[cm](cp);cq=cq.concat(cp)}return this.pushStack(cq,e,ct.selector)}}});function n(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function cf(e){if(aZ.test(e.type)){e.defaultChecked=e.checked}}b3.extend({clone:function(cp,cr,cn){var e,cm,co,cq;if(b3.support.html5Clone||b3.isXMLDoc(cp)||!P.test("<"+cp.nodeName+">")){cq=cp.cloneNode(true)}else{m.innerHTML=cp.outerHTML;m.removeChild(cq=m.firstChild)}if((!b3.support.noCloneEvent||!b3.support.noCloneChecked)&&(cp.nodeType===1||cp.nodeType===11)&&!b3.isXMLDoc(cp)){J(cp,cq);e=n(cp);cm=n(cq);for(co=0;e[co];++co){if(cm[co]){J(e[co],cm[co])}}}if(cr){aJ(cp,cq);if(cn){e=n(cp);cm=n(cq);for(co=0;e[co];++co){aJ(e[co],cm[co])}}}e=cm=null;return cq},clean:function(cy,cn,e,co){var cv,cu,cx,cC,cr,cB,cs,cp,cm,cw,cA,ct,cq=cn===q&&bb,cz=[];if(!cn||typeof cn.createDocumentFragment==="undefined"){cn=q}for(cv=0;(cx=cy[cv])!=null;cv++){if(typeof cx==="number"){cx+=""}if(!cx){continue}if(typeof cx==="string"){if(!O.test(cx)){cx=cn.createTextNode(cx)}else{cq=cq||E(cn);cs=cn.createElement("div");cq.appendChild(cs);cx=cx.replace(aT,"<$1></$2>");cC=(r.exec(cx)||["",""])[1].toLowerCase();cr=ac[cC]||ac._default;cB=cr[0];cs.innerHTML=cr[1]+cx+cr[2];while(cB--){cs=cs.lastChild}if(!b3.support.tbody){cp=cg.test(cx);cm=cC==="table"&&!cp?cs.firstChild&&cs.firstChild.childNodes:cr[1]==="<table>"&&!cp?cs.childNodes:[];for(cu=cm.length-1;cu>=0;--cu){if(b3.nodeName(cm[cu],"tbody")&&!cm[cu].childNodes.length){cm[cu].parentNode.removeChild(cm[cu])}}}if(!b3.support.leadingWhitespace&&cl.test(cx)){cs.insertBefore(cn.createTextNode(cl.exec(cx)[0]),cs.firstChild)}cx=cs.childNodes;cs.parentNode.removeChild(cs)}}if(cx.nodeType){cz.push(cx)}else{b3.merge(cz,cx)}}if(cs){cx=cs=cq=null}if(!b3.support.appendChecked){for(cv=0;(cx=cz[cv])!=null;cv++){if(b3.nodeName(cx,"input")){cf(cx)}else{if(typeof cx.getElementsByTagName!=="undefined"){b3.grep(cx.getElementsByTagName("input"),cf)}}}}if(e){cA=function(cD){if(!cD.type||bT.test(cD.type)){return co?co.push(cD.parentNode?cD.parentNode.removeChild(cD):cD):e.appendChild(cD)}};for(cv=0;(cx=cz[cv])!=null;cv++){if(!(b3.nodeName(cx,"script")&&cA(cx))){e.appendChild(cx);if(typeof cx.getElementsByTagName!=="undefined"){ct=b3.grep(b3.merge([],cx.getElementsByTagName("script")),cA);cz.splice.apply(cz,[cv+1,0].concat(ct));cv+=ct.length}}}}return cz},cleanData:function(cm,cu){var cp,cn,co,ct,cq=0,cv=b3.expando,e=b3.cache,cr=b3.support.deleteExpando,cs=b3.event.special;for(;(co=cm[cq])!=null;cq++){if(cu||b3.acceptData(co)){cn=co[cv];cp=cn&&e[cn];if(cp){if(cp.events){for(ct in cp.events){if(cs[ct]){b3.event.remove(co,ct)}else{b3.removeEvent(co,ct,cp.handle)}}}if(e[cn]){delete e[cn];if(cr){delete co[cv]}else{if(co.removeAttribute){co.removeAttribute(cv)}else{co[cv]=null}}b3.deletedIds.push(cn)}}}}}});(function(){var e,cm;b3.uaMatch=function(co){co=co.toLowerCase();var cn=/(chrome)[ \/]([\w.]+)/.exec(co)||/(webkit)[ \/]([\w.]+)/.exec(co)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(co)||/(msie) ([\w.]+)/.exec(co)||/(trident)[ \/](?:.*? rv:([\w.]+)|)/.exec(co)||co.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(co)||[];if(cn[1]=="trident"){cn[1]="msie"}return{browser:cn[1]||"",version:cn[2]||"0"}};e=b3.uaMatch(d.userAgent);cm={};if(e.browser){cm[e.browser]=true;cm.version=e.version}if(cm.chrome){cm.webkit=true}else{if(cm.webkit){cm.safari=true}}b3.browser=cm;b3.sub=function(){function cn(cq,cr){return new cn.fn.init(cq,cr)}b3.extend(true,cn,this);cn.superclass=this;cn.fn=cn.prototype=this();cn.fn.constructor=cn;cn.sub=this.sub;cn.fn.init=function cp(cq,cr){if(cr&&cr instanceof b3&&!(cr instanceof cn)){cr=cn(cr)}return b3.fn.init.call(this,cq,cr,co)};cn.fn.init.prototype=cn.fn;var co=cn(q);return cn}})();var I,aU,bj,bB=/alpha\([^)]*\)/i,bf=/opacity=([^)]*)/,bH=/^(top|right|bottom|left)$/,K=/^(none|table(?!-c[ea]).+)/,bm=/^margin/,bv=new RegExp("^("+bU+")(.*)$","i"),af=new RegExp("^("+bU+")(?!px)[a-z%]+$","i"),ab=new RegExp("^([-+])=("+bU+")","i"),bE={BODY:"block"},bw={position:"absolute",visibility:"hidden",display:"block"},bX={letterSpacing:0,fontWeight:400},cd=["Top","Right","Bottom","Left"],aM=["Webkit","O","Moz","ms"],a4=b3.fn.toggle;function b(co,cm){if(cm in co){return cm}var cp=cm.charAt(0).toUpperCase()+cm.slice(1),e=cm,cn=aM.length;while(cn--){cm=aM[cn]+cp;if(cm in co){return cm}}return e}function Z(cm,e){cm=e||cm;return b3.css(cm,"display")==="none"||!b3.contains(cm.ownerDocument,cm)}function u(cq,e){var cp,cr,cm=[],cn=0,co=cq.length;for(;cn<co;cn++){cp=cq[cn];if(!cp.style){continue}cm[cn]=b3._data(cp,"olddisplay");if(e){if(!cm[cn]&&cp.style.display==="none"){cp.style.display=""}if(cp.style.display===""&&Z(cp)){cm[cn]=b3._data(cp,"olddisplay",bZ(cp.nodeName))}}else{cr=I(cp,"display");if(!cm[cn]&&cr!=="none"){b3._data(cp,"olddisplay",cr)}}}for(cn=0;cn<co;cn++){cp=cq[cn];if(!cp.style){continue}if(!e||cp.style.display==="none"||cp.style.display===""){cp.style.display=e?cm[cn]||"":"none"}}return cq}b3.fn.extend({css:function(e,cm){return b3.access(this,function(co,cn,cp){return cp!==aW?b3.style(co,cn,cp):b3.css(co,cn)},e,cm,arguments.length>1)},show:function(){return u(this,true)},hide:function(){return u(this)},toggle:function(cn,cm){var e=typeof cn==="boolean";if(b3.isFunction(cn)&&b3.isFunction(cm)){return a4.apply(this,arguments)}return this.each(function(){if(e?cn:Z(this)){b3(this).show()}else{b3(this).hide()}})}});b3.extend({cssHooks:{opacity:{get:function(cn,cm){if(cm){var e=I(cn,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":b3.support.cssFloat?"cssFloat":"styleFloat"},style:function(co,cn,cu,cp){if(!co||co.nodeType===3||co.nodeType===8||!co.style){return}var cs,ct,cv,cq=b3.camelCase(cn),cm=co.style;cn=b3.cssProps[cq]||(b3.cssProps[cq]=b(cm,cq));cv=b3.cssHooks[cn]||b3.cssHooks[cq];if(cu!==aW){ct=typeof cu;if(ct==="string"&&(cs=ab.exec(cu))){cu=(cs[1]+1)*cs[2]+parseFloat(b3.css(co,cn));ct="number"}if(cu==null||ct==="number"&&isNaN(cu)){return}if(ct==="number"&&!b3.cssNumber[cq]){cu+="px"}if(!cv||!("set" in cv)||(cu=cv.set(co,cu,cp))!==aW){try{cm[cn]=cu}catch(cr){}}}else{if(cv&&"get" in cv&&(cs=cv.get(co,false,cp))!==aW){return cs}return cm[cn]}},css:function(cr,cp,cq,cm){var cs,co,e,cn=b3.camelCase(cp);cp=b3.cssProps[cn]||(b3.cssProps[cn]=b(cr.style,cn));e=b3.cssHooks[cp]||b3.cssHooks[cn];if(e&&"get" in e){cs=e.get(cr,true,cm)}if(cs===aW){cs=I(cr,cp)}if(cs==="normal"&&cp in bX){cs=bX[cp]}if(cq||cm!==aW){co=parseFloat(cs);return cq||b3.isNumeric(co)?co||0:cs}return cs},swap:function(cp,co,cq){var cn,cm,e={};for(cm in co){e[cm]=cp.style[cm];cp.style[cm]=co[cm]}cn=cq.call(cp);for(cm in co){cp.style[cm]=e[cm]}return cn}});if(bp.getComputedStyle){I=function(cs,cm){var e,cp,co,cr,cq=bp.getComputedStyle(cs,null),cn=cs.style;if(cq){e=cq.getPropertyValue(cm)||cq[cm];if(e===""&&!b3.contains(cs.ownerDocument,cs)){e=b3.style(cs,cm)}if(af.test(e)&&bm.test(cm)){cp=cn.width;co=cn.minWidth;cr=cn.maxWidth;cn.minWidth=cn.maxWidth=cn.width=e;e=cq.width;cn.width=cp;cn.minWidth=co;cn.maxWidth=cr}}return e}}else{if(q.documentElement.currentStyle){I=function(cp,cn){var cq,e,cm=cp.currentStyle&&cp.currentStyle[cn],co=cp.style;if(cm==null&&co&&co[cn]){cm=co[cn]}if(af.test(cm)&&!bH.test(cn)){cq=co.left;e=cp.runtimeStyle&&cp.runtimeStyle.left;if(e){cp.runtimeStyle.left=cp.currentStyle.left}co.left=cn==="fontSize"?"1em":cm;cm=co.pixelLeft+"px";co.left=cq;if(e){cp.runtimeStyle.left=e}}return cm===""?"auto":cm}}}function a1(e,cn,co){var cm=bv.exec(cn);return cm?Math.max(0,cm[1]-(co||0))+(cm[2]||"px"):cn}function aN(co,cm,e,cq){var cn=e===(cq?"border":"content")?4:cm==="width"?1:0,cp=0;for(;cn<4;cn+=2){if(e==="margin"){cp+=b3.css(co,e+cd[cn],true)}if(cq){if(e==="content"){cp-=parseFloat(I(co,"padding"+cd[cn]))||0}if(e!=="margin"){cp-=parseFloat(I(co,"border"+cd[cn]+"Width"))||0}}else{cp+=parseFloat(I(co,"padding"+cd[cn]))||0;if(e!=="padding"){cp+=parseFloat(I(co,"border"+cd[cn]+"Width"))||0}}}return cp}function x(co,cm,e){var cp=cm==="width"?co.offsetWidth:co.offsetHeight,cn=true,cq=b3.support.boxSizing&&b3.css(co,"boxSizing")==="border-box";if(cp<=0||cp==null){cp=I(co,cm);if(cp<0||cp==null){cp=co.style[cm]}if(af.test(cp)){return cp}cn=cq&&(b3.support.boxSizingReliable||cp===co.style[cm]);cp=parseFloat(cp)||0}return(cp+aN(co,cm,e||(cq?"border":"content"),cn))+"px"}function bZ(cn){if(bE[cn]){return bE[cn]}var e=b3("<"+cn+">").appendTo(q.body),cm=e.css("display");e.remove();if(cm==="none"||cm===""){aU=q.body.appendChild(aU||b3.extend(q.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bj||!aU.createElement){bj=(aU.contentWindow||aU.contentDocument).document;bj.write("<!doctype html><html><body>");bj.close()}e=bj.body.appendChild(bj.createElement(cn));cm=I(e,"display");q.body.removeChild(aU)}bE[cn]=cm;return cm}b3.each(["height","width"],function(cm,e){b3.cssHooks[e]={get:function(cp,co,cn){if(co){if(cp.offsetWidth===0&&K.test(I(cp,"display"))){return b3.swap(cp,bw,function(){return x(cp,e,cn)})}else{return x(cp,e,cn)}}},set:function(co,cp,cn){return a1(co,cp,cn?aN(co,e,cn,b3.support.boxSizing&&b3.css(co,"boxSizing")==="border-box"):0)}}});if(!b3.support.opacity){b3.cssHooks.opacity={get:function(cm,e){return bf.test((e&&cm.currentStyle?cm.currentStyle.filter:cm.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(cp,cq){var co=cp.style,cm=cp.currentStyle,e=b3.isNumeric(cq)?"alpha(opacity="+cq*100+")":"",cn=cm&&cm.filter||co.filter||"";co.zoom=1;if(cq>=1&&b3.trim(cn.replace(bB,""))===""&&co.removeAttribute){co.removeAttribute("filter");if(cm&&!cm.filter){return}}co.filter=bB.test(cn)?cn.replace(bB,e):cn+" "+e}}}b3(function(){if(!b3.support.reliableMarginRight){b3.cssHooks.marginRight={get:function(cm,e){return b3.swap(cm,{display:"inline-block"},function(){if(e){return I(cm,"marginRight")}})}}}if(!b3.support.pixelPosition&&b3.fn.position){b3.each(["top","left"],function(e,cm){b3.cssHooks[cm]={get:function(cp,co){if(co){var cn=I(cp,cm);return af.test(cn)?b3(cp).position()[cm]+"px":cn}}}})}});if(b3.expr&&b3.expr.filters){b3.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!b3.support.reliableHiddenOffsets&&((e.style&&e.style.display)||I(e,"display"))==="none")};b3.expr.filters.visible=function(e){return !b3.expr.filters.hidden(e)}}b3.each({margin:"",padding:"",border:"Width"},function(e,cm){b3.cssHooks[e+cm]={expand:function(cp){var co,cq=typeof cp==="string"?cp.split(" "):[cp],cn={};for(co=0;co<4;co++){cn[e+cd[co]+cm]=cq[co]||cq[co-2]||cq[0]}return cn}};if(!bm.test(e)){b3.cssHooks[e+cm].set=a1}});var bP=/%20/g,ba=/\[\]$/,ad=/\r?\n/g,bW=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aY=/^(?:select|textarea)/i;b3.fn.extend({serialize:function(){return b3.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b3.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aY.test(this.nodeName)||bW.test(this.type))}).map(function(e,cm){var cn=b3(this).val();return cn==null?null:b3.isArray(cn)?b3.map(cn,function(cp,co){return{name:cm.name,value:cp.replace(ad,"\r\n")}}):{name:cm.name,value:cn.replace(ad,"\r\n")}}).get()}});b3.param=function(e,cn){var co,cm=[],cp=function(cq,cr){cr=b3.isFunction(cr)?cr():(cr==null?"":cr);cm[cm.length]=encodeURIComponent(cq)+"="+encodeURIComponent(cr)};if(cn===aW){cn=b3.ajaxSettings&&b3.ajaxSettings.traditional}if(b3.isArray(e)||(e.jquery&&!b3.isPlainObject(e))){b3.each(e,function(){cp(this.name,this.value)})}else{for(co in e){l(co,e[co],cn,cp)}}return cm.join("&").replace(bP,"+")};function l(cn,cp,cm,co){var e;if(b3.isArray(cp)){b3.each(cp,function(cr,cq){if(cm||ba.test(cn)){co(cn,cq)}else{l(cn+"["+(typeof cq==="object"?cr:"")+"]",cq,cm,co)}})}else{if(!cm&&b3.type(cp)==="object"){for(e in cp){l(cn+"["+e+"]",cp[e],cm,co)}}else{co(cn,cp)}}}var ck,ah,aH=/#.*$/,aw=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,F=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,t=/^(?:GET|HEAD)$/,aX=/^\/\//,ca=/\?/,g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Y=/([?&])_=[^&]*/,bg=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cj=b3.fn.load,y={},bt={},bk=["*/"]+["*"];try{ah=a3.href}catch(bA){ah=q.createElement("a");ah.href="";ah=ah.href}ck=bg.exec(ah.toLowerCase())||[];function b5(e){return function(cp,cr){if(typeof cp!=="string"){cr=cp;cp="*"}var cm,cs,ct,co=cp.toLowerCase().split(bi),cn=0,cq=co.length;if(b3.isFunction(cr)){for(;cn<cq;cn++){cm=co[cn];ct=/^\+/.test(cm);if(ct){cm=cm.substr(1)||"*"}cs=e[cm]=e[cm]||[];cs[ct?"unshift":"push"](cr)}}}}function s(cm,cv,cq,ct,cs,co){cs=cs||cv.dataTypes[0];co=co||{};co[cs]=true;var cu,cr=cm[cs],cn=0,e=cr?cr.length:0,cp=(cm===y);for(;cn<e&&(cp||!cu);cn++){cu=cr[cn](cv,cq,ct);if(typeof cu==="string"){if(!cp||co[cu]){cu=aW}else{cv.dataTypes.unshift(cu);cu=s(cm,cv,cq,ct,cu,co)}}}if((cp||!cu)&&!co["*"]){cu=s(cm,cv,cq,ct,"*",co)}return cu}function w(cn,co){var cm,e,cp=b3.ajaxSettings.flatOptions||{};for(cm in co){if(co[cm]!==aW){(cp[cm]?cn:(e||(e={})))[cm]=co[cm]}}if(e){b3.extend(true,cn,e)}}b3.fn.load=function(co,cr,cs){if(typeof co!=="string"&&cj){return cj.apply(this,arguments)}if(!this.length){return this}var e,cp,cn,cm=this,cq=co.indexOf(" ");if(cq>=0){e=co.slice(cq,co.length);co=co.slice(0,cq)}if(b3.isFunction(cr)){cs=cr;cr=aW}else{if(cr&&typeof cr==="object"){cp="POST"}}b3.ajax({url:co,type:cp,dataType:"html",data:cr,complete:function(cu,ct){if(cs){cm.each(cs,cn||[cu.responseText,ct,cu])}}}).done(function(ct){cn=arguments;cm.html(e?b3("<div>").append(ct.replace(g,"")).find(e):ct)});return this};b3.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,cm){b3.fn[cm]=function(cn){return this.on(cm,cn)}});b3.each(["get","post"],function(e,cm){b3[cm]=function(cn,cp,cq,co){if(b3.isFunction(cp)){co=co||cq;cq=cp;cp=aW}return b3.ajax({type:cm,url:cn,data:cp,success:cq,dataType:co})}});b3.extend({getScript:function(e,cm){return b3.get(e,aW,cm,"script")},getJSON:function(e,cm,cn){return b3.get(e,cm,cn,"json")},ajaxSetup:function(cm,e){if(e){w(cm,b3.ajaxSettings)}else{e=cm;cm=b3.ajaxSettings}w(cm,e);return cm},ajaxSettings:{url:ah,isLocal:F.test(ck[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bk},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bp.String,"text html":true,"text json":b3.parseJSON,"text xml":b3.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:b5(y),ajaxTransport:b5(bt),ajax:function(cr,co){if(typeof cr==="object"){co=cr;cr=aW}co=co||{};var cu,cI,cp,cD,cw,cA,cn,cC,cv=b3.ajaxSetup({},co),cK=cv.context||cv,cy=cK!==cv&&(cK.nodeType||cK instanceof b3)?b3(cK):b3.event,cJ=b3.Deferred(),cF=b3.Callbacks("once memory"),cs=cv.statusCode||{},cz={},cG={},cq=0,ct="canceled",cB={readyState:0,setRequestHeader:function(cL,cM){if(!cq){var e=cL.toLowerCase();cL=cG[e]=cG[e]||cL;cz[cL]=cM}return this},getAllResponseHeaders:function(){return cq===2?cI:null},getResponseHeader:function(cL){var e;if(cq===2){if(!cp){cp={};while((e=aw.exec(cI))){cp[e[1].toLowerCase()]=e[2]}}e=cp[cL.toLowerCase()]}return e===aW?null:e},overrideMimeType:function(e){if(!cq){cv.mimeType=e}return this},abort:function(e){e=e||ct;if(cD){cD.abort(e)}cx(0,e);return this}};function cx(cP,cL,cQ,cN){var e,cT,cR,cO,cS,cM=cL;if(cq===2){return}cq=2;if(cw){clearTimeout(cw)}cD=aW;cI=cN||"";cB.readyState=cP>0?4:0;if(cQ){cO=h(cv,cB,cQ)}if(cP>=200&&cP<300||cP===304){if(cv.ifModified){cS=cB.getResponseHeader("Last-Modified");if(cS){b3.lastModified[cu]=cS}cS=cB.getResponseHeader("Etag");if(cS){b3.etag[cu]=cS}}if(cP===304){cM="notmodified";e=true}else{e=ax(cv,cO);cM=e.state;cT=e.data;cR=e.error;e=!cR}}else{cR=cM;if(!cM||cP){cM="error";if(cP<0){cP=0}}}cB.status=cP;cB.statusText=(cL||cM)+"";if(e){cJ.resolveWith(cK,[cT,cM,cB])}else{cJ.rejectWith(cK,[cB,cM,cR])}cB.statusCode(cs);cs=aW;if(cn){cy.trigger("ajax"+(e?"Success":"Error"),[cB,cv,e?cT:cR])}cF.fireWith(cK,[cB,cM]);if(cn){cy.trigger("ajaxComplete",[cB,cv]);if(!(--b3.active)){b3.event.trigger("ajaxStop")}}}cJ.promise(cB);cB.success=cB.done;cB.error=cB.fail;cB.complete=cF.add;cB.statusCode=function(cL){if(cL){var e;if(cq<2){for(e in cL){cs[e]=[cs[e],cL[e]]}}else{e=cL[cB.status];cB.always(e)}}return this};cv.url=((cr||cv.url)+"").replace(aH,"").replace(aX,ck[1]+"//");cv.dataTypes=b3.trim(cv.dataType||"*").toLowerCase().split(bi);if(cv.crossDomain==null){cA=bg.exec(cv.url.toLowerCase());cv.crossDomain=!!(cA&&(cA[1]!==ck[1]||cA[2]!==ck[2]||(cA[3]||(cA[1]==="http:"?80:443))!=(ck[3]||(ck[1]==="http:"?80:443))))}if(cv.data&&cv.processData&&typeof cv.data!=="string"){cv.data=b3.param(cv.data,cv.traditional)}s(y,cv,co,cB);if(cq===2){return cB}cn=cv.global;cv.type=cv.type.toUpperCase();cv.hasContent=!t.test(cv.type);if(cn&&b3.active++===0){b3.event.trigger("ajaxStart")}if(!cv.hasContent){if(cv.data){cv.url+=(ca.test(cv.url)?"&":"?")+cv.data;delete cv.data}cu=cv.url;if(cv.cache===false){var cm=b3.now(),cH=cv.url.replace(Y,"$1_="+cm);cv.url=cH+((cH===cv.url)?(ca.test(cv.url)?"&":"?")+"_="+cm:"")}}if(cv.data&&cv.hasContent&&cv.contentType!==false||co.contentType){cB.setRequestHeader("Content-Type",cv.contentType)}if(cv.ifModified){cu=cu||cv.url;if(b3.lastModified[cu]){cB.setRequestHeader("If-Modified-Since",b3.lastModified[cu])}if(b3.etag[cu]){cB.setRequestHeader("If-None-Match",b3.etag[cu])}}cB.setRequestHeader("Accept",cv.dataTypes[0]&&cv.accepts[cv.dataTypes[0]]?cv.accepts[cv.dataTypes[0]]+(cv.dataTypes[0]!=="*"?", "+bk+"; q=0.01":""):cv.accepts["*"]);for(cC in cv.headers){cB.setRequestHeader(cC,cv.headers[cC])}if(cv.beforeSend&&(cv.beforeSend.call(cK,cB,cv)===false||cq===2)){return cB.abort()}ct="abort";for(cC in {success:1,error:1,complete:1}){cB[cC](cv[cC])}cD=s(bt,cv,co,cB);if(!cD){cx(-1,"No Transport")}else{cB.readyState=1;if(cn){cy.trigger("ajaxSend",[cB,cv])}if(cv.async&&cv.timeout>0){cw=setTimeout(function(){cB.abort("timeout")},cv.timeout)}try{cq=1;cD.send(cz,cx)}catch(cE){if(cq<2){cx(-1,cE)}else{if(typeof(getCtpTop)==="function"&&getCtpTop()&&typeof(getCtpTop().LogoutFlag)!="undefined"&&!getCtpTop().LogoutFlag){if(cE=="Logout"){getCtpTop().LogoutFlag=true;offlineFun();return}}}}}return cB},active:0,lastModified:{},etag:{}});function h(cv,cu,cq){var cp,cr,co,e,cm=cv.contents,cs=cv.dataTypes,cn=cv.responseFields;for(cr in cn){if(cr in cq){cu[cn[cr]]=cq[cr]}}while(cs[0]==="*"){cs.shift();if(cp===aW){cp=cv.mimeType||cu.getResponseHeader("content-type")}}if(cp){for(cr in cm){if(cm[cr]&&cm[cr].test(cp)){cs.unshift(cr);break}}}if(cs[0] in cq){co=cs[0]}else{for(cr in cq){if(!cs[0]||cv.converters[cr+" "+cs[0]]){co=cr;break}if(!e){e=cr}}co=co||e}if(co){if(co!==cs[0]){cs.unshift(co)}return cq[co]}}function ax(cw,co){var cu,cm,cs,cq,ct=cw.dataTypes.slice(),cn=ct[0],cv={},cp=0;if(cw.dataFilter){co=cw.dataFilter(co,cw.dataType)}if(ct[1]){for(cu in cw.converters){cv[cu.toLowerCase()]=cw.converters[cu]}}for(;(cs=ct[++cp]);){if(cs!=="*"){if(cn!=="*"&&cn!==cs){cu=cv[cn+" "+cs]||cv["* "+cs];if(!cu){for(cm in cv){cq=cm.split(" ");if(cq[1]===cs){cu=cv[cn+" "+cq[0]]||cv["* "+cq[0]];if(cu){if(cu===true){cu=cv[cm]}else{if(cv[cm]!==true){cs=cq[0];ct.splice(cp--,0,cs)}}break}}}}if(cu!==true){if(cu&&cw["throws"]){co=cu(co)}else{try{co=cu(co)}catch(cr){return{state:"parsererror",error:cu?cr:"No conversion from "+cn+" to "+cs}}}}}cn=cs}}return{state:"success",data:co}}var bM=[],aR=/\?/,bs=/(=)\?(?=&|$)|\?\?/,bI=b3.now();b3.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bM.pop()||(b3.expando+"_"+(bI++));this[e]=true;return e}});b3.ajaxPrefilter("json jsonp",function(cv,cq,cu){var ct,e,cs,co=cv.data,cm=cv.url,cn=cv.jsonp!==false,cr=cn&&bs.test(cm),cp=cn&&!cr&&typeof co==="string"&&!(cv.contentType||"").indexOf("application/x-www-form-urlencoded")&&bs.test(co);if(cv.dataTypes[0]==="jsonp"||cr||cp){ct=cv.jsonpCallback=b3.isFunction(cv.jsonpCallback)?cv.jsonpCallback():cv.jsonpCallback;e=bp[ct];if(cr){cv.url=cm.replace(bs,"$1"+ct)}else{if(cp){cv.data=co.replace(bs,"$1"+ct)}else{if(cn){cv.url+=(aR.test(cm)?"&":"?")+cv.jsonp+"="+ct}}}cv.converters["script json"]=function(){if(!cs){b3.error(ct+" was not called")}return cs[0]};cv.dataTypes[0]="json";bp[ct]=function(){cs=arguments};cu.always(function(){bp[ct]=e;if(cv[ct]){cv.jsonpCallback=cq.jsonpCallback;bM.push(ct)}if(cs&&b3.isFunction(e)){e(cs[0])}cs=e=aW});return"script"}});b3.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b3.globalEval(e);return e}}});b3.ajaxPrefilter("script",function(e){if(e.cache===aW){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});b3.ajaxTransport("script",function(cn){if(cn.crossDomain){var e,cm=q.head||q.getElementsByTagName("head")[0]||q.documentElement;return{send:function(co,cp){e=q.createElement("script");e.async="async";if(cn.scriptCharset){e.charset=cn.scriptCharset}e.src=cn.url;e.onload=e.onreadystatechange=function(cr,cq){if(cq||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(cm&&e.parentNode){cm.removeChild(e)}e=aW;if(!cq){cp(200,"success")}}};cm.insertBefore(e,cm.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var aA,a8=bp.ActiveXObject?function(){for(var e in aA){aA[e](0,1)}}:false,aO=0;function bY(){try{return new bp.XMLHttpRequest()}catch(cm){}}function by(){try{return new bp.ActiveXObject("Microsoft.XMLHTTP")}catch(cm){}}b3.ajaxSettings.xhr=bp.ActiveXObject?function(){return !this.isLocal&&bY()||by()}:bY;(function(e){b3.extend(b3.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(b3.ajaxSettings.xhr());if(b3.support.ajax){b3.ajaxTransport(function(e){if(!e.crossDomain||b3.support.cors){var cm;return{send:function(cs,cn){var cq,cp,cr=e.xhr();if(e.username){cr.open(e.type,e.url,e.async,e.username,e.password)}else{cr.open(e.type,e.url,e.async)}if(e.xhrFields){for(cp in e.xhrFields){cr[cp]=e.xhrFields[cp]}}if(e.mimeType&&cr.overrideMimeType){cr.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!cs["X-Requested-With"]){cs["X-Requested-With"]="XMLHttpRequest"}try{for(cp in cs){cr.setRequestHeader(cp,cs[cp])}}catch(co){}cr.send((e.hasContent&&e.data)||null);cm=function(cB,cv){var cw,cu,ct,cz,cy;try{if(cm&&(cv||cr.readyState===4)){cm=aW;if(cq){cr.onreadystatechange=b3.noop;if(a8){delete aA[cq]}}if(cv){if(cr.readyState!==4){cr.abort()}}else{cw=cr.status;ct=cr.getAllResponseHeaders();cz={};cy=cr.responseXML;if(cy&&cy.documentElement){cz.xml=cy}try{cz.text=cr.responseText}catch(cA){}try{cu=cr.statusText}catch(cA){cu=""}if(!cw&&e.isLocal&&!e.crossDomain){cw=cz.text?200:404}else{if(cw===1223){cw=204}}}}}catch(cx){if(!cv){cn(-1,cx)}}if(cz){cn(cw,cu,cz,ct)}};if(!e.async){cm()}else{if(cr.readyState===4){setTimeout(cm,0)}else{cq=++aO;if(a8){if(!aA){aA={};b3(bp).unload(a8)}aA[cq]=cm}cr.onreadystatechange=cm}}},abort:function(){if(cm){cm(0,1)}}}}})}var Q,ak,cb=/^(?:toggle|show|hide)$/,b4=new RegExp("^(?:([-+])=|)("+bU+")([a-z%]*)$","i"),b9=/queueHooks$/,aS=[j],bo={"*":[function(e,cs){var co,ct,cu=this.createTween(e,cs),cp=b4.exec(cs),cq=cu.cur(),cm=+cq||0,cn=1,cr=20;if(cp){co=+cp[2];ct=cp[3]||(b3.cssNumber[e]?"":"px");if(ct!=="px"&&cm){cm=b3.css(cu.elem,e,true)||co||1;do{cn=cn||".5";cm=cm/cn;b3.style(cu.elem,e,cm+ct)}while(cn!==(cn=cu.cur()/cq)&&cn!==1&&--cr)}cu.unit=ct;cu.start=cm;cu.end=cp[1]?cm+(cp[1]+1)*co:co}return cu}]};function bG(){setTimeout(function(){Q=aW},0);return(Q=b3.now())}function bz(cm,e){b3.each(e,function(cr,cp){var cq=(bo[cr]||[]).concat(bo["*"]),cn=0,co=cq.length;for(;cn<co;cn++){if(cq[cn].call(cm,cr,cp)){return}}})}function f(cn,cr,cu){var cv,cq=0,e=0,cm=aS.length,ct=b3.Deferred().always(function(){delete cp.elem}),cp=function(){var cB=Q||bG(),cy=Math.max(0,co.startTime+co.duration-cB),cw=cy/co.duration||0,cA=1-cw,cx=0,cz=co.tweens.length;for(;cx<cz;cx++){co.tweens[cx].run(cA)}ct.notifyWith(cn,[co,cA,cy]);if(cA<1&&cz){return cy}else{ct.resolveWith(cn,[co]);return false}},co=ct.promise({elem:cn,props:b3.extend({},cr),opts:b3.extend(true,{specialEasing:{}},cu),originalProperties:cr,originalOptions:cu,startTime:Q||bG(),duration:cu.duration,tweens:[],createTween:function(cz,cw,cy){var cx=b3.Tween(cn,co.opts,cz,cw,co.opts.specialEasing[cz]||co.opts.easing);co.tweens.push(cx);return cx},stop:function(cx){var cw=0,cy=cx?co.tweens.length:0;for(;cw<cy;cw++){co.tweens[cw].run(1)}if(cx){ct.resolveWith(cn,[co,cx])}else{ct.rejectWith(cn,[co,cx])}return this}}),cs=co.props;aE(cs,co.opts.specialEasing);for(;cq<cm;cq++){cv=aS[cq].call(co,cn,cs,co.opts);if(cv){return cv}}bz(co,cs);if(b3.isFunction(co.opts.start)){co.opts.start.call(cn,co)}b3.fx.timer(b3.extend(cp,{anim:co,queue:co.opts.queue,elem:cn}));return co.progress(co.opts.progress).done(co.opts.done,co.opts.complete).fail(co.opts.fail).always(co.opts.always)}function aE(co,cq){var cn,cm,cr,cp,e;for(cn in co){cm=b3.camelCase(cn);cr=cq[cm];cp=co[cn];if(b3.isArray(cp)){cr=cp[1];cp=co[cn]=cp[0]}if(cn!==cm){co[cm]=cp;delete co[cn]}e=b3.cssHooks[cm];if(e&&"expand" in e){cp=e.expand(cp);delete co[cm];for(cn in cp){if(!(cn in co)){co[cn]=cp[cn];cq[cn]=cr}}}else{cq[cm]=cr}}}b3.Animation=b3.extend(f,{tweener:function(cm,cp){if(b3.isFunction(cm)){cp=cm;cm=["*"]}else{cm=cm.split(" ")}var co,e=0,cn=cm.length;for(;e<cn;e++){co=cm[e];bo[co]=bo[co]||[];bo[co].unshift(cp)}},prefilter:function(cm,e){if(e){aS.unshift(cm)}else{aS.push(cm)}}});function j(cp,cv,e){var cu,cn,cx,co,cB,cr,cA,cz,cy,cq=this,cm=cp.style,cw={},ct=[],cs=cp.nodeType&&Z(cp);if(!e.queue){cz=b3._queueHooks(cp,"fx");if(cz.unqueued==null){cz.unqueued=0;cy=cz.empty.fire;cz.empty.fire=function(){if(!cz.unqueued){cy()}}}cz.unqueued++;cq.always(function(){cq.always(function(){cz.unqueued--;if(!b3.queue(cp,"fx").length){cz.empty.fire()}})})}if(cp.nodeType===1&&("height" in cv||"width" in cv)){e.overflow=[cm.overflow,cm.overflowX,cm.overflowY];if(b3.css(cp,"display")==="inline"&&b3.css(cp,"float")==="none"){if(!b3.support.inlineBlockNeedsLayout||bZ(cp.nodeName)==="inline"){cm.display="inline-block"}else{cm.zoom=1}}}if(e.overflow){cm.overflow="hidden";if(!b3.support.shrinkWrapBlocks){cq.done(function(){cm.overflow=e.overflow[0];cm.overflowX=e.overflow[1];cm.overflowY=e.overflow[2]})}}for(cu in cv){cx=cv[cu];if(cb.exec(cx)){delete cv[cu];cr=cr||cx==="toggle";if(cx===(cs?"hide":"show")){continue}ct.push(cu)}}co=ct.length;if(co){cB=b3._data(cp,"fxshow")||b3._data(cp,"fxshow",{});if("hidden" in cB){cs=cB.hidden}if(cr){cB.hidden=!cs}if(cs){b3(cp).show()}else{cq.done(function(){b3(cp).hide()})}cq.done(function(){var cC;b3.removeData(cp,"fxshow",true);for(cC in cw){b3.style(cp,cC,cw[cC])}});for(cu=0;cu<co;cu++){cn=ct[cu];cA=cq.createTween(cn,cs?cB[cn]:0);cw[cn]=cB[cn]||b3.style(cp,cn);if(!(cn in cB)){cB[cn]=cA.start;if(cs){cA.end=cA.start;cA.start=cn==="width"||cn==="height"?1:0}}}}}function M(cn,cm,cp,e,co){return new M.prototype.init(cn,cm,cp,e,co)}b3.Tween=M;M.prototype={constructor:M,init:function(co,cm,cq,e,cp,cn){this.elem=co;this.prop=cq;this.easing=cp||"swing";this.options=cm;this.start=this.now=this.cur();this.end=e;this.unit=cn||(b3.cssNumber[cq]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(cn){var cm,e=M.propHooks[this.prop];if(this.options.duration){this.pos=cm=b3.easing[this.easing](cn,this.options.duration*cn,0,1,this.options.duration)}else{this.pos=cm=cn}this.now=(this.end-this.start)*cm+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{M.propHooks._default.set(this)}return this}};M.prototype.init.prototype=M.prototype;M.propHooks={_default:{get:function(cm){var e;if(cm.elem[cm.prop]!=null&&(!cm.elem.style||cm.elem.style[cm.prop]==null)){return cm.elem[cm.prop]}e=b3.css(cm.elem,cm.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(b3.fx.step[e.prop]){b3.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[b3.cssProps[e.prop]]!=null||b3.cssHooks[e.prop])){b3.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};b3.each(["toggle","show","hide"],function(cm,e){var cn=b3.fn[e];b3.fn[e]=function(co,cq,cp){return co==null||typeof co==="boolean"||(!cm&&b3.isFunction(co)&&b3.isFunction(cq))?cn.apply(this,arguments):this.animate(b2(e,true),co,cq,cp)}});b3.fn.extend({fadeTo:function(e,co,cn,cm){return this.filter(Z).css("opacity",0).show().end().animate({opacity:co},e,cn,cm)},animate:function(cr,co,cq,cp){var cn=b3.isEmptyObject(cr),e=b3.speed(co,cq,cp),cm=function(){var cs=f(this,b3.extend({},cr),e);if(cn){cs.stop(true)}};return cn||e.queue===false?this.each(cm):this.queue(e.queue,cm)},stop:function(cn,cm,e){var co=function(cp){var cq=cp.stop;delete cp.stop;cq(e)};if(typeof cn!=="string"){e=cm;cm=cn;cn=aW}if(cm&&cn!==false){this.queue(cn||"fx",[])}return this.each(function(){var cs=true,cp=cn!=null&&cn+"queueHooks",cr=b3.timers,cq=b3._data(this);if(cp){if(cq[cp]&&cq[cp].stop){co(cq[cp])}}else{for(cp in cq){if(cq[cp]&&cq[cp].stop&&b9.test(cp)){co(cq[cp])}}}for(cp=cr.length;cp--;){if(cr[cp].elem===this&&(cn==null||cr[cp].queue===cn)){cr[cp].anim.stop(e);cs=false;cr.splice(cp,1)}}if(cs||!e){b3.dequeue(this,cn)}})}});function b2(cn,cp){var co,e={height:cn},cm=0;cp=cp?1:0;for(;cm<4;cm+=2-cp){co=cd[cm];e["margin"+co]=e["padding"+co]=cn}if(cp){e.opacity=e.width=cn}return e}b3.each({slideDown:b2("show"),slideUp:b2("hide"),slideToggle:b2("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,cm){b3.fn[e]=function(cn,cp,co){return this.animate(cm,cn,cp,co)}});b3.speed=function(cn,co,cm){var e=cn&&typeof cn==="object"?b3.extend({},cn):{complete:cm||!cm&&co||b3.isFunction(cn)&&cn,duration:cn,easing:cm&&co||co&&!b3.isFunction(co)&&co};e.duration=b3.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b3.fx.speeds?b3.fx.speeds[e.duration]:b3.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(b3.isFunction(e.old)){e.old.call(this)}if(e.queue){b3.dequeue(this,e.queue)}};return e};b3.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};b3.timers=[];b3.fx=M.prototype.init;b3.fx.tick=function(){var cn,cm=b3.timers,e=0;Q=b3.now();for(;e<cm.length;e++){cn=cm[e];if(!cn()&&cm[e]===cn){cm.splice(e--,1)}}if(!cm.length){b3.fx.stop()}Q=aW};b3.fx.timer=function(e){if(e()&&b3.timers.push(e)&&!ak){ak=setInterval(b3.fx.tick,b3.fx.interval)}};b3.fx.interval=13;b3.fx.stop=function(){clearInterval(ak);ak=null};b3.fx.speeds={slow:600,fast:200,_default:400};b3.fx.step={};if(b3.expr&&b3.expr.filters){b3.expr.filters.animated=function(e){return b3.grep(b3.timers,function(cm){return e===cm.elem}).length}}var bJ=/^(?:body|html)$/i;b3.fn.offset=function(cv){if(arguments.length){return cv===aW?this:this.each(function(cw){b3.offset.setOffset(this,cv,cw)})}var cm,cr,cs,cp,ct,e,co,cq={top:0,left:0},cn=this[0],cu=cn&&cn.ownerDocument;if(!cu){return}if((cr=cu.body)===cn){return b3.offset.bodyOffset(cn)}cm=cu.documentElement;if(!b3.contains(cm,cn)){return cq}if(typeof cn.getBoundingClientRect!=="undefined"){cq=cn.getBoundingClientRect()}cs=bK(cu);cp=cm.clientTop||cr.clientTop||0;ct=cm.clientLeft||cr.clientLeft||0;e=cs.pageYOffset||cm.scrollTop;co=cs.pageXOffset||cm.scrollLeft;return{top:cq.top+e-cp,left:cq.left+co-ct}};b3.offset={bodyOffset:function(e){var cn=e.offsetTop,cm=e.offsetLeft;if(b3.support.doesNotIncludeMarginInBodyOffset){cn+=parseFloat(b3.css(e,"marginTop"))||0;cm+=parseFloat(b3.css(e,"marginLeft"))||0}return{top:cn,left:cm}},setOffset:function(co,cx,cr){var cs=b3.css(co,"position");if(cs==="static"){co.style.position="relative"}var cq=b3(co),cm=cq.offset(),e=b3.css(co,"top"),cv=b3.css(co,"left"),cw=(cs==="absolute"||cs==="fixed")&&b3.inArray("auto",[e,cv])>-1,cu={},ct={},cn,cp;if(cw){ct=cq.position();cn=ct.top;cp=ct.left}else{cn=parseFloat(e)||0;cp=parseFloat(cv)||0}if(b3.isFunction(cx)){cx=cx.call(co,cr,cm)}if(cx.top!=null){cu.top=(cx.top-cm.top)+cn}if(cx.left!=null){cu.left=(cx.left-cm.left)+cp}if("using" in cx){cx.using.call(co,cu)}else{cq.css(cu)}}};b3.fn.extend({position:function(){if(!this[0]){return}var cn=this[0],cm=this.offsetParent(),co=this.offset(),e=bJ.test(cm[0].nodeName)?{top:0,left:0}:cm.offset();co.top-=parseFloat(b3.css(cn,"marginTop"))||0;co.left-=parseFloat(b3.css(cn,"marginLeft"))||0;e.top+=parseFloat(b3.css(cm[0],"borderTopWidth"))||0;e.left+=parseFloat(b3.css(cm[0],"borderLeftWidth"))||0;return{top:co.top-e.top,left:co.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||q.body;while(e&&(!bJ.test(e.nodeName)&&b3.css(e,"position")==="static")){e=e.offsetParent}return e||q.body})}});b3.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(cn,cm){var e=/Y/.test(cm);b3.fn[cn]=function(co){return b3.access(this,function(cp,cs,cr){var cq=bK(cp);if(cr===aW){return cq?(cm in cq)?cq[cm]:cq.document.documentElement[cs]:cp[cs]}if(cq){cq.scrollTo(!e?cr:b3(cq).scrollLeft(),e?cr:b3(cq).scrollTop())}else{cp[cs]=cr}},cn,co,arguments.length,null)}});function bK(e){return b3.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}b3.each({Height:"height",Width:"width"},function(e,cm){b3.each({padding:"inner"+e,content:cm,"":"outer"+e},function(cn,co){b3.fn[co]=function(cs,cr){var cq=arguments.length&&(cn||typeof cs!=="boolean"),cp=cn||(cs===true||cr===true?"margin":"border");return b3.access(this,function(cu,ct,cv){var cw;if(b3.isWindow(cu)){return cu.document.documentElement["client"+e]}if(cu.nodeType===9){cw=cu.documentElement;return Math.max(cu.body["scroll"+e],cw["scroll"+e],cu.body["offset"+e],cw["offset"+e],cw["client"+e])}return cv===aW?b3.css(cu,ct,cv,cp):b3.style(cu,ct,cv,cp)},cm,cq?cs:aW,cq,null)}})});bp.jQuery=bp.$=b3;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return b3})}})(window);var Class=function(b){var a=function(){if(this.initialize&&arguments[0]!="noinit"){return this.initialize.apply(this,arguments)}else{return this}};for(var c in this){a[c]=this[c]}a.prototype=b;return a};Class.empty=function(){};Class.prototype={extend:function(c){var b=new this("noinit");var a=function(g,h){if(!g.apply||!h.apply){return false}return function(){this.parent=g;return h.apply(this,arguments)}};for(var e in c){var d=b[e];var f=c[e];if(d&&d!=f){f=a(d,f)||f}b[e]=f}return new Class(b)},implement:function(a){for(var b in a){this.prototype[b]=a[b]}}};Object.extend=function(){var a=arguments;a=(a[1])?[a[0],a[1]]:[this,a[0]];for(var b in a[1]){a[0][b]=a[1][b]}return a[0]};Object.Native=function(){for(var a=0;a<arguments.length;a++){arguments[a].extend=Class.prototype.implement}};new Object.Native(Function,Array,String,Number,Class);var CallerResponder=new Class({debug:false,context:new Object(),error:function(c,b,d){if(c.status==500){var a=c.responseText}if(this.debug){alert("ajax error: "+c.responseText);alert(d)}},complete:function(b,a){if(this.debug){alert("ajax complete")}},beforeSend:function(a){if(this.debug){alert("ajax beforeSend:"+a)}}});var ajaxCallFunc=function(c,a){var b=typeof(this.m)==="undefined"?this.jsonGateway:"/seeyon/ajax.do?method=ajaxAction&managerName="+this.m;return ajaxCallFuncInner(b,a,c)};function ajaxCallFuncInner(url,bsMethod,args){function isArray(o){return typeof(o)==="object"&&(o.constructor===Array)}function toJSON(o){if(typeof(JSON)!=="undefined"){if(JSON.stringify(document.createElement("input").value)==='"null"'){return JSON.stringify(o,function(k,v){return v===""?"":v})}else{return JSON.stringify(o)}}else{var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s={array:function(x){var a=["["],b,f,i,l=x.length,v;for(var i=0;i<l;i+=1){v=x[i];if(v===undefined){v=null}f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}}a[a.length]="]";return a.join("")},date:function(x){return s.string(x.dateFormat("Y-m-d"))},"boolean":function(x){return String(x)},"null":function(x){return"null"},number:function(x){return isFinite(x)?String(x):"null"},object:function(x){if(!(typeof(x)==="object")){return"null"}if(x){if(isArray(x)){return s.array(x)}else{if(x instanceof Date){return s.date(x)}}var a=["{"],b,f,i,v;for(var i in x){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}}a[a.length]="}";return a.join("")}return"null"},string:function(x){if(/["\\\x00-\x1f]/.test(x)){x=x.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return'"'+x+'"'},"function":function(x){return x.toString().match(/function\s+([^\s\(]+)/)[1]}};var f;if(isNaN(o)){f=s[typeof o]}else{f=(isArray(o))?s.array:s.number}if(f){return f(o)}}}function parseJSON(json){if((navigator.userAgent.appName=="Microsoft Internet Explorer"||navigator.userAgent.indexOf("Trident")!=-1)&&navigator.userAgent.indexOf("MSIE 8")!=-1){return eval("("+json+")")}if($!=null){return $.parseJSON(json)}}function extend(){var target=arguments[0],a=1;if(arguments.length==1){target=this;a=0}var prop;while(prop=arguments[a++]){for(var i in prop){target[i]=prop[i]}}return target}function param(a){var s=[];if(a.constructor==Array){for(var index=0;index<a.length;index++){var element=a[index];s.push(encodeURIComponent(element.name)+"="+encodeURIComponent(element.value))}}else{for(var j in a){if(a[j]&&a[j].constructor==Array){for(var index=0;index<a[j].length;index++){var element=a[j][index];s.push(encodeURIComponent(j)+"="+encodeURIComponent(element.value))}}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(a[j]))}}}return s.join("&")}function ajax(settings){var xhr=new XMLHttpRequest();if(settings.async){xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){var retData;try{retData=parseJSON(xhr.responseText)}catch(e){retData=xhr.responseText}settings.success&&settings.success(retData)}else{settings.error&&settings.error(xhr)}settings.complete&&settings.complete(xhr,xhr.status)}}}xhr.open("POST",settings.url,settings.async);xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");xhr.setRequestHeader("RequestType","AJAX");CsrfGuard.beforeAjaxSend(xhr);var isSendBeacon=false;try{xhr.send(param(settings.data))}catch(e){if(!settings.async&&navigator.sendBeacon){var headers={type:"application/x-www-form-urlencoded;charset=UTF-8"};var blob=new Blob([param(settings.data)],headers);var tempStatus=navigator.sendBeacon(settings.url,blob);isSendBeacon=true}else{throw e}}if(!isSendBeacon&&!settings.async){if(xhr.readyState==4){if(xhr.status==200){var retData;try{retData=parseJSON(xhr.responseText)}catch(e){retData=xhr.responseText}settings.success&&settings.success(retData)}else{if(xhr.getResponseHeader("ErrorCode")=="40401"){if($.ctx.CurrentUser!=null){var notTheSameOneMsg=$.i18n("loginUserState.notTheSameOne","Guest",$.ctx.CurrentUser.name);alert(notTheSameOneMsg)}else{if(top.vPortal!=null&&top.vPortal.CurrentUser!=null){var notTheSameOneMsg=$.i18n("loginUserState.notTheSameOne","Guest",top.vPortal.CurrentUser.name);alert(notTheSameOneMsg)}}}else{settings.error&&settings.error(xhr)}}settings.complete&&settings.complete(xhr,xhr.status)}}}var setting=null;if(args.length>=1){var tmpArg_2=args[args.length-1];if(tmpArg_2!=null&&typeof(tmpArg_2.success)==="function"){setting=tmpArg_2;Array.prototype.splice.apply(args,[args.length-1,1])}}var newArgs=new Array();for(var i=0;i<args.length;i++){newArgs[i]=args[i];if(typeof($)!=="undefined"&&typeof($_isInVInValid)!=="undefined"&&$._isInVInValid(newArgs[i])){return null}}var data=new Object();data.managerMethod=bsMethod;data.arguments=toJSON(newArgs);var _async=true;var result=null;if(setting&&setting.success){_async=true;setting=extend(new CallerResponder(),setting)}else{_async=false;setting=new CallerResponder();setting.success=function(jsonObj){if(typeof jsonObj==="string"){if(jsonObj=="__LOGOUT"){offlineFun();return}try{result=parseJSON(jsonObj);if(typeof result==="number"){result=jsonObj}}catch(e){if(window.console&&window.console.log){window.console.log(e)}result=jsonObj}}else{result=jsonObj}}}if(url.indexOf("managerName=ctpCodeManager")>-1){try{var codeId="";var codes=parseJSON(newArgs);for(var i=0;i<codes.length;i++){var code=codes[i];if(code.codeType=="java"){codeId=code.codeId;break}}if(codeId!=""){url+="&codeId="+codeId}}catch(e){}}ajax({url:url+"&rnd="+parseInt(Math.random()*100000),data:data,dataType:"json",async:_async,success:setting.success,error:setting.error,complete:setting.complete});return result}var RemoteJsonService=new Class({jsonGateway:"/json/",async:true,ajaxCall:ajaxCallFunc,c:ajaxCallFunc});var RJS=RemoteJsonService;function callBackendMethod(c,a){var b="/seeyon/ajax.do?method=ajaxAction&managerName="+c;return ajaxCallFuncInner(b,a,Array.prototype.slice.call(arguments,2))}(function($){var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s={array:function(x){var a=["["],b,f,i,l=x.length,v;for(var i=0;i<l;i+=1){v=x[i];if(v===undefined){v=null}f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}}a[a.length]="]";return a.join("")},date:function(x){return s.string(x.dateFormat("Y-m-d"))},"boolean":function(x){return String(x)},"null":function(x){return"null"},number:function(x){return isFinite(x)?String(x):"null"},object:function(x){if(!(typeof(x)==="object")){return"null"}if(x){if($.isArray(x)){return s.array(x)}else{if(x instanceof Date){return s.date(x)}}var a=["{"],b,f,i,v;for(var i in x){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}}a[a.length]="}";return a.join("")}return"null"},string:function(x){if(/["\\\x00-\x1f]/.test(x)){x=x.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return'"'+x+'"'},"function":function(x){return x.toString().match(/function\s+([^\s\(]+)/)[1]}};jQuery.toJSON=function(v){var f;if(isNaN(v)){f=s[typeof v]}else{f=($.isArray(v))?s.array:s.number}if(f){return f(v)}};jQuery.parseJSON=function(v,safe){if(safe===undefined){safe=jQuery.parseJSON.safe}if(safe&&!/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(v)){return undefined}return eval("("+v+")")};jQuery.parseJSON.safe=false})(jQuery);(function(a){a._autofill=new Object();a.autofillform=function(b){var c={};b=a.extend(c,b);var d=b.fillmaps?b.fillmaps:new Object();a._autofill.filllists=d;for(var e in d){a("#"+e).fillform(d[e])}};a.fn.clearform=function(b){var c={clearHidden:false};this.resetValidate();b=a.extend(c,b);this.find(":input").each(function(){switch(this.type){case"passsword":case"select-multiple":case"select-one":case"text":case"textarea":a(this).val("");case"hidden":if(b.clearHidden){a(this).val("")}break;case"checkbox":case"radio":this.checked=false}})};a.fn.fillform=function(b,c){if(this[0]==null){return}this.each(function(e){var f=a(this);f.resetValidate();for(var g in b){a("#"+g,f).each(function(h){a(this).fill(b[g],g,f)})}f=null});try{if(typeof(c)!="undefined"&&c===false){return}this.find("input[type=text]:first").focus()}catch(d){}};a.fn.fill=function(h,g,s){var c=this[0],u=a(c),w=c.tagName.toLowerCase();if(h&&typeof h=="string"){h=h.replace(/<\/\/script>/gi,"<\/script>")}var k=c.type,x=c.value;switch(w){case"input":switch(k){case"text":u.val(h);break;case"hidden":var e=u.attrObj("_comp"),r;if(e){r=e.attr("compType");if(r==="selectPeople"){var l="",n="";if(h&&h.startsWith("{")){h=a.parseJSON(h);if(h.value===undefined){h.value="";h.text=""}e.comp(h);l=h.value;n=h.text}e.val(n);u.val(l);break}}u.val(h);break;case"checkbox":if(h==x){c.checked=true}else{c.checked=false}break;case"radio":if(s){a("input[type=radio]",s).each(function(){if((this.id==g||this.name==g)&&h==this.value&&!this.checked){this.checked=true}})}else{if(h==c.value&&!c.checked){c.checked=true}}}break;case"textarea":u.val(h);break;case"select":switch(k){case"select-one":u.val(h);break;case"select-multiple":var d=c.options;if(h.split){var m=h.split(",");for(var q=0;q<d.length;q++){var f=d[q];var b=a.browser.msie&&!(f.attributes.value.specified)?f.text:f.value;for(var o=0;o<m.length;o++){if(b==m[o]){f.selected=true}}}}}break;default:if(!((!h||h=="")&&a(this)[0].innerHTML.indexOf("&nbsp;")!=-1)){if(h&&u.parent(".text_overflow").length==1){u.attr("title",h)}if(h&&typeof h=="string"){h=h.replace(/\n/g,"<br/>")}c.innerHTML=h}}if(this.attr("validate")){this.validate()}};a.fn.fillgrid=function(b){this.each(function(d){var c=this.tagName.toLowerCase(),f=a(this);switch(c){case"table":elem.grid.addData(b);break}})}})(jQuery);(function(a){a.fn.jsonSubmit=function(n){var l="_js_frm"+new Date().getTime();var g={isMask:true,validate:true,ajax:false,async:false};n=a.extend(g,n);if(n.isMask){showMask&&showMask()}var m=this.formobj(n);if(n.paramObj){if(a.isArray(m)){m={}}for(var b in n.paramObj){m[b]=n.paramObj[b]}}var h=n.action||this.attr("action");if(h==null||a.trim(h)==""){alert("you don't set action attribute!");hideMask&&hideMask();return}if(n.validate&&a._isInValid(m)){hideMask&&hideMask();if(typeof n.collbackError=="function"){n.collbackError()}return}if(n.beforeSubmit&&n.beforeSubmit(m,this,n)===false){hideMask&&hideMask();return}var f=a.toJSON(m);if(n.ajax==true){a.ajax({async:n.async,type:"post",url:h,data:{_json_params:f},beforeSend:CsrfGuard.beforeAjaxSend,error:function(o){if(o.getResponseHeader("ErrorCode")==40401){if(a.ctx.CurrentUser!=null){var e=a.i18n("loginUserState.notTheSameOne","Guest",a.ctx.CurrentUser.name);alert(e)}else{if(top.vPortal!=null&&top.vPortal.CurrentUser!=null){var e=a.i18n("loginUserState.notTheSameOne","Guest",top.vPortal.CurrentUser.name);alert(e)}}}else{alert("error，form submit fail ! url:"+h);if(typeof n.collbackError=="function"){n.collbackError()}}},success:function(e){if(typeof n.callback=="function"){n.callback(e)}}})}else{var d=window;if(n.targetWindow){d=n.targetWindow}var j=a('<form method="post" action="'+h+'"><input type="hidden" name="CSRFTOKEN" value="'+CsrfGuard.getToken()+'"/><input type="hidden" id="_json_params" name="_json_params" value=""/></form>',d.document);a(d.document.body).append(j);d=null;if(typeof n.callback=="function"){var c=a('<iframe id="'+l+'" name="'+l+'" style="display:none;"></iframe>',j[0].ownerDocument);a("body",j[0].ownerDocument).append(c);c.load(function(){var o=a(this).contents().find("body").html();if(o){o=o.replace(/<\s*\/?\s*(embed|pre)[^<>]*>/g,"")}else{o=""}n.callback(o);try{a(this).remove()}catch(q){}});c=null;j.attr("target",l)}else{if(n.target){j.attr("target",n.target)}}j.find("#_json_params").val(f);if(n.debug&&_isDevelop){alert("JSON data format:\n"+f)}a.confirmClose(false);j.submit();j.remove();j=null}try{if(n.isMask){hideMask&&hideMask()}}catch(k){}};a.fn.formobj=function(q){if(this[0]==null){return{}}var f={needSubmitFilter:null,gridFilter:null,validate:true,errorIcon:true,errorAlert:false,errorBg:false,includeDisabled:true};q=a.extend(f,q);var r=q.domains;if(r&&r.length>0){var g={};if(a("#attachmentArea").length>0){var m=a("<div></div>");m.attr("id","attachmentInputs");m.attr("style","display:none;");m.attr("isGrid","true");this.append(m);saveAttachment();r.push("attachmentInputs")}for(var l=0;l<r.length;l++){var b=r[l],o=b==this.attr("id")?this:a("#"+b,this),e;var k=a("."+b),d=k.length;if(d>0&&q.matchClass){e=[];var c=[];for(var h=0;h<r.length;h++){if(h!=l){c.push(r[h])}}k.each(function(s){o=a(this);var t=a.jsonDomain(o,q);if(a._isInValid(t)&&!a._isInValid(e)){a._invalidObj(e)}e.push(t);for(var j=0;j<c.length;j++){var n=a.jsonDomain(a("#"+c[j],o),q);if(a._isInValid(n)&&!a._isInValid(e)){a._invalidObj(e)}t[c[j]]=n}});if(q.isGrid){g=e}else{if(e.length==1){g=e[0]}}break}else{e=a.jsonDomain(o,q);g[b]=e;if(a._isInValid(e)&&!a._isInValid(g)){a._invalidObj(g)}}}return g}else{return a.jsonDomain(this,q)}};a.jsonDomain=function(l,s){s=s||{};var q=[],j=null,n=s.gridFilter,d=l.attr("isGrid")?l.attr("isGrid"):false,f=true,g,m=[],c=s.domains,o=s.includeDisabled;var k=s.needSubmitFilter;if(c){for(var h=0;h<c.length;h++){var r=c[h];if(l[0]&&r!=l[0].id&&a("#"+r,l).length>0){m.push(r)}}}a("table,input,textarea,select",l).add(l).filter(function(B){if(!this.id&&!this.name){return false}if(k&&!k(this)){return false}for(var x=0;x<m.length;x++){var D=m[x];if(a(this).parents("#"+D).length>0){return false}}var e=this,E=e.tagName.toLowerCase(),u=e.id?e.id:e.name;if(E&&u&&(o||!e.disabled)&&!e.ignore){switch(E){case"table":if(e.grid&&e.p.datas){var w=e.p.datas.rows;a(w).each(function(t){if(n&&!n(w[t],a("tbody tr",a(e)).get(t))){return}q.push(w[t])});d=true}break;case"input":var A=e.type;if(A=="button"||A=="reset"||A=="submit"||A=="image"||u=="_json_params"){break}case"textarea":if(E=="textarea"){var z=a(e).attr("comp");if(z&&a.parseJSON("{"+z+"}").type=="editor"){a(e).val(a(e).getEditorContent());break}if(z&&a.parseJSON("{"+z+"}").type=="aceEditor"){var y=ace.editor(a(e).attr("id")+"Ace");a(e).val(y.getValue());break}}case"select":if(j&&u in j){if(e.type!="radio"){j={};q.push(j)}}var D=a.ctpFieldValue(e,true,o);if(!j){j=new Object();q.push(j)}if(!j[u]){j[u]=D}}}return false});if(s.validate){f=a(l).validate({errorIcon:s.errorIcon,errorAlert:s.errorAlert,errorBg:s.errorBg})}if(q.length==1&&!d){g=q[0]}else{if(n){var b=[];for(var h=0;h<q.length;h++){if(!n(q[h])){continue}b.push(q[h])}q=b}g=q}if(!f){a._invalidObj(g)}return g};a.ctpFieldValue=function(c,h,m){var d=c.id?c.id:c.dataIndex?c.dataIndex:c.name,q=c.type,r=c.tagName.toLowerCase();if(typeof h=="undefined"){h=true}if(h&&(!d||(!m&&c.disabled)||q=="reset"||q=="button"||(q=="checkbox"||q=="radio")&&!c.checked||(q=="submit"||q=="image")&&c.form&&c.form.clk!=c||r=="select"&&c.selectedIndex==-1)){if(parseInt(a(c).attr("returnunchecked"))!=1){return null}if(parseInt(a(c).attr("returnunchecked"))==1&&(q=="radio")&&!c.checked){return""}}if(r=="select"){var j=c.selectedIndex;if(j<0){return null}var l=[],b=c.options;var f=(q=="select-one");var k=(f?j+1:b.length);for(var e=(f?j:0);e<k;e++){var g=b[e];if(g.selected){var o=g.value;if(f){return o}l.push(o)}}return l}return c.value}})(jQuery);(function(c){c.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},returnKeys:[],cancelKeys:[]};function b(e){if(typeof e.data!=="string"){return}var d=e.handler,f=e.data.toLowerCase().split(" ");e.handler=function(g){if(this!==g.target&&(/textarea|select/i.test(g.target.nodeName)||g.target.type==="text")){return}var q=g.type!=="keypress"&&c.hotkeys.specialKeys[g.which],n,r,j="",k={};try{n=String.fromCharCode(g.which).toLowerCase()}catch(o){n=g.which}if(g.altKey&&q!=="alt"){j+="alt+"}if(g.ctrlKey&&q!=="ctrl"){j+="ctrl+"}if(g.metaKey&&!g.ctrlKey&&q!=="meta"){j+="meta+"}if(g.shiftKey&&q!=="shift"){j+="shift+"}if(q){k[j+q]=true}else{k[j+n]=true;k[j+c.hotkeys.shiftNums[n]]=true;if(j==="shift+"){k[c.hotkeys.shiftNums[n]]=true}}for(var m=0,h=f.length;m<h;m++){if(k[f[m]]){return d.apply(this,arguments)}}}}$.each(["keydown","keyup","keypress"],function(){c.event.special[this]={add:b}});$(document).bind("keydown","esc",function(d){c._fireKeydown_esc(d);return false}).bind("keydown","return",function(d){c._fireKeydown_return(d);return true});function a(d){if(!d||d.length==0||d.hasClass("common_button_disable")||d.css("display")=="none"||d.css("visibility")=="hidden"||d.parents(".button_container").css("display")=="none"||d.parents(".button_container").css("visibility")=="hidden"){return false}return true}$._fireKeydown_return=function(d){var e=false;$($.hotkeys.returnKeys).each(function(g,h){var f=$("#"+h);if(a(f)){f.click();e=true;return false}});if(e){return}if($("#ok_msg_btn_first").size()>0){if(a($("#ok_msg_btn_first"))){$("#ok_msg_btn_first").click()}}else{if($("#btnsave").size()>0){if(a($("#btnsave"))){$("#btnsave").click()}}else{if($("#btnok").size()>0){if(a($("#btnok"))){$("#btnok").click()}}else{if($("#btnsubmit").size()>0){if(a($("#btnsubmit"))){$("#btnsubmit").click()}}else{if($("#btnsearch").size()>0){if(a($("#btnsearch"))){$("#btnsearch").click()}}else{if($("#btnreset").size()>0){if(a($("#btnreset"))){$("#btnreset").click()}}else{if($("#btnmodify").size()>0){if(a($("#btnmodify"))){$("#btnmodify").click()}}else{if($("#ok_msg_btn").size()>0){if(a($("#ok_msg_btn"))){$("#ok_msg_btn").click()}}else{if($("#yes_msg_btn").size()>0){if(a($("#yes_msg_btn"))){$("#yes_msg_btn").click()}}else{if($("#retry_msg_btn").size()>0){if(a($("#retry_msg_btn"))){$("#retry_msg_btn").click()}}else{if(parent&&parent!=window){if(parent.jQuery&&parent.jQuery._fireKeydown_return){parent.jQuery._fireKeydown_return(d)}}}}}}}}}}}}};$._fireKeydown_esc=function(d){var e=false;$($.hotkeys.cancelKeys).each(function(g,h){var f=$("#"+h);if(a(f)){f.click();e=true;return false}});if(e){return}if($("#btncancel").size()>0){$("#btncancel").click()}else{if($("#btnclose").size()>0){$("#btnclose").click()}else{if(parent&&parent!=window){if(parent.jQuery&&parent.jQuery._fireKeydown_esc){parent.jQuery._fireKeydown_esc(d)}}}}}})(jQuery);$(function(){$("input,select").bind("keydown","esc",function(a){if($._fireKeydown_esc){$._fireKeydown_esc(a)}return false}).bind("keydown","return",function(a){if($._fireKeydown_return){$._fireKeydown_return(a)}return false})});(function($){var _managerNames=[],_defaultPageSize=20;$.fn.ajaxgridbar=function(options){var settings={size:_defaultPageSize,async:true,page:1,page_btn:"_page_btn",page_id:"_page_id",afpPageId:"_afpPage",afpPagesId:"_afpPages",afpTotalId:"_afpTotal",afpSizeId:"_afpSize",afpFirstId:"_afpFirst",afpPreviousId:"_afpPrevious",afpNextId:"_afpNext",afpLastId:"_afpLast",activeClass:"alink",deactiveClass:"blink",btnCallback:null};options=$.extend(settings,options);this.attrObj("config",options);var bn=options.managerName;if(!_managerNames.contains(bn)){$("head").append("<script src='"+_ctxPath+"/ajax.do?managerName="+bn+"' type='text/javascript'><\/script>");_managerNames.push(bn)}};$.fn.ajaxgridbarLoad=function(param,page,size){var tbl=this,config=this.attrObj("config"),bn=config.managerName,bm=config.managerMethod,callbk=config.callback;if(!size){size=config.size}if(!page){page=config.page}var callerResponder=new CallerResponder();callerResponder.success=function(fpi){$("#"+config.page_id).val(fpi.page);$("#"+config.page_id).unbind();$("#"+config.page_id).keydown(function(){var code=event.keyCode;if(code=="13"){goPage()}});$("#"+config.page_btn).unbind();$("#"+config.page_btn).click(function(){goPage()});function goPage(){var varPage=$("#"+config.page_id).val(),varPages=fpi.pages;if(parseInt(varPage)<1){$("#"+config.page_id).val(1)}if(parseInt(varPage)>parseInt(varPages)){$("#"+config.page_id).val(varPages)}tbl.ajaxgridbarLoad(param,$("#"+config.page_id).val(),size)}$("#"+config.afpPageId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.page)}else{t.text(fpi.page)}});$("#"+config.afpPagesId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.pages)}else{t.text(fpi.pages)}});$("#"+config.afpTotalId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.total)}else{t.text(fpi.total)}});$("#"+config.afpSizeId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.size);t.blur(function(){var _s=t.val();try{_s=parseInt(_s,10);if(_s<=0){_s=_defaultPageSize}}catch(e){_s=_defaultPageSize}t.val(_s);size=_s})}else{if("select"==tn){t.val(fpi.size);t.change(function(){size=t.val();goPage()})}else{t.text(fpi.size)}}});var l1=$("#"+config.afpFirstId),l2=$("#"+config.afpPreviousId),l3=$("#"+config.afpNextId),l4=$("#"+config.afpLastId);l1.unbind();l2.unbind();l3.unbind();l4.unbind();if(fpi.page>1){l1.click(function(){tbl.ajaxgridbarLoad(param,1,size)});l1.removeClass(config.deactiveClass);l1.addClass(config.activeClass)}else{l1.removeClass(config.activeClass);l1.addClass(config.deactiveClass)}if(fpi.page>1){$("#"+config.afpPreviousId).click(function(){tbl.ajaxgridbarLoad(param,(fpi.page-1),size)});l2.removeClass(config.deactiveClass);l2.addClass(config.activeClass)}else{l2.removeClass(config.activeClass);l2.addClass(config.deactiveClass)}if(fpi.page<fpi.pages){$("#"+config.afpNextId).click(function(){tbl.ajaxgridbarLoad(param,fpi.page+1,size)});l3.removeClass(config.deactiveClass);l3.addClass(config.activeClass)}else{l3.removeClass(config.activeClass);l3.addClass(config.deactiveClass)}if(fpi.page<fpi.pages){$("#"+config.afpLastId).click(function(){tbl.ajaxgridbarLoad(param,fpi.pages,size)});l4.removeClass(config.deactiveClass);l4.addClass(config.activeClass)}else{l4.removeClass(config.activeClass);l4.addClass(config.deactiveClass)}if(callbk){callbk(fpi)}};if(config.complete){callerResponder.complete=config.complete}if(config.errorHandler){callerResponder.errorHandler=config.errorHandler}var fi={page:page,size:size};if(param){eval("var _bs = new "+bn+"();_bs.async="+config.async+";_bs."+bm+"(fi,param,callerResponder);")}else{eval("var _bs = new "+bn+"();_bs.async="+config.async+";_bs."+bm+"(fi,callerResponder);")}}})(jQuery);(function(b){var a=1;b.fn.codeoption=function(d){var e={};d=b.extend(e,d);var c=new Array;b(".codecfg",this).add(this).each(function(h){var f=this.tagName;if(!f){return}f=f.toLowerCase();var j=d.codecfg?d.codecfg:b(this).attr("codecfg");if(j){var g=b.codecfgobj(this,j);if(d.tags&&!d.tags.contains(f)&&!g.render){return}c.push(g)}});b.genoption(c,d)};b.codeoption=function(c){var d={tags:["select"]};c=b.extend(d,c);b(document).codeoption(c)};b.fn.codetext=function(d){var e={};d=b.extend(e,d);var c=new Array;b(".codecfg",this).add(this).each(function(h){if(!b(this).attr("codecfg")){return}var f=this.tagName.toLowerCase();if(f!="select"){var j=d.codecfg?d.codecfg:b(this).attr("codecfg");if(j){var g=b.codecfgobj(this,j);if(g.render){return}var k=f=="input"?b(this).val():b(this).text();if(k){c.push(g)}}}});b.genoption(c,d)};b.codetext=function(c){b(document).codetext(c)};b.codecfgobj=function(g,f){if(f){var c=f.indexOf("{");var d=b.parseJSON(c==0?f:("{"+f+"}"));var e=g.id?g.id:g.name;if(!e||e.indexOf("coi_")==0){e="coi_"+a;b(g).attr("id",e);a++}d.eleid=e;return d}else{return{}}};b.genoption=function(d,f){if(d.length>0){var e=new ctpCodeManager();var c=b.toJSON(d);b.fillOption(e.selectCode(c))}};b.fillOption=function(e){if(e){for(var c=0;c<e.length;c++){var g=b.findTag(e[c]);var d=e[c].options;var f=e[c]["defaultValue"];if(g){g.each(function(){var y=this.tagName.toLowerCase(),x=b(this);var u=e[c].render;if(u=="radioh"){h(x,d)}else{if(u=="radiov"){h(x,d,true)}else{if(y=="select"){b("option[tmp]",x).remove();var s=e[c].prependBlank;if(s){var w=e[c].blankText;w=typeof(w)==="undefined"?"":w;var q=new Option(w,s);q.tmp="tmp";this.options[this.options.length]=q;if(f&&f==s){q.selected=true}}for(var j in d){var q=new Option(d[j],j);q.tmp="tmp";this.options[this.options.length]=q;if(f&&f==j){q.selected=true}}if(e[c].codeId=="collaboration_deadline"){try{var k=this.options;if(k[14]&&k[15]){var o=k[14];k.insertBefore(k[14],k[15]);k.insertBefore(k[15],o)}if(k[17]&&k[18]){var n=k[17];k.insertBefore(k[17],k[18]);k.insertBefore(k[18],n)}}catch(r){}}if(u=="new"){var m=b.dropdown({id:this.id});if(f){m.setValue(f)}}}else{if(y=="input"){b(this).val(d[b(this).val()])}else{var l=d[b(this).text()];b(this).text(l);if(b(this).attr("title")){b(this).attr("title",l)}}}}}function h(D,E,G){var H=D.attr("id"),z=D;D.attr("id",H+"_hid");for(var B in E){var A=b('<label class="margin_r_10 hand"></label>');A.text(E[B]);if(G){A.addClass("display_block")}var F=b('<input class="radio_com" type="radio" name="'+H+'">');F.attr("id",H);F.val(B);A.prepend(F);z.after(A);z=A;if(f&&f==B){F.attr("checked",true)}}D.remove()}})}}}};b.findTag=function(d){var c;if(d.eleid){c=b("#"+d.eleid).length==0?b("[name='"+d.eleid+"']"):b("#"+d.eleid)}if(!c){b(".codecfg").each(function(f){var e=this.codecfg;if(e){if(e.indexOf("codeType")!=-1&&e.indexOf(d.codeType)!=-1){c=b(this)}if(e.indexOf("codeType")==-1&&e.indexOf(d.tableName)!=-1){c=b(this)}}})}return c}})(jQuery);$.ctx={};var isFormSubmit=true;$.extend(Function.prototype,{defer:function(a){var d,c=this,b=function(){var f=this,e=arguments;window.clearTimeout(d);d=window.setTimeout(function(){c.apply(f,e)},a)};b();return 0}});$.extendParam=function(c,a){for(var b in a){if(!(a[b] instanceof Array)){c[b]=a[b]}}return c};var isPDFReaderInited=false;function isPDFReaderEnabled(){try{if(isPDFReaderInited==false){isPDFReaderInited=true;new ActiveXObject("iWebPDF.PDFReader")}}catch(a){return false}return true}$.ctx.isOfficeEnabled=function(h){var a=h,c=true;if(!$.browser.msie){return true}var g="ctx.isOfficeEnabled."+h;var j=window.sessionStorage;if(typeof j!=="undefined"&&window.sessionStorage!==null){var b=j.getItem(g);if(b!=undefined){return b}}try{if(!$.ctx._mainbodyOcxObj&&(a==".doc"||a==".xls"||a==".wps"||a==".et"||(a>40&&a<45))){if(v3x.isMSIE&&(navigator.cpuClass.indexOf("x86")!=-1?false:true)){$.ctx._mainbodyOcxObj=new ActiveXObject("Kinggrid.iWebOffice_x64")}else{$.ctx._mainbodyOcxObj=new ActiveXObject("Kinggrid.iWebOffice")}}if(a==".doc"||a==41){c=$.ctx._mainbodyOcxObj.WebApplication(".doc")}else{if(a==".xls"||a==42){c=$.ctx._mainbodyOcxObj.WebApplication(".xls")}else{if(a==".wps"||a==43){c=$.ctx._mainbodyOcxObj.WebApplication(".wps")}else{if(a==".et"||a==44){c=$.ctx._mainbodyOcxObj.WebApplication(".et")}else{if(a==".pdf"||a==45){c=true}}}}}}catch(d){c=false}if(typeof j!=="undefined"&&window.sessionStorage!==null){j.setItem(g,c)}return c};$.ctx._hasPrivJudge=function(c,b){var a=false,e;if(c&&(b?$.ctx.plugins:$.ctx.resources)){if(c.indexOf("&")!=-1){a=true;e=c.split("&");for(var d=0;d<e.length;d++){if(b?!$.ctx.plugins.contains(e[d].trim()):!$.ctx.resources.contains(e[d].trim())){a=false;break}}}else{if(c.indexOf("|")!=-1){e=c.split("|");for(var d=0;d<e.length;d++){if(b?$.ctx.plugins.contains(e[d].trim()):$.ctx.resources.contains(e[d].trim())){a=true;break}}}else{a=b?$.ctx.plugins.contains(c.trim()):$.ctx.resources.contains(c.trim())}}}return a};$.ctx.hasPlugin=function(a){return $.ctx._hasPrivJudge(a,true)};$.ctx.hasResource=function(a){return $.ctx._hasPrivJudge(a,false)};$.privCheck=function(a,c,d,b){if(!d){d=function(){}}if(!b){b=function(){}}if(_isDevelop){d()}else{if(c&&$.ctx.hasPlugin(c)){if(a&&$.ctx.hasResource(a)){d()}else{if(!a){d()}else{b()}}}else{if(!c&&a){if($.ctx.hasResource(a)){d()}else{b()}}else{if(!c&&!a){d()}else{b()}}}}};var _safriDoubleKeyIgnoreKeys=[32,192,186,187,188,189,190,191,219,220,221,222,13];$.handleModalDialogInputKeyEvent=function(){var c=navigator.vendor,a=navigator.platform;if(c&&c.indexOf("Apple")!=-1&&a&&a.indexOf("Win")!=-1){var b=false;$(":input").keyup(function(e){d(this,e)}).keydown(function(e){if(e.keyCode==229){b=true}else{b=false}});function d(k,e){if(b){return}var h=e.keyCode;if(((h<48||h>111)&&!_safriDoubleKeyIgnoreKeys.contains(h))||e.ctrlKey||e.altKey){return}if(h==13&&k.type!=="textarea"){return}var g=k.selectionStart,j=k.value,f;if(g>0){f=j.substring(0,g-1);if(g<j.length){f+=j.substring(g)}}k.value=f;k.setSelectionRange(g-1,g-1)}}};$().ready(function(){if($.ctx&&$.ctx.disableAutoInit){return}$(".comp").each(function(a){$(this).compThis()});if($.codeoption){$.codeoption()}if($.autofillform){$.autofillform({fillmaps:$.ctx.fillmaps})}if($.codetext){$.codetext()}$(".resCode").each(function(b){var a=$(this),c=a.attr("resCode"),d=a.attr("pluginId");$.privCheck(c,d,function(){a.show()},function(){a.hide()})});CallerResponder.prototype={error:function(f,d,g){try{var b=$.parseJSON(f.responseText);if(!b.details){$.alert({msg:b.message,close_fn:function(){try{if(getCtpTop()&&getCtpTop().endProc){getCtpTop().endProc()}}catch(h){}},ok_fn:function(){try{if(getCtpTop()&&getCtpTop().endProc){getCtpTop().endProc()}}catch(h){}}})}else{$("body").append('<div id="errorDiv" style="display: none" width="600"><div id="errMsg"></div><br><textarea id="errDetails" rows="15" style="width: 500; font-size: 10pt" readonly="readonly"></textarea></div>');$("#errMsg").text("Error message("+b.code+"):"+b.message);$("#errDetails").text(b.details);var c=$.dialog({title:"Error!",htmlId:"errorDiv",width:520,height:300,targetWindow:getCtpTop(),buttons:[{text:"Close",handler:function(){$("#errorDiv").remove();var e=c.getObjectById("errorDiv");if(e){e.remove()}c.close();hideMask()}}]})}}catch(a){}}};(function(){try{if(_isModalDialog){$.handleModalDialogInputKeyEvent();var a=setInterval(function(){$.ajax({url:_ctxPath+"/main.do?method=hangup&t="+Math.random()*100000000,async:true})},30000)}}catch(b){}$("input:reset").each(function(){$("input:text,select,input:checkbox,input:password",$(this).parents("form")).each(function(){if(this.type=="checkbox"){$(this).attr("coriginValue",this.checked)}$(this).attr("originValue",$(this).val())});var d=$(this);var e=$("<input type='button' />");e.attr("id",d.attr("id"));e.attr("className",d.attr("className")+" button_3");e.attr("style",d.attr("style"));e.attr("name",d.attr("name"));e.onmuseover=this["onmuseover"];e.val(d.val());d.after(e);d.remove();e.click(function(){$("input:text,select,input:checkbox,input:password",$(this).parents("form")).each(function(){if($(this).attr("originValue")){$(this).val($(this).attr("originValue"))}else{$(this).val("")}if(this.tagName.toUpperCase()=="SELECT"){for(var f=0;f<this.options.length;f++){if(this.options[f].value==$(this).attr("originValue")){this.options[f].selected=true}}}if(this.type=="checkbox"){if($(this).attr("coriginValue")!="true"){this.checked=false}else{this.checked=true}}})})});function c(d){if(typeof d=="string"&&d.length>10){return d.substring(0,10)}return d}if(document.all){$("a[href='javascript:void(0)']").click(function(d){d.preventDefault()})}}).defer(0,this)});Date.prototype.isBefore=function(c){var b=parseInt(this.format("Ymd")),a=parseInt(c.format("Ymd"));return b>a?-1:(b<a?1:0)};Date.prototype.before=function(c,h){if(!c||!h){return 0}var e=0,g,a=true,f=this,b=h;if(this.isBefore(h)==-1){a=false;f=h;b=this}g=f.clone();switch(c.toLowerCase()){case Date.MONTH:while(true){if(g.getYear()==b.getYear()&&g.getMonth()==b.getMonth()){break}else{e++;g=g.add(Date.MONTH,1)}}break;case Date.YEAR:while(true){if(g.getYear()==b.getYear()){break}else{e++;g=g.add(Date.YEAR,1)}}break}if(!a){e*=-1}return e};Date.prototype.roundBefore=function(d,j){var k,a=this,c=j,f=true;if(this.isBefore(j)==-1){f=false;bdate=j;adate=this}k=a.before(d,c);var e=a.getDate(),h=c.getDate();switch(d.toLowerCase()){case Date.MONTH:if(h<e){k--}break;case Date.YEAR:var g=a.getMonth(),b=c.getMonth();if(b<g){k--}else{if(b==g){if(h<e){k--}}}break}if(!f){k*=-1}return k};function isBefore(b,c){var a=Date.parseDate(b,"Y-m-d");var d=Date.parseDate(c,"Y-m-d");return a.isBefore(d)}function before(a,c,d){var b=Date.parseDate(c,"Y-m-d");var e=Date.parseDate(d,"Y-m-d");return b.before(a,e)}function roundBefore(a,c,d){var b=Date.parseDate(c,"Y-m-d");var e=Date.parseDate(d,"Y-m-d");return b.roundBefore(a,e)}(function($){$.fn.switchClone=function(da,hc){var t=this;if(!t.attr("_isclone")){var tc=t.attrObj("tmpclone");if(!tc){tc=t.clone();if(hc){hc(t[0].tagName.toLowerCase(),tc)}tc.attr("_isclone",1);t.attrObj("tmpclone",tc);t.after(tc)}if(t.attr("_hide")==1){if(!da){t.show();t.attr("_hide",0);tc.hide()}}else{if(da){t.hide();t.attr("_hide",1);tc.show()}}}};$.fn.disable=function(){this.each(function(i){$(this).find(":input,a.common_button").add(this).each(function(){var id=this.id,t=$(this),c=t.attrObj("_rel");switch(this.tagName.toLowerCase()){case"textarea":case"select":var dd=t.attrObj("_dropdown");if(dd){dd.disabled="true"}case"input":t.attr("disabled","yes");t.attr("_da",true);if(t.attr("type")=="button"){t.addClass("common_button_disable")}if(c){c.switchClone(true,function(tn,sc){if(tn=="a"){sc.addClass("common_button_disable")}else{sc.attr("disabled","yes")}})}break;case"a":if(!t.attr("_isrel")){t.switchClone(true,function(tn,sc){sc.removeAttr("onclick");sc.addClass("common_button_disable")});t.attr("_da",true)}break}})})};$.fn.enable=function(){this.each(function(i){$(this).find(":input,a.common_button").add(this).each(function(){var id=this.id,t=$(this),c=t.attrObj("_rel");if(t.attr("_da")){switch(this.tagName.toLowerCase()){case"textarea":case"select":var dd=t.attrObj("_dropdown");if(dd){dd.disabled=null}case"input":t.removeAttr("disabled");t.attr("_da",false);if(t.attr("type")=="button"){t.removeClass("common_button_disable")}if(c){c.switchClone(false)}break;case"a":if(!t.attr("_isrel")){t.switchClone(false);t.attr("_da",false)}break}}})})};var attrObjs=[];$.fn.attrObj=function(name,value){var obj;for(var i=0;i<attrObjs.length;i++){if(attrObjs[i].o==this[0]){obj=attrObjs[i];break}}if(!obj){obj=new Object();obj.o=this[0];obj.v=new Object();attrObjs.push(obj)}if(value){obj.v[name]=value}else{return obj.v[name]}};$.fn.removeAttrObj=function(name){for(var i=0;i<attrObjs.length;i++){if(attrObjs[i].o==this[0]){var obj=attrObjs[i];obj.v[name]=null;break}}};$.confirmClose=function(){var mute=arguments.length>0;var ua=navigator.userAgent;var isMSIE=(navigator.appName=="Microsoft Internet Explorer")||ua.indexOf("Trident")!=-1;if(isMSIE){document.body.onbeforeunload=function(){if(removeCtpWindow){removeCtpWindow(null,2)}if(!mute&&isFormSubmit){window.event.returnValue=""}}}else{if(navigator.userAgent.indexOf("Firefox")!=-1){window.onbeforeunload=function(e){if(removeCtpWindow){removeCtpWindow(null,2)}if(!mute&&isFormSubmit){return""}}}else{if(navigator.userAgent.indexOf("Safari")!=-1){window.addEventListener("beforeunload",function(event){if(removeCtpWindow){removeCtpWindow(null,2)}if(!mute&&isFormSubmit){event&&(event.returnValue="");return""}},false)}else{window.addEventListener("beforeunload",function(){if(removeCtpWindow){removeCtpWindow(null,2)}if(!mute&&isFormSubmit){return""}},false)}}}};$.i18n=function(key){function sleep(milliseconds){var start=new Date().getTime();for(var i=0;i<10000000;i++){if((new Date().getTime()-start)>milliseconds){break}}}try{var msg="";if(window.localStorage){msg=window.localStorage.getItem("i18n_"+key);if(msg==null){var data=window.localStorage.getItem("i18n_DATA");if(data==null){$.ajax({url:"/seeyon/i18n_init_"+_locale+".js",async:false,beforeSend:CsrfGuard.beforeAjaxSend,dataType:"script"})}var k="|_"+key+",";var firstIndex=data.indexOf(k);if(firstIndex>-1){var lastIndex=data.indexOf("_|",firstIndex);msg=data.substring(firstIndex+k.length,lastIndex);localStorage.setItem("i18n_"+key,msg)}data=null}}else{if(!CTPLang){$.ajax({url:"/seeyon/i18n_"+_locale+".js",async:false,beforeSend:CsrfGuard.beforeAjaxSend,dataType:"script"})}var lang=CTPLang[_locale];if(!lang){return key}var msg=lang[key+_editionI18nSuffix.toUpperCase()];if(!msg){msg=lang[key+_editionI18nSuffix.toLowerCase()]}if(!msg){msg=lang[key]}}if(msg&&arguments.length>1){var messageRegEx_0=/\{0\}/g;var messageRegEx_1=/\{1\}/g;var messageRegEx_2=/\{2\}/g;var messageRegEx_3=/\{3\}/g;var messageRegEx_4=/\{4\}/g;var messageRegEx_5=/\{5\}/g;var messageRegEx_6=/\{6\}/g;var messageRegEx_7=/\{7\}/g;var messageRegEx_8=/\{8\}/g;var messageRegEx_9=/\{9\}/g;var messageRegEx_10=/\{10\}/g;var messageRegEx_11=/\{11\}/g;var messageRegEx_12=/\{12\}/g;var messageRegEx_13=/\{13\}/g;var messageRegEx_14=/\{14\}/g;var messageRegEx_15=/\{15\}/g;for(var i=0;i<arguments.length-1;i++){var regEx=eval("messageRegEx_"+i);var repMe=""+arguments[i+1];if(repMe.indexOf("$_")!=-1){repMe=repMe.replace("$_","$$_")}msg=msg.replace(regEx,repMe)}}return msg}catch(e){}return""}})(jQuery);var ctpCodeManager=RemoteJsonService.extend({jsonGateway:_ctxPath+"/ajax.do?method=ajaxAction&managerName=ctpCodeManager",selectCode:function(){return this.ajaxCall(arguments,"selectCode")}});var ctpUserPreferenceManager=RemoteJsonService.extend({jsonGateway:_ctxPath+"/ajax.do?method=ajaxAction&managerName=ctpUserPreferenceManager",saveGridPreference:function(){return this.ajaxCall(arguments,"saveGridPreference")}});var AjaxDataLoader={load:function(a,b,c){jQuery.ajax({type:"POST",beforeSend:CsrfGuard.beforeAjaxSend,url:a,cache:false,data:b,async:true,success:function(d){if($.isFunction(c)){c(d)}}})}};Array.prototype.contains=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return true}}return false};String.prototype.format=function(){var a=arguments;return this.replace(/\{(\d+)\}/g,function(){return a[arguments[1]]})};function showMask(){try{if(getCtpTop()&&getCtpTop().startProc){getCtpTop().startProc()}}catch(a){}}function hideMask(){try{if(getCtpTop()&&getCtpTop().endProc){getCtpTop().endProc()}}catch(a){}}function getCtpTop(){try{var a=getCtpParentWindow(window);if(a){return a}else{return top}}catch(b){return top}}function getCtpParentWindow(c){var a=c;for(var b=0;b<20;b++){if(typeof a.isCtpTop!="undefined"&&a.isCtpTop){return a}else{if(a==window.top){break}a=a.parent}}}function getCtpTopFromOpener(d){var a=d.getCtpTop();for(var b=0;b<10;b++){if(typeof a.isCtpTop!="undefined"&&a.isCtpTop){return a}else{try{if(a.opener.getCtpTop){a=a.opener.getCtpTop()}else{a=a.opener.top}}catch(c){return a}}}}function closeOpenMultyWindow(c,e){if(c==undefined){c=window.location+"";var d=c.indexOf("/seeyon/");if(d!=-1){c=c.substring(d)}}var b=getCtpTop()._windowsMap;if(b){var a=b.get(c);if(a){if(e!=undefined&&a.isFormSubmit){a.isFormSubmit=e}a.close()}b.remove(c)}}function addAnotherKey(b,d,j,g,a){if(b&&d){var m=getCtpTop();if(j==2){if(getCtpTop().opener){m=getCtpTop().opener}}var e=m._windowsMap;if(e){var k=e.get(b);if(k){if(e.containsKey(d)){e.remove(d)}e.putRef(d,k)}else{if(g){if(e.keys().size()==0){e.putRef(d,a)}else{var f=e.keys().size();var l;for(var c=0;c<f;c++){var h=e.keys().get(c);if(h.indexOf(g)){l=e.get(h);break}}if(e.containsKey(d)){e.remove(d)}e.putRef(d,l)}}}}}}function getMultyWindowId(b,c){if(c==undefined||b==undefined){return}var d;var e=c.indexOf(b);var a=c.indexOf("&",e);if(a==-1){d=c.substring(e+b.length+1)}else{d=c.substring(e+b.length+1,a)}return d}function removeCtpWindow(g,b){try{var f=getCtpTop();if(g==null||g==undefined){g=f.location+"";var d=g.indexOf("/seeyon/");if(d!=-1){g=g.substring(d)}}if(b==2){if(getCtpTop().isCtpTop){return}if(getCtpTop().opener){f=getCtpTop().opener}}var a=f._windowsMap;if(a){a.remove(g)}}catch(c){}}function openCtpWindow(d){var r,z,u,o,n,l,F,j,b;this.windowArgs=d;z=d.width||parseInt(screen.width)-20;u=d.height||parseInt(screen.height)-80;this.settings={dialog_type:"open",resizable:"yes",scrollbars:"yes"};r=d.html;j=d.url;if(j.indexOf("seeyon")==0){j=_ctxPath+j}j+=CsrfGuard.getUrlSurffix(j);b=d.dialogType||this.settings.dialog_type;l=d.resizable||this.settings.resizable;F=d.scrollbars||this.settings.scrollbars;var m=null;var D=(l=="yes")?"no":"yes";var f=d.id;if(f==undefined){f=j}var A=getCtpTop()._windowsMap;if(A){try{var t=A.keys()}catch(E){getCtpTop()._windowsMap=new Properties();A=getCtpTop()._windowsMap}for(var w=0;w<A.keys().size();w++){var s=A.keys().get(w);try{var c=A.get(s);var q=c.document;if(q){var G=parseInt(q.body.clientHeight);if(G==0){if($.browser.msie){q.write("")}c.close();c=null;A.remove(s);w--}}else{c=null;A.remove(s);w--}}catch(E){c=null;A.remove(s);w--}}if(A.size()==10){alert($.i18n("window.max.length.js"));return}var B=A.get(f);if(B){try{var h=B.location.href;var k="";var a=h.indexOf("/seeyon/");if(a!=-1){k=h.substring(a)}if(k==j){var q=B.document;if(d.window){d.window.alert($.i18n("window.already.exit.js"))}else{alert($.i18n("window.already.exit.js"))}B.focus();return}}catch(E){B=null;A.remove(f)}}}else{getCtpTop()._windowsMap=new Properties();A=getCtpTop()._windowsMap}u-=25;var g;if(j.indexOf("linkConnectForMenu")!=-1||j.indexOf("linkSystemController")!=-1){g=window.open(j,"","top=0,left=0,scrollbars=yes,dialog=yes,minimizable=yes,modal=open,width="+z+",height="+u+",resizable=yes")}else{g=window.open(j,"ctpPopup"+new Date().getTime(),"top=0,left=0,scrollbars=yes,dialog=yes,minimizable=yes,modal=open,width="+z+",height="+u+",resizable=yes")}if(g==null){return}try{g.focus()}catch(E){}if(A){A.putRef(f,g)}return g}function removeAllDialog(){try{getCtpTop().$(".mask").remove();var d=getCtpTop().$(".dialog_box");if(d.size()>0){var b=getCtpTop().$(".dialog_box .dialog_main_content iframe");if(b.size()>0){for(var a=0;a<b.size();a++){b[a].contentWindow.document.write("");b[a].contentWindow.close()}b.remove()}d.remove()}getCtpTop().$(".shield").remove();getCtpTop().$(".mxt-window").remove()}catch(c){}}var CsrfGuard={getToken:function(){var a=typeof(CSRFTOKEN)==="undefined"?getCtpTop().CSRFTOKEN:CSRFTOKEN;return typeof(a)==="undefined"||a==="null"?"":a},isEnabled:function(){return this.getToken()!==""},getUrlSurffix:function(a){if(typeof(a)!=="undefined"&&a.indexOf("CSRFTOKEN=")>0){return""}function b(c){var d="&";if(typeof(c)!=="undefined"){if(c.indexOf("?")<0){d="?"}}return d}return !this.isEnabled()?"":b(a)+"CSRFTOKEN="+this.getToken()},beforeAjaxSend:function(a){var b=CsrfGuard.getToken();if(b!==""){a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.setRequestHeader("CSRFTOKEN",b)}}};var messageRegEx_0=/\{0\}/g;var messageRegEx_1=/\{1\}/g;var messageRegEx_2=/\{2\}/g;var messageRegEx_3=/\{3\}/g;var messageRegEx_4=/\{4\}/g;var messageRegEx_5=/\{5\}/g;var messageRegEx_6=/\{6\}/g;var messageRegEx_7=/\{7\}/g;var messageRegEx_8=/\{8\}/g;var messageRegEx_9=/\{9\}/g;var messageRegEx_10=/\{10\}/g;var messageRegEx_11=/\{11\}/g;var messageRegEx_12=/\{12\}/g;var messageRegEx_13=/\{13\}/g;var messageRegEx_14=/\{14\}/g;var messageRegEx_15=/\{15\}/g;var portalOfA8IframeStr="top.frames['frame_A8']";var thisWindowZindex=600;var getMaxZindex=function(a){if(typeof(a)!="undefined"){a=Number(a);if(isNaN(Number(a))){$.alert("请检查传入的z-index值！")}}if(typeof(a)=="undefined"||a==1){thisWindowZindex=thisWindowZindex+1;return thisWindowZindex}else{thisWindowZindex=thisWindowZindex+a;return(thisWindowZindex-a+1)}};if(!window.ActiveXObject){if(typeof(HTMLElement)!="undefined"){HTMLElement.prototype.__defineSetter__("outerHTML",function(a){var b=this.ownerDocument.createRange();b.setStartBefore(this);var c=b.createContextualFragment(a);this.parentNode.replaceChild(c,this);return a});HTMLElement.prototype.__defineGetter__("outerHTML",function(){var b=this.attributes,d="<"+this.tagName,c=0;for(;c<b.length;c++){if(b[c].specified){d+=" "+b[c].name+'="'+b[c].value+'"'}}if(!this.canHaveChildren){return d+" />"}return d+">"+this.innerHTML+"</"+this.tagName+">"});HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){return !/^(area|base|basefont|col|frame|hr|img|br|input|isindex|link|meta|param)$/.test(this.tagName.toLowerCase())})}}if(!window.ActiveXObject){if(!!document.getBoxObjectFor||window.mozInnerScreenX!=null){HTMLElement.prototype.__defineSetter__("innerText",function(b){var a=document.createTextNode(b);this.innerHTML="";this.appendChild(a);return a});HTMLElement.prototype.__defineGetter__("innerText",function(){var a=this.ownerDocument.createRange();a.selectNodeContents(this);return a.toString()})}if(!!document.getBoxObjectFor||window.mozInnerScreenX!=null){HTMLElement.prototype.__defineSetter__("outerText",function(b){var a=document.createTextNode(b);this.parentNode.replaceChild(a,this);return a});HTMLElement.prototype.__defineGetter__("outerText",function(){var a=this.ownerDocument.createRange();a.selectNodeContents(this);return a.toString()})}}String.prototype.getBytesLength=function(){var a=this.match(/[^\x00-\xff]/ig);return this.length+(a==null?0:a.length)};String.prototype.getLimitLength=function(d,g){if(!d||d<0){return this}var b=this.getBytesLength();if(b<=d){return this}g=g==null?"..":g;d=d-g.length;var c=0;var e="";for(var f=0;f<this.length;f++){if(this.charCodeAt(f)>255){c+=2}else{c++}e+=this.charAt(f);if(c>=d){return e+g}}return this};String.prototype.escapeHTML=function(b,a){try{return escapeStringToHTML(this,b,a)}catch(c){}return this};String.prototype.escapeUrl=function(a){try{return escapeStringToHTML(this.replace(/\n/g,""),a)}catch(b){}return this};String.prototype.escapeJavascript=function(){return escapeStringToJavascript(this)};String.prototype.escapeSpace=function(){return this.replace(/ /g,"&nbsp;")};String.prototype.escapeSameWidthSpace=function(){return this.replace(/ /g,"&nbsp;&nbsp;")};String.prototype.escapeXML=function(){return this.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")};String.prototype.escapeQuot=function(){return this.replace(/\'/g,"&#039;").replace(/"/g,"&#034;")};String.prototype.startsWith=function(a){return this.indexOf(a)==0};String.prototype.endsWith=function(a){if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(e){if(this===void 0||this===null){throw new TypeError()}var g,d,f=Object(this),c=f.length>>>0;if(c===0){return -1}g=c-1;if(arguments.length>1){g=Number(arguments[1]);if(g!=g){g=0}else{if(g!=0&&g!=(1/0)&&g!=-(1/0)){g=(g>0||-1)*Math.floor(Math.abs(g))}}}for(d=g>=0?Math.min(g,c-1):c-Math.abs(g);d>=0;d--){if(d in f&&f[d]===e){return d}}return -1}}var b=this.lastIndexOf(a);return b>-1&&b==this.length-a.length};String.prototype.trim=function(){var d=this.toCharArray();var a=0;var e=d.length;for(var b=0;b<d.length;b++){var f=d[b];if(f==" "){a++}else{break}}if(a==this.length){return""}for(var b=d.length;b>0;b--){var f=d[b-1];if(f==" "){e--}else{break}}return this.substring(a,e)};String.prototype.toCharArray=function(){var b=[];for(var a=0;a<this.length;a++){b[a]=this.charAt(a)}return b};Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++){if(this[b]==a){return b}}return -1};var log={rootLogger:"info",debugLevel:{debug:true,info:true,warn:true,error:true},infoLevel:{debug:false,info:true,warn:true,error:true},warnLevel:{debug:false,info:false,warn:true,error:true},errorLevel:{debug:false,info:false,warn:false,error:true},debug:function(a){if(this.isDebugEnabled()){alert("Debug : "+a)}},info:function(a){if(this.isInfoEnabled()){alert("Info : "+a)}},warn:function(a){if(this.isWarnEnabled()){alert("Warn : "+a)}},error:function(b,a){if(this.isErrorEnabled()){alert("Error : "+b+"\n\n"+a.message)}},isDebugEnabled:function(){return eval("this."+this.rootLogger+"Level.debug")},isInfoEnabled:function(){return eval("this."+this.rootLogger+"Level.info")},isWarnEnabled:function(){return eval("this."+this.rootLogger+"Level.warn")},isErrorEnabled:function(){return eval("this."+this.rootLogger+"Level.error")}};var UUID_seqence=0;function getUUID(){var a=new Date().getTime()+""+(UUID_seqence++);if(UUID_seqence>=100000){UUID_seqence=0}return a}var EmptyArrayList=new ArrayList();function ArrayList(){this.instance=new Array()}ArrayList.prototype.size=function(){return this.instance.length};ArrayList.prototype.add=function(a){this.instance[this.instance.length]=a};ArrayList.prototype.addSingle=function(a){if(!this.contains(a)){this.instance[this.instance.length]=a}};ArrayList.prototype.addAt=function(a,b){if(a>=this.size()||a<0||this.isEmpty()){this.add(b);return}this.instance.splice(a,0,b)};ArrayList.prototype.addAll=function(a){if(!a||a.length<1){return}this.instance=this.instance.concat(a)};ArrayList.prototype.addList=function(a){if(a&&a instanceof ArrayList&&!a.isEmpty()){this.instance=this.instance.concat(a.instance)}};ArrayList.prototype.get=function(a){if(this.isEmpty()){return null}if(a>this.size()){return null}return this.instance[a]};ArrayList.prototype.getLast=function(){if(this.size()<1){return null}return this.instance[this.size()-1]};ArrayList.prototype.set=function(b,c){if(b>=this.size()){throw"IndexOutOfBoundException : Index "+b+", Size "+this.size()}var a=this.instance[b];this.instance[b]=c;return a};ArrayList.prototype.removeElementAt=function(a){if(a>this.size()||a<0){return}this.instance.splice(a,1)};ArrayList.prototype.remove=function(b){var a=this.indexOf(b);this.removeElementAt(a)};ArrayList.prototype.contains=function(a,b){return this.indexOf(a,b)>-1};ArrayList.prototype.indexOf=function(c,d){for(var a=0;a<this.size();a++){var b=this.instance[a];if(b==c){return a}else{if(d!=null&&b!=null&&c!=null&&b[d]==c[d]){return a}}}return -1};ArrayList.prototype.lastIndexOf=function(c,d){for(var a=this.size()-1;a>=0;a--){var b=this.instance[a];if(b==c){return a}else{if(d!=null&&b!=null&&c!=null&&b[d]==c[d]){return a}}}return -1};ArrayList.prototype.subList=function(b,d){if(b<0){b=0}if(d>this.size()){d=this.size()}var c=this.instance.slice(b,d);var a=new ArrayList();a.addAll(c);return a};ArrayList.prototype.toArray=function(){return this.instance};ArrayList.prototype.isEmpty=function(){return this.size()==0};ArrayList.prototype.clear=function(){this.instance=new Array()};ArrayList.prototype.toString=function(a){a=a||", ";return this.instance.join(a)};function QuickSortArrayList(a,b){QuickSortArray(a.toArray(),b)}function QuickSortArray(a,b){if(b){a.sort(function(d,c){return d[b]<c[b]?-1:(d[b]==c[b]?0:1)})}else{a.sort()}}var EmptyProperties=new Properties();function Properties(a){this.instanceKeys=new ArrayList();this.instance={};if(a){this.instance=a;for(var b in a){this.instanceKeys.add(b)}}}Properties.prototype.size=function(){return this.instanceKeys.size()};Properties.prototype.get=function(b,a){if(b==null){return null}var c=this.instance[b];if(c==null&&a!=null){return a}return c};Properties.prototype.remove=function(a){if(a==null){return null}this.instanceKeys.remove(a);delete this.instance[a]};Properties.prototype.put=function(a,b){if(a==null){return null}if(this.instance[a]==null){this.instanceKeys.add(a)}this.instance[a]=b};Properties.prototype.putRef=function(a,b){if(a==null){return null}this.instanceKeys.add(a);this.instance[a]=b};Properties.prototype.getMultilevel=function(d,b){if(d==null){return null}var c=d.split(".");function a(j,g,f){try{if(j==null||(typeof j!="object")){return null}var k=j.get(g[f]);if(f<g.length-1){k=a(k,g,f+1)}return k}catch(h){}return null}var e=a(this,c,0);return e==null?b:e};Properties.prototype.containsKey=function(a){if(a==null){return false}return this.instance[a]!=null};Properties.prototype.keys=function(){return this.instanceKeys};Properties.prototype.values=function(){var d=new ArrayList();for(var b=0;b<this.instanceKeys.size();b++){var a=this.instanceKeys.get(b);if(a){var c=this.instance[a];d.add(c)}}return d};Properties.prototype.isEmpty=function(){return this.instanceKeys.isEmpty()};Properties.prototype.clear=function(){this.instanceKeys.clear();this.instance={}};Properties.prototype.swap=function(c,b){if(!c||!b||c==b){return}var e=-1;var d=-1;for(var a=0;a<this.instanceKeys.instance.length;a++){if(this.instanceKeys.instance[a]==c){e=a}else{if(this.instanceKeys.instance[a]==b){d=a}}}this.instanceKeys.instance[e]=b;this.instanceKeys.instance[d]=c};Properties.prototype.entrySet=function(){var a=[];for(var c=0;c<this.instanceKeys.size();c++){var b=this.instanceKeys.get(c);var d=this.instance[b];if(!b){continue}var e=new Object();e.key=b;e.value=d;a[a.length]=e}return a};Properties.prototype.toString=function(){var c="";for(var b=0;b<this.instanceKeys.size();b++){var a=this.instanceKeys.get(b);c+=a+"="+this.instance[a]+"\n"}return c};Properties.prototype.toStringTokenizer=function(e,d){e=e==null?";":e;d=d==null?"=":d;var f="";for(var b=0;b<this.instanceKeys.size();b++){var a=this.instanceKeys.get(b);var c=this.instance[a];if(!a){continue}if(b>0){f+=e}f+=a+d+c}return f};Properties.prototype.toQueryString=function(){if(this.size()<1){return""}var d="";for(var b=0;b<this.instanceKeys.size();b++){var a=this.instanceKeys.get(b);var c=this.instance[a];if(!a){continue}if(b>0){d+="&"}if(typeof c=="object"){}else{d+=a+"="+encodeURIat(c)}}return d};function encodeURIat(a){if((typeof a)!=="string"){return""}a=encodeURI(a);var b=/&|\/|\+|\?|\s|%|#|=/g;if(b.test(a)){a=a.replace(/(\/)/g,"%2F");a=a.replace(/(&)/g,"%26");a=a.replace(/(\+)/g,"%2B");a=a.replace(/(\?)/g,"%3F");a=a.replace(/(#)/g,"%23");a=a.replace(/(=)/g,"%3D")}return a}Properties.prototype.toInputString=function(){if(this.size()<1){return""}var d="";for(var b=0;b<this.instanceKeys.size();b++){var a=this.instanceKeys.get(b);var c=this.instance[a];if(!a){continue}if(typeof c=="object"){}else{d+="<input type='hidden' name=\""+a+'" value="'+encodeURI(c)+">"}}return d};function Set(){this.instance=new Array();this.key={}}Set.prototype.add=function(){if(arguments==null||arguments.length<1){throw"arguments is null"}for(var c=0;c<arguments.length;c++){var b=arguments[c];if(!this.contains(b)){this.instance[this.size()]=b;this.key[b]="A8"}}};Set.prototype.size=function(){return this.instance.length};Set.prototype.contains=function(a){return this.key[a]!=null};Set.prototype.isEmpty=function(){return this.size()==0};Set.prototype.clear=function(){this.instance=new Array();this.key={}};Set.prototype.get=function(a){if(this.isEmpty()){return null}if(a>this.size()){return null}return this.instance[a]};Set.prototype.toArray=function(){return this.instance};Set.prototype.toString=function(){return this.instance.join(", ")};function StringBuffer(){this._strings_=new Array()}StringBuffer.prototype.append=function(a){if(a){if(a instanceof Array){this._strings_=this._strings_.concat(a)}else{this._strings_[this._strings_.length]=a}}return this};StringBuffer.prototype.reset=function(a){this.clear();this.append(a)};StringBuffer.prototype.clear=function(){this._strings_=new Array()};StringBuffer.prototype.isBlank=function(){return this._strings_.length==0};StringBuffer.prototype.toString=function(a){a=a==null?"":a;if(this._strings_.length==0){return""}return this._strings_.join(a)};function V3X(){this.windowArgs=new Array();this.lastWindow=null;var a=navigator.userAgent;this.isMSIE=(navigator.appName=="Microsoft Internet Explorer")||a.indexOf("Trident")!=-1;this.isMSIE5=this.isMSIE&&(a.indexOf("MSIE 5")!=-1);this.isMSIE5_0=this.isMSIE&&(a.indexOf("MSIE 5.0")!=-1);this.isMSIE6=this.isMSIE&&(a.indexOf("MSIE 6")!=-1);this.isMSIE7=this.isMSIE&&(a.indexOf("MSIE 7")!=-1);this.isMSIE8=this.isMSIE&&(a.indexOf("MSIE 8")!=-1);this.isMSIE9=this.isMSIE&&(a.indexOf("MSIE 9")!=-1);this.isMSIE10=this.isMSIE&&(a.indexOf("MSIE 10")!=-1);this.isMSIE11=this.isMSIE&&(a.indexOf("rv:11")!=-1);this.isGecko=a.indexOf("Gecko")!=-1;this.isGecko18=a.indexOf("Gecko")!=-1&&a.indexOf("rv:1.8")!=-1;this.isSafari=a.indexOf("Safari")!=-1;this.isOpera=a.indexOf("Opera")!=-1;this.isFirefox=a.indexOf("Firefox")!=-1;this.isMac=a.indexOf("Mac")!=-1;this.isNS7=a.indexOf("Netscape/7")!=-1;this.isNS71=a.indexOf("Netscape/7.1")!=-1;this.isIpad=a.indexOf("iPad")!=-1;this.isChrome=a.indexOf("Chrome")!=-1;this.currentBrowser="";this.browserFlag={openWindow:[true,true,false,false,false,false,false],sectionOpenDetail:[true,true,true,false,true,true,false],selectPeople:[true,true,true,false,true,true,false],htmlEditer:[true,true,true,false,true,true,false],hideMenu:[true,true,true,false,true,true,false],newFlash:[true,true,true,false,true,false,false],signature:[true,true,false,false,false,false,false],createProcess:[true,true,true,false,true,true,false],flash:[true,true,true,false,true,true,false],downLoad:[true,true,true,false,true,true,false],print:[true,true,true,false,true,true,false],exportExcel:[true,true,true,false,true,true,false],pageBreak:[true,true,true,false,true,true,false],menuPosition:[false,false,false,true,false,false,false],officeMenu:[true,true,true,false,true,false,false],selectPeopleShowType:[true,true,true,false,true,true,false],OpenDivWindow:[true,true,true,false,true,true,false],selectDivType:[true,true,true,false,true,true,false],onDbClick:[true,true,true,false,true,true,true],needModalWindow:[true,true,true,false,true,true,false],onlyIe:[true,true,false,false,false,false,false]};this.isOfficeSupport=function(){return this.getBrowserFlag("officeMenu")==true};this.dialogCounter=0;this.defaultLanguage="en";this.currentLanguage="";this.baseURL="";this.loadedFiles=new Array();this.workSpaceTop=130;if(this.isMSIE8){this.workSpaceTop=140}if(!this.isMSIE7&&!this.isMSIE8){this.workSpaceTop=130}this.workSpaceLeft=0;this.workSpaceWidth=screen.width-this.workSpaceLeft;this.workSpaceheight=screen.height-this.workSpaceTop-20-(this.isMSIE7?35:0);if(this.isOpera){this.isMSIE=true;this.isGecko=false;this.isSafari=false}this.settings={dialog_type:"modal",resizable:"yes",scrollbars:"yes"}}V3X.prototype.init=function(a,b){if(a){this.baseURL=a}this.currentLanguage=b;this.loadLanguage("/common/js/i18n");this.getCurrentBrowser()};V3X.prototype.getCurrentBrowser=function(){if(this.isMSIE||this.isMSIE5||this.isMSIE5_0||this.isMSIE7||this.isMSIE8){this.currentBrowser="MSIE"}if(this.isMSIE9){this.currentBrowser="MSIE9"}if(this.isFirefox){this.currentBrowser="FIREFOX"}if(this.isSafari){this.currentBrowser="SAFARI"}if(this.isChrome){this.currentBrowser="CHROME"}if(this.isIpad){this.currentBrowser="IPAD"}if(this.isOpera){this.currentBrowser="OPERA"}};V3X.prototype.getBrowserFlag=function(a){if(a!=null&&a!=""){var b=0;if(this.currentBrowser=="MSIE"){b=0}if(this.currentBrowser=="MSIE9"){b=1}if(this.currentBrowser=="FIREFOX"){b=2}if(this.currentBrowser=="IPAD"){b=3}if(this.currentBrowser=="CHROME"){b=4}if(this.currentBrowser=="SAFARI"){b=5}if(this.currentBrowser=="OPERA"){b=6}return this.browserFlag[a][b]}};V3X.prototype.openDialog=function(a){return new MxtWindow(a)};V3X.prototype.getEvent=function(){if(this.isMSIE){return window.event}func=v3x.getEvent.caller;while(func!=null){var a=func.arguments[0];if(a){if((a.constructor==Event||a.constructor==MouseEvent)||(typeof(a)=="object"&&a.preventDefault&&a.stopPropagation)){return a}}func=func.caller}return null};V3X.prototype.openWindow=function(b){var l,o,n,k,j,g,t,e;this.windowArgs=b;l=b.html;if(b.FullScrean){o=this.workSpaceWidth;n=this.workSpaceheight+this.workSpaceTop;o=o-20;k=0;j=0}else{if(b.workSpace){o=this.workSpaceWidth;n=this.workSpaceheight;o=o-30;k=this.workSpaceLeft;j=this.workSpaceTop;j=j-40}else{if(b.workSpaceRight){o=this.workSpaceWidth-155;n=this.workSpaceheight;if(this.isMSIE8){n=this.workSpaceheight-48}if(!this.isMSIE7&&!this.isMSIE8){o=this.workSpaceWidth-165;n=this.workSpaceheight-35}k=140;j=this.workSpaceTop}else{o=b.width||320;n=b.height||200;o=parseInt(o);n=parseInt(n);if(this.isMSIE){if(this.isMSIE7||this.isMSIE8){n-=6}else{n+=20}}k=b.left||parseInt(screen.width/2)-(o/2);j=b.top||parseInt(screen.height/2)-(n/2)}}}g=b.resizable||this.settings.resizable;t=b.scrollbars||this.settings.scrollbars;e=b.url;if(e.indexOf("CSRFTOKEN=")<0){e=e+CsrfGuard.getUrlSurffix(e)}if(l){var d=window.open("","v3xPopup"+new Date().getTime(),"top="+j+",left="+k+",scrollbars="+t+",dialog=yes,minimizable="+g+",modal=yes,width="+o+",height="+n+",resizable="+g);if(d==null){return}d.document.write(l);d.document.close();d.resizeTo(o,n);d.focus();return d}else{var a=b.dialogType||this.settings.dialog_type;if(a=="modal"&&window.showModalDialog){var f="resizable:"+g+";scroll:"+t+";status:no;help:no;dialogWidth:"+o+"px;dialogHeight:"+n+"px;";if(b.workSpace||b.workSpaceRight||(b.left&&b.top)){f+="dialogTop:"+j+"px;dialogLeft:"+k+"px;"}else{var c=(parseInt(getA8Top().document.body.offsetWidth)-o)/2;var m=(parseInt(getA8Top().document.body.offsetHeight)-n)/2;if(c==null||m==null||c<0||m<0){c=200;m=200}f+=this.isMSIE?"center:yes;":"dialogTop:"+m+"px;dialogLeft:"+c+"px;"}if(e.indexOf("?")!=-1){e+="&"}else{e+="?"}e+="_isModalDialog=true";var h=window.showModalDialog(e,window,f);var s=null;if(this.ModalDialogResultValue==undefined){s=h}else{s=this.ModalDialogResultValue;this.ModalDialogResultValue=undefined}return s}else{var h=null;var r=(g=="yes")?"no":"yes";if(this.isGecko&&this.isMac){r="no"}if(b.closePrevious!="no"){try{this.lastWindow.close()}catch(q){}}if(window.dialogArguments&&b.workSpace){j-=5;n-=25}var d=window.open(e,"v3xPopup"+new Date().getTime(),"top="+j+",left="+k+",scrollbars="+t+",dialog="+r+",minimizable="+g+",modal="+r+",width="+o+",height="+n+",resizable="+g);if(d==null){return}if(b.closePrevious!="no"){this.lastWindow=d}if(this.isGecko&&!this.isMSIE&&!this.isFirefox){if(d.document.defaultView.statusbar.visible){d.resizeBy(0,this.isMac?10:24)}}d.focus();return d}}};V3X.prototype.setResultValue=function(a){this.getParentWindow().v3x.ModalDialogResultValue=a};V3X.prototype.closeWindow=function(a){a.close()};V3X.prototype.getParentWindow=function(a){a=a||window;if(a.dialogArguments){return a.dialogArguments}else{return a.opener||a}};V3X.prototype.loadLanguage=function(a){this.loadScriptFile(this.baseURL+a+"/"+this.currentLanguage+".js?V=3_50_2_29")};V3X.prototype.getMessage=function(key){try{var msg=eval(""+key);if(msg&&arguments.length>1){for(var i=0;i<arguments.length-1;i++){var regEx=eval("messageRegEx_"+i);var repMe=""+arguments[i+1];if(repMe.indexOf("$_")!=-1){repMe=repMe.replace("$_","$$_")}msg=msg.replace(regEx,repMe)}}return msg}catch(e){try{var msg="";if(window.localStorage){msg=window.localStorage.getItem("i18n_"+key);if(msg==null){var data=window.localStorage.getItem("i18n_DATA");if(data==null){this.loadScriptFile(this.baseURL+"i18n_init_"+_locale+".js")}var k="|_"+key+",";var firstIndex=data.indexOf(k);if(firstIndex>-1){var lastIndex=data.indexOf("_|",firstIndex);msg=data.substring(firstIndex+k.length,lastIndex);localStorage.setItem("i18n_"+key,msg)}data=null}}else{if(!CTPLang){this.loadScriptFile(this.baseURL+"i18n_"+_locale+".js")}var lang=CTPLang[_locale];if(!lang){return key}var msg=lang[key+_editionI18nSuffix.toUpperCase()];if(!msg){msg=lang[key+_editionI18nSuffix.toLowerCase()]}if(!msg){msg=lang[key]}}if(msg&&arguments.length>1){for(var i=0;i<arguments.length-1;i++){var regEx=eval("messageRegEx_"+i);var repMe=""+arguments[i+1];if(repMe.indexOf("$_")!=-1){repMe=repMe.replace("$_","$$_")}msg=msg.replace(regEx,repMe)}}return msg}catch(e){}return""}return""};V3X.prototype.loadScriptFile=function(a){for(var b=0;b<this.loadedFiles.length;b++){if(this.loadedFiles[b]==a){return}}document.write('<script language="javascript" type="text/javascript" charset="UTF-8" src="'+a+'"><\/script>');this.loadedFiles[this.loadedFiles.length]=a};V3X.prototype.getElementPosition=function(d){var a=navigator.userAgent.toLowerCase();var b=(a.indexOf("opera")!=-1);var e=(a.indexOf("msie")!=-1&&!b);if(d.parentNode===null||d.style.display=="none"){return false}var l=null;var k=[];var h;if(d.getBoundingClientRect){h=d.getBoundingClientRect();var c=Math.max(document.documentElement.scrollTop,document.body.scrollTop);var f=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);return{x:h.left+f,y:h.top+c}}else{if(document.getBoxObjectFor){h=document.getBoxObjectFor(d);var j=(d.style.borderLeftWidth)?parseInt(d.style.borderLeftWidth):0;var g=(d.style.borderTopWidth)?parseInt(d.style.borderTopWidth):0;k=[h.x-j,h.y-g]}else{k=[d.offsetLeft,d.offsetTop];l=d.offsetParent;if(l!=d){while(l){k[0]+=l.offsetLeft;k[1]+=l.offsetTop;l=l.offsetParent}}if(a.indexOf("opera")!=-1||(a.indexOf("safari")!=-1&&d.style.position=="absolute")){k[0]-=document.body.offsetLeft;k[1]-=document.body.offsetTop}}}if(d.parentNode){l=d.parentNode}else{l=null}while(l&&l.tagName!="BODY"&&l.tagName!="HTML"){k[0]-=l.scrollLeft;k[1]-=l.scrollTop;if(l.parentNode){l=l.parentNode}else{l=null}}return{x:k[0],y:k[1]}};function disableButton(c,a){a=a||"100%";if(!c){return false}var d=null;if(typeof c=="string"){d=document.getElementById(c)}else{d=c}if(!d){return false}if(document.readyState!="complete"){if(typeof c=="string"){window.setTimeout("disableButton('"+c+"')",2500)}else{window.setTimeout("disableButton("+c+")",2500)}return}var b=d.cDisabled;b=(b!=null);if(!b){d.cDisabled=true;if(document.getElementsByTagName){var e="<span style='background: buttonshadow; filter: chroma(color=white) dropshadow(color=buttonhighlight, offx=1, offy=1); height: "+a+";'>";e+="  <span style='filter: mask(color=white); height: "+a+"'>";e+=d.innerHTML;e+="  </span>";e+="</span>";d.innerHTML=e}else{d.innerHTML='<span style="background: buttonshadow; width: 100%; height: 100%; text-align: center;"><span style="filter:Mask(Color=buttonface) DropShadow(Color=buttonhighlight, OffX=1, OffY=1, Positive=0); height: 100%; width: 100%; text-align: center;">'+d.innerHTML+"</span></span>"}if(d.onclick!=null){d.cDisabled_onclick=d.onclick;d.onclick=null}if(d.onmouseover!=null){d.cDisabled_onmouseover=d.onmouseover;d.onmouseover=null}if(d.onmouseout!=null){d.cDisabled_onmouseout=d.onmouseout;d.onmouseout=null}}}function enableButton(b){if(!b){return false}var c=null;if(typeof b=="string"){c=document.getElementById(b)}else{c=b}if(!c){return false}var a=c.cDisabled;a=(a!=null);if(a){c.cDisabled=null;c.innerHTML=c.children[0].children[0].innerHTML;if(c.cDisabled_onclick!=null){c.onclick=c.cDisabled_onclick;c.cDisabled_onclick=null}if(c.cDisabled_onmouseover!=null){c.onmouseover=c.cDisabled_onmouseover;c.cDisabled_onmouseover=null}if(c.cDisabled_onmouseout!=null){c.onmouseout=c.cDisabled_onmouseout;c.cDisabled_onmouseout=null}}}var attachmentConstants={height:22};function downloadAttachment(a,c,b){}function Attachment(c,f,r,e,h,b,d,o,s,q,n,g,m,k,j,a,l){this.id=c;this.reference=f;this.subReference=r;this.category=e;this.type=h;this.filename=b;this.mimeType=d;this.createDate=o;this.size=s;this.fileUrl=q;this.description=n||"";this.needClone=g;this.extension=m;this.icon=k;this.isCanTransform=a=="enable"?true:false;this.onlineView=j==null?true:j;this.extReference="";this.extSubReference="";this.showArea="";this.embedInput="";this.hasSaved=false;this.v=l;this.canFavourite=true;this.isShowImg=false;this.fileUrl2=q}var pw=new Object();function loadInit(){var d="ActiveXObject.Kinggrid.iWebOffice";var f=window.sessionStorage;if(f){var a=f.getItem(d);if(a!=undefined&&(typeof JSON!="undefined")){pw=JSON.parse(a)}}if(!pw.inited){try{var c="";if(navigator.cpuClass.indexOf("x86")!=-1){c=new ActiveXObject("Kinggrid.iWebOffice")}else{c=new ActiveXObject("Kinggrid.iWebOffice_x64")}pw.installDoc=c.WebApplication(".doc");pw.installXls=c.WebApplication(".xls");pw.installWps=c.WebApplication(".wps");pw.installEt=c.WebApplication(".et")}catch(b){pw.installDoc=true;pw.installXls=true;pw.installWps=true;pw.installEt=true}}if(pw.installDoc){attFileType.put("application/msword","OfficeWord");attFileType.put("application/vnd.openxmlformats-officedocument.wordprocessingml.document","OfficeWord");attFileType.put(".doc","OfficeWord");attFileType.put(".docx","OfficeWord");attFileType.put("application/kswps","OfficeWord");attFileType.put(".wps","OfficeWord")}if(pw.installXls){attFileType.put("application/vnd.ms-excel","OfficeExcel");attFileType.put("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","OfficeExcel");attFileType.put(".xls","OfficeExcel");attFileType.put(".xlsx","OfficeExcel");attFileType.put("application/kset","OfficeExcel");attFileType.put(".et","OfficeExcel")}if(pw.installWps){attFileType.put("application/kswps","OfficeWord");attFileType.put(".wps","OfficeWord");attFileType.put("application/msword","OfficeWord");attFileType.put("application/vnd.openxmlformats-officedocument.wordprocessingml.document","OfficeWord");attFileType.put(".doc","OfficeWord");attFileType.put(".docx","OfficeWord")}if(pw.installEt){attFileType.put("application/kset","OfficeExcel");attFileType.put(".et","OfficeExcel");attFileType.put("application/vnd.ms-excel","OfficeExcel");attFileType.put("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","OfficeExcel");attFileType.put(".xls","OfficeExcel");attFileType.put(".xlsx","OfficeExcel")}pw.inited=true;if(typeof f!=="undefined"&&(typeof JSON!="undefined")){f.setItem(d,JSON.stringify(pw))}}function getMimeType(d,c){var b=c.toLocaleLowerCase();var a=b.lastIndexOf(".");if(a!=-1){b=b.substring(a)}if(attFileType){if(attFileType.get(d)){return attFileType.get(d)}if(attFileType.get(b)){return attFileType.get(b)}}return null}Attachment.prototype.show=function(c,b,a){document.write(this.toString(c,b,a))};var allowTransType=["doc","docx","xls","xlsx","ppt","pptx","rtf","eio"];Attachment.prototype.allowTrans=function(){if(this.type!=0&&this.type!=3){return false}var a=this.filename.toLowerCase();for(var b=0;b<allowTransType.length;b++){if(a.endsWith("."+allowTransType[b])){return true}}return false};var imgType=["jpg","gif","jpeg","png","bmp"];Attachment.prototype.isImg=function(){if(this.type!=0&&this.type!=3){return false}var b=this.filename.toLowerCase();var a=b.lastIndexOf(".");a=b.substring(a+1);for(var c=0;c<imgType.length;c++){if(a==imgType[c]){return true}}return false};function leaveAttachmentImageShow(a){var b=$(a);b.parent().closest(".attachment_block").find(".attachment_operate_btn_bg div").hide()}function initAttachmentImageShow(a){var d=$(a);d.parent().closest(".attachment_block").find(".attachment_operate_btn_bg div").eq(d.parent().index()).show();var b=$(".attachmentImageShow");if(b.length>0&&b.length==b.attr("imgLength")){return}function c(){function h(s){if(s.type!=0&&s.type!=3){return false}var r=s.filename.toLowerCase();var q=r.lastIndexOf(".");q=r.substring(q+1);for(var t=0;t<imgType.length;t++){if(q==imgType[t]){return true}}return false}var j=new Array();var e={};$(".comp").each(function(){var w=$(this);if(w.attrObj("_comp")){w=w.attrObj("_comp")}var q=w.attr("comp"),u,x;if(q){u=$.parseJSON("{"+q+"}");x=u.type}if("fileupload"===x){var y=u.attsdata?u.attsdata:w.attr("attsdata")?$.parseJSON(w.attr("attsdata")):null;if(y&&y instanceof Array){var r;for(var s=0;s<y.length;s++){r=y[s];if(r.type==2){continue}if(h(r)){e[r.fileUrl]={dataId:r.fileUrl,src:_ctxPath+"/fileUpload.do?method=showRTE&type=image&fileId="+r.fileUrl+"&createdate="+r.createdate.substring(0,10)+"&filename="+encodeURIComponent(r.filename)}}}}}});var o;var n=["officeFrameDiv","zwIframe","mainbodyFrame","officeDivInner"];for(var k=0;k<n.length;k++){var f=n[k];var l=document.getElementById(f);if(l){o=l;break}}b.each(function(){var q=e[this.id];if(q!==undefined){j.push(q)}}).attr("imgLength",j.length);if(j.length>0){var m="";b.each(function(q,r){var s=r.getAttribute("touchid");if(typeof s!="undefined"&&s!=null){m=s;return}});if(m==""){var g=new Date().getTime();m=j[0].dataId+g}b.attr("touchid",m);b.touch({id:m,datas:j,targetWindow:getCtpTop(),onShow:function(){if(o){o.style.visibility="hidden"}if(hideOfficeObj){hideOfficeObj()}},onHide:function(){if(o){o.style.visibility="visible"}if(showOfficeObj){showOfficeObj()}}})}}c()}var pdfType=["pdf"];Attachment.prototype.isPdf=function(){if(this.type!=0&&this.type!=3){return false}var a=this.filename.toLowerCase();for(var b=0;b<pdfType.length;b++){if(a.endsWith("."+pdfType[b])){return true}}return false};Attachment.prototype.canEditOnline=function(){if(this.type!=0){return false}var a=getMimeType(this.mimeType,this.filename);if(a){return true}return false};Attachment.prototype.toString=function(z,b,h,B){var w=_ctxPath;loadInit();var E="";var u=null;if(this.type!=2){u=$("#attachmentArea"+this.showArea).prev()}else{u=$("#attachment2Area"+this.showArea).prev()}var J="left";var x=";height: "+attachmentConstants.height+"px; ";var G="noWrap";var n="";if(u&&u.attr("comp")!=undefined){var k=$.parseJSON("{"+u.attr("comp")+"}");x=((k.displayMode==undefined)?x:";");G=((k.displayMode==undefined)?G:"");if(!v3x.isMSIE8){n=((k.displayMode==undefined)?n:"word-wrap:break-word; word-break:break-all;")}else{if(k.type!="fileupload"){n=((k.displayMode==undefined)?n:"word-wrap:break-word; word-break:break-all;")}else{if(k.canDeleteOriginalAtts==true){n=((k.displayMode==undefined)?n:"word-wrap:break-word; word-break:break-all;")}}}}this.filename=this.filename.replace(/&nbsp;/g," ");var o="";if(b){o="attachmentShowDelete"}if($("#attachmentArea"+this.showArea).width()==0){var j="auto"}else{var j=$("#attachmentArea"+this.showArea).width()+"px"}E+="<div id='attachmentDiv_"+this.fileUrl2+"' class='attachment_block "+o+"' style='font-size:12px; max-width:"+j+"; float:"+J+x+" line-height:22px;*line-height:22px;background:#e6eef7;padding:2px 10px;border-radius:3px; overflow:hidden; "+n+"' "+G+' onmouseenter="onAttachmentMouseEnter(this)" onmouseleave="onAttachmentMouseLeave(this)">';var c="";if(this.type!=1&&!this.isShowImg){c+='&nbsp;<span style="word-wrap:break-word; word-break:break-all;" class="ico16 '+this.icon.substring(0,this.icon.indexOf("."))+'_16 margin_r_5"></span>'}var y="";var r="";if(this.isShowImg){E+="<img style=\"CURSOR: pointer\" onclick=\"openCtpWindow({'url':$(this).attr('src') + '&showType=small'})\" src=\""+w+"/fileUpload.do?method=showRTE&fileId="+this.fileUrl2+"&createDate="+this.createDate.substring(0,10)+'&type=image">'}else{if(z&&(this.type==0||this.type==3||this.type==5)){if(this.type==3){y+="<a onclick='downloadAttachment(\""+this.fileUrl2+'","'+this.createDate.substring(0,10)+'","'+escapeStringToHTML(this.filename)+'")\' title="'+escapeStringToHTML(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#757575;' class='like-a'>"}else{y+='<a href="'+w+"/file"+(this.v?"Download":"Upload")+".do?method=download&fileId="+this.fileUrl2+(this.v?("&v="+this.v):"")+"&createDate="+this.createDate.substring(0,10)+"&filename="+encodeURIComponent(this.filename)+CsrfGuard.getUrlSurffix()+'" title="'+escapeStringToHTML(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#757575;'>"}}}if(h&&this.category!=2){E+="<a onclick=\"editOfficeOnline('"+this.id+'\')" title="'+escapeStringToHTML(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#757575;' class='like-a'>";z=true}if((this.type==2||this.type==4)&&this.description&&(h!=false)){var D="";var g="";if(this.type==4){try{if(parent.parent.openerSummaryId&&parent.parent.openerSummaryId!=this.reference){g="&openerSummaryId="+parent.parent.openerSummaryId}else{if(noFlowRecordId){g="&noFlowRecordId="+noFlowRecordId}}}catch(I){}}if(this.mimeType=="collaboration"){D="openDetailURL('"+w+"/collaboration/collaboration.do?method=summary&openFrom=glwd&type=&affairId="+this.description+"&baseObjectId="+this.reference+"&baseApp="+this.category+CsrfGuard.getUrlSurffix()+"')"}if(this.mimeType=="edoc"){D="openDetailURL('"+w+"/edocController.do?method=detailIFrame&from=Done&openFrom=glwd&affairId="+this.description+"&isQuote=true&baseObjectId="+this.reference+"&baseApp="+this.category+CsrfGuard.getUrlSurffix()+"')"}else{if(this.mimeType=="km"){D="openDetailURL('"+w+"/doc.do?method=docOpenIframeOnlyId&openFrom=glwd&docResId="+this.description+"&baseObjectId="+this.reference+"&baseApp="+this.category+g+CsrfGuard.getUrlSurffix()+"')"}else{if(this.mimeType=="meeting"){D="openDetailURL('"+w+"/mtMeeting.do?method=myDetailFrame&id="+this.description+"&isQuote=true&baseObjectId="+this.reference+"&baseApp="+this.category+CsrfGuard.getUrlSurffix()+"&state=10')"}else{if(this.mimeType=="info"){D="openDetailURL('"+w+"/info/infoDetail.do?method=summary&baseObjectId="+this.reference+"&refAffairId="+this.description+CsrfGuard.getUrlSurffix()+"')"}}}}y+='<a class="hand" onclick="'+D+'" title="'+escapeStringToHTML(this.filename)+"\" style='cursor: hand;font-size:12px;'>";z=true}if(this.type!=1&&this.category!=2){var H=15;if(!this.isShowImg){if(this.filename.length>H){r+=this.filename.substring(0,H).escapeHTML()+".."}else{r+=this.filename.escapeHTML()}}}else{if(!this.isShowImg){r+=this.filename}}if(this.size&&this.type==0){if(!this.isShowImg){var l="";if(this.size>=1048576){l=(parseInt(this.size/1048576)+1)+"MB"}else{l=(parseInt(this.size/1024)+1)+"KB"}r+="("+l+")"}}if(!this.isShowImg&&this.embedInput!=null&&this.embedInput.indexOf("field")>=0){r="<span id='"+this.embedInput+"_txt' style='line-height:normal'>"+r+"</span>"}var F="";var f="";var s="";var m=' onmouseenter="onAttachmentButtonMouseenter(this)"  onmouseleave="onAttachmentButtonMouseleave(this)" ';if(z&&!this.isShowImg){f='<td align="center"'+m+">"+y+'<span class="ico24 download_24"> </span></a></td>'}if(typeof($.ctx)!=="undefined"){var q=$&&$.ctx&&$.ctx.plugins&&$.ctx.plugins.contains("baseOfficeTrans")||$&&$.ctx&&$.ctx.plugins&&$.ctx.plugins.contains("yongzhongOfficeTrans")}if(typeof(vPortal)!=="undefined"){var q=vPortal&&vPortal.plugins.contains("baseOfficeTrans")||vPortal&&vPortal.plugins&&vPortal.plugins.contains("yongzhongOfficeTrans")}var q=($&&$.ctx&&$.ctx.plugins&&$.ctx.plugins.contains("baseOfficeTrans")||$&&$.ctx&&$.ctx.plugins&&$.ctx.plugins.contains("yongzhongOfficeTrans"));if(q&&z&&this.isCanTransform&&this.allowTrans()&&this.hasSaved){F+="<td align='center'"+m+'><a href="'+w+"/officeTrans.do?method=view&fileId="+this.fileUrl2+"&createDate="+this.createDate.substring(0,10)+"&filename="+encodeURIComponent(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#757575;' title='"+$.i18n("officeTrans.view.label")+"'><span class='ico24 preview_24'></span></a></td>"}else{if(this.hasSaved&&this.isImg()){F+="<td align='center'><a id ="+this.fileUrl2+" onmouseleave='leaveAttachmentImageShow(this)' onmouseenter='initAttachmentImageShow(this);' class ='attachmentImageShow' style='font-size:12px;color:#757575;' title='"+$.i18n("officeTrans.view.label")+"'><span class='ico24 preview_24'></span></a></td>"}else{if(this.hasSaved&&this.isPdf()){F+="<td align='center'><a onclick=preViewDialog(\""+w+"/fileDownload.do?method=doDownload4Office&type=Pdf&isOpenFile=true&fileId="+this.fileUrl2+"&createDate="+this.createDate.substring(0,10)+"&filename="+encodeURIComponent(this.filename)+"&v="+this.v+"\")   style='font-size:12px;color:#757575;' title='"+$.i18n("officeTrans.view.label")+"'><span class='ico24 preview_24'></span></a></td>"}}}if(typeof($.ctx)!=="undefined"){var a=$.ctx.plugins.contains("doc")}if(typeof(vPortal)!=="undefined"){var a=vPortal&&vPortal.plugins.contains("doc")}if(a&&seeyonProductId>0&&this.hasSaved&&this.canFavourite&&this.type!=2&&!this.isShowImg){var A='style="display: none;"',d="";if(this.hasFavorite){d=A;A=""}s+='<td align="center"'+m+'><span id="favoriteSpan'+this.fileUrl2+'" class="ico24 unstore_24" '+d+' title="'+$.i18n("doc.jsp.knowledge.collection")+'" onclick="favorite(\''+this.category+"', '"+this.fileUrl2+"',false,4)\" > </span>";s+='<span id="cancelFavorite'+this.fileUrl2+'" class="ico24 stored_24" '+A+' title="'+$.i18n("doc.jsp.cancel.collection.js")+'" onclick="cancelFavorite(\''+this.category+"', '"+this.fileUrl2+"',false,4)\" > </span></td>"}if(!b&&!this.isShowImg&&!h&&this.type!=2){E+='<div class="attachment_operate">';E+='<table class="attachment_operate_btn"  title="'+escapeStringToHTML(this.filename)+'"  border="0" cellpadding="0" cellspacing="0">';E+="<tr>";E+=s;E+=f;E+=F;E+="</tr>";E+="</table>";E+='<table class="attachment_operate_btn_bg" border="0" cellpadding="0" cellspacing="0">';E+="<tr>";if(s.length>0){E+='<td align="center"><div>&nbsp;</div></td>'}if(f.length>0){E+='<td align="center"><div>&nbsp;</div></td>'}if(F.length>0){E+='<td align="center"><div>&nbsp;</div></td>'}E+="</tr>";E+="</table>";E+='<div class="attachment_operate_bg">&nbsp;</div>';E+="</div>"}if(this.type!=1&&!this.isShowImg){E+=c}if(b){E+=y}else{if(this.type==2){E+=y}}E+=r;if(b){E+='</a><span class="ico16 affix_del_16" title="'+$.i18n("common.button.delete.label")+'" onclick="deleteAttachment(\''+this.fileUrl2+"')\" ></span>"}else{E+="</a>"}if((b&&this.canEditOnline()&&this.id!=undefined)&&this.category==2){E+='<iframe id=\'officeEditorIframe\' name=\'officeEditorIframe\' frameborder="0" height="0" width="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>';E+='<span id="editOnline_'+this.id+'" > <a class="hand" title = "'+$.i18n("common.toolbar.edit.label")+'" onclick="editOfficeOnline4Form(\''+this.id+"','"+this.fileUrl+"','"+this.filename+"','"+this.mimeType+"','"+this.category+"','"+this.createDate+'\')"><span class="ico16 editor_16"></span></a></span>'}E+="&nbsp;</div>";return E};var isAttachmentFavoriteStateInited=false;function initAttachmentFavoriteState(){if(isAttachmentFavoriteStateInited){return}var a=[];$(".attachment_block").each(function(){var b=this.id.split("_");if(b.length==2){a.push(b[1])}});callBackendMethod("knowledgeFavoriteManager","hasFavoriteByIds",a,{success:function(b){if(b!=null){for(var c=0;c<a.length;c++){if(b[c]){$("#cancelFavorite"+a[c]).show();$("#favoriteSpan"+a[c]).hide()}}}},error:function(b){if(typeof(console)!=="undefined"&&typeof(console.log)!=="undefined"){console.log("Ajax Failed: knowledgeFavoriteManager--->hasFavoriteByIds")}}});isAttachmentFavoriteStateInited=true}function onAttachmentMouseEnter(b){initAttachmentFavoriteState();var d=$(b);if(navigator.userAgent.indexOf("Firefox")>-1&&d.attr("isSetWidth")!="yes"){d.width(parseFloat(d.width())+1).attr("isSetWidth","yes");var a=d.css("white-space");if(a!=null){d.css("white-space",a)}}var c=d.find(".attachment_operate_btn td").size();d.find("td").width(d.width()/c);d.find(".attachment_operate").show();d.find(".attachment_operate_bg").css("filter","alpha(opacity = 30)")}function onAttachmentMouseLeave(a){$(a).find(".attachment_operate").hide()}function onAttachmentButtonMouseenter(a){var b=$(a);b.parent().closest(".attachment_block").find(".attachment_operate_btn_bg div").eq(b.index()).show()}function onAttachmentButtonMouseleave(a){var b=$(a);b.parent().closest(".attachment_block").find(".attachment_operate_btn_bg div").hide()}var _id;var _fileId="";function editOfficeOnline4Form(b,o,a,c,d,n){getCtpTop().needShowContent=true;var l=getMimeType(c,a);a=encodeURIComponent(a);var h=getOfficeMustParams(o);var g=h.split("|");if(_fileId==""){var k=document.getElementsByTagName("head")[0];var j=document.createElement("script");j.src="/seeyon/common/office/js/i18n/"+g[2]+".js";j.type="text/javascript";k.appendChild(j);var m=document.getElementsByTagName("head")[0];var e=document.createElement("script");e.src="/seeyon/common/office/js/baseOffice.js";e.type="text/javascript";m.appendChild(e)}var q=getExactFileType4Ocx({filename:a,_fileType:g[0]});_id=b;_fileId=g[4];var f={fileId:g[4],originalFileId:o,createDate:n,officeOcxUploadMax:g[1],handWriteCurrentUserId:g[3],webRoot:getWebRoot(),officeDom:document.getElementById("editOnline_"+b),fileType:q,editType:"1,0",isFullSize:true,needReadFile:true,locale:v3x.currentLanguage?v3x.currentLanguage:g[2],callback:callback};if(typeof(OfficeAPI)=="undefined"){setTimeout(function(){OfficeAPI.dynamicShowOffice(f)},1000)}else{OfficeAPI.dynamicShowOffice(f)}}function callback(a){var c=OfficeAPI.saveOffice("true");if(c){var b="";if(OfficeAPI.getFileSize()){b=OfficeAPI.getFileSize()}setTimeout(function(){updateAttachmentInfo(_id,_fileId,getNowFormatDate(),b)},1000)}return c}function getNowFormatDate(){var c=new Date();var b="-";var a=":";var f=c.getMonth()+1;var e=c.getDate();if(f>=1&&f<=9){f="0"+f}if(e>=0&&e<=9){e="0"+e}var d=c.getFullYear()+b+f+b+e+" "+c.getHours()+a+c.getMinutes()+a+c.getSeconds();return d}function getWebRoot(){if(typeof(window.location.origin)=="undefined"){basePath=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/seeyon"}else{basePath=window.location.origin+"/seeyon"}return basePath}function getOfficeMustParams(b){var a=new XMLHttpRequestCaller(this,"ajaxHandWriteManager","ajaxGetOfficeMustParams",false);a.addParameter(1,"String",b);var c=a.serviceRequest();return c}function getOfficeExtension(b,a){if(b=="doc"||b=="xls"){if(a=="docx"||a=="doc"||a=="xls"||a=="xlsx"){b=a}}return b}function getExactFileType4Ocx(c,a){var b=getFileTypeByFilename(c);if(b!="docx"&&b!="xlsx"&&b!="pptx"){b=getOfficeExtension(b,a)}return b}function getFileTypeByFilename(e){var a="";var b=e.filename;if(b!=""){var f=b.lastIndexOf(".");var d=b.length;var c=b.substring(f+1,d);if(c!=null){if("docx"==c||"DOCX"==c){a="docx"}else{if("xlsx"==c||"XLSX"==c){a="xlsx"}else{if("pptx"==c||"PPTX"==c){a="pptx"}else{a=c}}}}}return a}function deleteAtt4Form(b){var a=b.getAttribute?b.getAttribute("fileUrl"):b.fileUrl;var c=b.getAttribute?b.getAttribute("fileName"):b.fileName;deleteAttachmentForForm(a,c)}function openDetailURL(a){var b=v3x.openWindow({url:a,dialogType:"open",workSpace:"yes"})}Attachment.prototype.toInput=function(){var a="";a+="<input type='hidden' name='attachment_id' value='"+this.id+"'>";a+="<input type='hidden' name='attachment_reference' value='"+this.reference+"'>";a+="<input type='hidden' name='attachment_subReference' value='"+this.subReference+"'>";a+="<input type='hidden' name='attachment_category' value='"+this.category+"'>";a+="<input type='hidden' name='attachment_type' value='"+this.type+"'>";a+="<input type='hidden' name='attachment_filename' value='"+escapeStringToHTML(this.filename)+"'>";a+="<input type='hidden' name='attachment_mimeType' value='"+this.mimeType+"'>";a+="<input type='hidden' name='attachment_createDate' value='"+this.createDate+"'>";a+="<input type='hidden' name='attachment_size' value='"+this.size+"'>";a+="<input type='hidden' name='attachment_fileUrl' value='"+this.fileUrl+"'>";a+="<input type='hidden' name='attachment_description' value='"+this.description+"'>";a+="<input type='hidden' name='attachment_needClone' value='"+this.needClone+"'>";a+="<input type='hidden' name='attachment_extReference' value='"+this.extReference+"'>";a+="<input type='hidden' name='attachment_extSubReference' value='"+this.extSubReference+"'>";return a};Attachment.prototype.toContentInput=function(){var a="";a+="<input type='hidden' name='content_attachment_id' value='"+this.id+"'>";a+="<input type='hidden' name='content_attachment_reference' value='"+this.reference+"'>";a+="<input type='hidden' name='content_attachment_subReference' value='"+this.subReference+"'>";a+="<input type='hidden' name='content_attachment_category' value='"+this.category+"'>";a+="<input type='hidden' name='content_attachment_type' value='"+this.type+"'>";a+="<input type='hidden' name='content_attachment_filename' value='"+escapeStringToHTML(this.filename)+"'>";a+="<input type='hidden' name='content_attachment_mimeType' value='"+this.mimeType+"'>";a+="<input type='hidden' name='content_attachment_createDate' value='"+this.createDate+"'>";a+="<input type='hidden' name='content_attachment_size' value='"+this.size+"'>";a+="<input type='hidden' name='content_attachment_fileUrl' value='"+this.fileUrl+"'>";a+="<input type='hidden' name='content_attachment_description' value='"+this.description+"'>";a+="<input type='hidden' name='content_attachment_needClone' value='"+this.needClone+"'>";return a};Attachment.prototype.toJson=function(){return'{id:"'+this.id+'", reference:"'+this.reference+'", subReference:"'+this.subReference+'", category:"'+this.category+'", type:"'+this.type+'", filename:"'+escapeStringToHTML(this.filename)+'", mimeType:"'+this.mimeType+'", createDate:"'+this.createDate+'", size:"'+this.size+'", fileUrl:"'+this.fileUrl+'", description:"'+this.description+'", needClone:"'+this.needClone+'",extension:"'+this.extension+'",icon:"'+this.icon+'",extReference:"'+this.extReference+'",extSubReference:"'+this.extSubReference+'"}'};function showAttachment(m,l,b,a,d){try{if(!theToShowAttachments){return}var c=0;var k="";for(var f=0;f<theToShowAttachments.size();f++){var j=theToShowAttachments.get(f);if(j.subReference==m&&j.type==l){k+=j.toString(true,false);c++}}if(!d){document.write(k);document.close()}else{var o=document.getElementById(d);o.innerHTML=k}if(c>0){if(b){var n=document.getElementById(b);if(n){n.style.display=""}}if(a){var g=document.getElementById(a);if(g){g.innerHTML=""+c}}}else{if(b){var n=document.getElementById(b);if(n){n.style.display="none"}}}if(a){var g=document.getElementById(a);if(g){g.innerHTML=""+c}}}catch(h){}}function exportAttachment(c){if(c.getAttribute("expand")){return}var b=c.className;c.className="div-float";var a=c.scrollHeight;if(a>=(attachmentConstants.height*2)){c.className="attachment-all-80"}else{c.className=b}c.setAttribute("expand","yes")}var fileUploadAttachments=new Properties();var fileUploadAttachment=null;var fileUploadQuantity=5;var attachObject="";var atttachTr="";var attachDelete;var attachCount=true;var theHasDeleteAtt=new Properties();var attFileType=new Properties();function isUploadAttachment(){return !fileUploadAttachments.isEmpty()}function resetAttachment(d,b,c,a){attachObject=d;atttachTr=b;attachDelete=c;attachCount=a;fileUploadAttachment=new Properties()}function clearUploadAttachments(){attachObject="";atttachTr="";attachDelete=null;attachCount=true;fileUploadAttachment.clear();fileUploadAttachment=null}function saveAttachment(b,e){var f=null;if(fileUploadAttachment!=null){f=fileUploadAttachment.values()}else{f=fileUploadAttachments.values()}var d=b||document.getElementById("attachmentInputs")||document.getElementById("attachmentEditInputs");var a="";for(var c=0;c<f.size();c++){a+=f.get(c).toInput()}if(d){d.innerHTML=a;if(!e||e!="false"){if(attActionLog&&!fileUploadAttachments.isEmpty()){d.innerHTML+="<input type='hidden' name='isEditAttachment' value='1'/>"}}}else{alert("Warn: Save attachments unsuccessful");return false}return true}function saveAttachmentPart(e){var g=null;if(fileUploadAttachment!=null){g=fileUploadAttachment.values()}else{g=fileUploadAttachments.values()}if(e){var d=$("#"+e);var c=$.parseJSON("{"+d.attr("comp")+"}");var f=c.attachmentTrId;var a="";for(var b=0;b<g.size();b++){if(f==g.get(b).showArea){a+=g.get(b).toInput()}}d.append($(a))}else{alert("ERROR: 传入参数错误！");return false}return true}function saveContentAttachment(b){var e=null;if(fileUploadAttachment!=null){e=fileUploadAttachment.values()}else{e=fileUploadAttachments.values()}var a="";for(var c=0;c<e.size();c++){a+=e.get(c).toContentInput()}var d=b||parent.detailRightFrame.document.getElementById("contentAttachmentInputs");if(d){d.innerHTML=a;d.innerHTML+="<input type='hidden' name='isContentAttchmentChanged' value='1'>"}else{alert("Warn: Save attachments unsuccessful");return false}return true}function getAttachmentsToMap(){var c=fileUploadAttachments.values();if(!c||c.isEmpty()){return true}var a="";for(var b=0;b<c.size();b++){a+=c.get(b).toMap()}if(a!=null){return a}}Attachment.prototype.toMap=function(){var a="#attachment_id="+this.id+";";a+="attachment_reference"+this.reference+";";a+="attachment_subReference="+this.subReference+";";a+="attachment_category="+this.category+";";a+="attachment_type="+this.type+";";a+="attachment_filename="+escapeStringToHTML(this.filename)+";";a+="attachment_mimeType="+this.mimeType+";";a+="attachment_createDate="+this.createDate+";";a+="attachment_size="+this.size+";";a+="attachment_fileUrl="+this.fileUrl+";";a+="attachment_description="+this.description+";";a+="attachment_needClone="+this.needClone+";";return a};function cloneAllAttachments(){var b=fileUploadAttachments.values();for(var a=0;a<b.size();a++){b.get(a).needClone=true}}function deleteAttachment(fileUrl,showAlert){var file=fileUploadAttachments.get(fileUrl);if(file==null){return}if(showAlert!=false){if(file.type==2){if(!confirm($.i18n("assdoc.isdeletesomeone.mesg").format(file.filename))){return 1}}else{if(!confirm($.i18n("common.isdeletesomeone.label").format(file.filename))){return 1}}}fileUploadAttachments.remove(fileUrl);document.getElementById("attachmentDiv_"+fileUrl).parentNode.removeChild(document.getElementById("attachmentDiv_"+fileUrl));showAttachmentNumber(file.type,file);var num=getFileAttachmentNumber(file.type,file.showArea);if(num<1){if(!(typeof(_updateAttachmentState)!="undefined"&&_updateAttachmentState)){showAtachmentTR(file.type,"none",file.showArea)}}var attachmentInputsObj=document.getElementById("attachmentInputs");var canUpdateAttachmentFromSended=document.getElementById("canUpdateAttachmentFromSended");if(canUpdateAttachmentFromSended&&canUpdateAttachmentFromSended.value=="submit"){updateAttachment("del",attachmentInputsObj)}if(typeof(removeChanged)!="undefined"){removeChanged=true}try{quoteDocumentFrame.window.deselectItem(fileUrl)}catch(e){}try{var attdiv="attachment2Area";if(file.showArea!=null){attdiv+=file.showArea}eval($("#"+attdiv).attr("callMethod"))()}catch(e){}if(typeof(addScrollForDocument)=="function"){addScrollForDocument()}try{var attdiv="attachmentArea";if(file.showArea!=null){attdiv+=file.showArea}eval($("#"+attdiv).attr("delCallMethod"))(fileUrl)}catch(e){}}function deleteAttachmentForImage(a,c){deleteAttachment(a,c);var b=document.getElementById("imageId");if(b){b.value=""}}function dymcCreateFileUpload(m,u,w,k,c,g,r,t,o,q,f,b,d,n){var a=_ctxPath+"/fileUpload.do?type="+((t==null)?"":("&firstSave="+t))+"&applicationCategory="+u+"&extensions="+((w==null)?"":w)+((k==null)?"":("&quantity="+k))+((c==null)?"":("&isEncrypt="+c))+((r==null)?"":("&attachmentTrId="+r))+((g==null)?"":("&callMethod="+g))+((d==null)?"":("&maxSize="+d))+((b==null)?"":("&takeOver="+b));var j=false;try{var l=new ActiveXObject("UFIDA_Upload.A8Upload.2");l.SetLimitFileSize(1024);j=true}catch(s){j=false}a+=((!j)?"":("&isA8geniusAdded="+j));var h="<div id='attachmentArea"+((r==null)?"":r)+"' style=\"overflow: auto;\" requrl='"+a+"'></div>";if($("#downloadFileFrame").length==0){h=h+'<div style="display:none;"><iframe name="downloadFileFrame" id="downloadFileFrame" frameborder="0" width="0" height="0"></iframe></div>'}$("#"+m).replaceWith(h);parseAttData(q,r,true,o,f,n)}function parseAttData(h,g,f,b,d,e){if(h!=null&&h!=""){h=$.parseJSON(h)}if(h&&h instanceof Array){var a;for(var c=0;c<h.length;c++){a=h[c];if(f){if(a.type==2){continue}}else{if(a.type!=2){continue}}if(e==null){e=true}if(g){addAttachmentPoi(a.type,a.filename,a.mimeType,a.createdate?a.createdate.toString():null,a.size,a.fileUrl,b,d,a.description,a.extension,a.icon,g,a.reference,a.category,false,null,"",true,a.officeTransformEnable,a.v,e)}else{addAttachment(a.type,a.filename,a.mimeType,a.createdate?a.createdate.toString():null,a.size,a.fileUrl,b,d,a.description,a.extension,a.icon,a.reference,a.category,false,null,true,a.officeTransformEnable,a.v,e)}}}}function dymcCreateAssdoc(d,g,a,f,e,c){var b='<div id="attachment2Area'+(g?g:"")+'" poi="'+(g?g:"")+'" requestUrl="'+_ctxPath+"/ctp/common/associateddoc/assdocFrame.do?isBind="+(a?a:"")+"&referenceId="+(e?e:"")+"&applicationCategory="+(c?c:"")+"&poi="+(g?g:"")+'" style="overflow: auto;"></div>';$("#"+d).replaceWith(b);parseAttData(f,g,false)}function insertAttachment(c,b){var a=$("#attachmentArea").attr("requrl");if(c!=null&&c!=""){a+="&targetAction="+c}if(b){a+="&importExplain="+b}getCtpTop().addattachDialog=null;getCtpTop().addattachDialog=getCtpTop().$.dialog({title:$.i18n("fileupload.page.title"),transParams:{parentWin:window},url:a+CsrfGuard.getUrlSurffix(a),width:400,height:250})}function preViewDialog(a){getCtpTop().addattachDialog=null;getCtpTop().addattachDialog=getCtpTop().$.dialog({title:$.i18n("officeTrans.view.label"),transParams:{parentWin:window},url:a,width:1280,height:800,closeParam:{show:true,handler:function(){try{var d=getCtpTop();if(d.isOffice&&d.officeObj&&d.officeObj.length>0){for(var c=0;c<d.officeObj.length;c++){var b=d.officeObj[c];if(b&&b.style){try{if(v3x.isChrome){b.HidePlugin(1);b.FuncExtModule.ShowToolBar="1"}else{b.Hide(1)}}catch(f){if(!v3x.isChrome){b.style.display=""}}}}}}catch(f){}}}})}function insertAttachmentPoi(c){var b="attachmentArea"+c;var a=$("#"+b).attr("requrl");getCtpTop().addattachDialog=null;getCtpTop().addattachDialog=getCtpTop().$.dialog({title:$.i18n("fileupload.page.title"),transParams:{parentWin:window},url:a+CsrfGuard.getUrlSurffix(a),width:400,height:250})}function quoteDocument(d){if(v3x.getBrowserFlag("OpenDivWindow")==true){var c="attachment2Area";if(d!=undefined){c+=d}var a=$("#"+c).attr("requestUrl");try{hideOfficeObj()}catch(b){}getCtpTop().addassDialog=null;getCtpTop().addassDialog=getCtpTop().$.dialog({title:$.i18n("common.mydocument.label"),transParams:{parentWin:window,divid:d},url:a+CsrfGuard.getUrlSurffix(a),width:1000,height:800})}}function quoteDocumentCallback(atts,divid){var attdiv="attachment2Area";if(divid!=undefined){attdiv+=divid}if(atts){deleteAllAttachment(2,$("#"+attdiv).attr("poi"));for(var i=0;i<atts.length;i++){var att=atts[i];if($("#"+attdiv).attr("poi")==att.showArea){addAttachmentPoi(att.type,att.filename,att.mimeType,att.createDate,att.size,att.fileUrl,true,false,att.description,null,att.mimeType+".gif",$("#"+attdiv).attr("poi"),att.reference,att.category,null,null,$("#"+attdiv).attr("embedInput"))}}if($("#"+attdiv).attr("callMethod")){try{eval($("#"+attdiv).attr("callMethod"))()}catch(e){}}}if(typeof(setCssOverFlow)=="function"){setCssOverFlow()}}function favorite(a,g,e,d,b,c,f){getA8Top().dialog=$.dialog({id:"docFavoriteDialog",url:_ctxPath+"/doc/knowledgeController.do?method=toFavorite&sourceId="+g+"&appName="+a+"&hasAtts="+e+"&favoriteType="+d+"&t="+getUUID(),isClear:false,targetWindow:getA8Top(),width:300,height:95,closeParam:{show:true,handler:function(){try{hideMask()}catch(h){}getA8Top().dialog.getReturnValue()}},title:$.i18n("doc.collect")});favoriteTip(true,g,b,null,c,f)}function cancelFavorite(a,h,f,e,c,d,g){if(typeof(c)==="undefined"){c=""}var b=$("#cancelFavorite"+String(h)+String(c));b.attr("disabled","disabled");b.jsonSubmit({action:_ctxPath+"/doc/knowledgeController.do?method=favoriteCancel",paramObj:{docId:-1,sourceId:h},callback:function(j){favoriteTip(false,h,c,null,d,g);if(typeof fnReloadSquarePublicity!="undefined"){fnReloadSquarePublicity()}if(typeof fnReloadPersonalKnowledgeCenter!="undefined"){fnReloadPersonalKnowledgeCenter()}if(typeof fnReloadKnowledgeBrowse!="undefined"){fnReloadKnowledgeBrowse()}}})}function fnReloadKnowledgeBrowse(){if(getA8Top().docOpenDialogOnlyId_main_iframe&&getA8Top().docOpenDialogOnlyId_main_iframe.fnReloadKnowledgeBrowse){getA8Top().docOpenDialogOnlyId_main_iframe.fnReloadKnowledgeBrowse()}var a=$(".mxt-window-body-iframe",getA8Top().document.body);if(a[0]&&a[0].contentWindow&&a[0].contentWindow.fnReloadKnowledgeBrowse){a[0].contentWindow.fnReloadKnowledgeBrowse()}}function fnReloadPersonalKnowledgeCenter(){if(typeof(getA8Top().mainIframe)!="undefined"&&getA8Top().mainIframe.window.fnReload){getA8Top().mainIframe.window.fnReload()}}function fnReloadSquarePublicity(){if(typeof(getA8Top().mainIframe)!="undefined"&&getA8Top().mainIframe.window.fnPageDataLoad){getA8Top().mainIframe.window.fnPageDataLoad(true)}}function favoriteTip(e,f,a,d,b,c){if(typeof(f)==="undefined"){f=""}if(typeof(a)!=="undefined"){f=String(f)+String(a)}if(!d){d=$.i18n("doc.cancel.collect.success.js")}if(typeof(b)==="undefined"){b=-30}if(typeof(c)==="undefined"){c=0}if(e){$("#favoriteSpan"+f).hide();$("#cancelFavorite"+f).show()}else{new MxtTip({targetId:"cancelFavorite"+f,content:d,offsetTop:b,offsetLeft:c,targetWindow:getA8Top(),beforeShowCallBack:function(){$("#favoriteSpan"+f).show();$("#cancelFavorite"+f).hide();$("#cancelFavorite"+f).removeAttr("disabled")}})}return}function addAttachment(d,t,f,e,o,n,w,c,u,h,x,g,s,a,r,k,b,m,l,q){w=w==null?true:w;c=c==null?false:c;u=u==null?"":u;if(attachDelete!=null){w=attachDelete}if(!g){g=""}if(!s){s=""}if(n==null){n=t}var j=new Attachment("",g,"",s,d,t,f,e,o,n,u,c,h,x,a,b,m);j.hasSaved=k;j.hasFavorite=q;if(l!=null){j.canFavourite=l}if(fileUploadAttachment!=null){if(fileUploadAttachment.containsKey(n)){return}fileUploadAttachment.put(n,j)}else{if(fileUploadAttachments.containsKey(n)){return}fileUploadAttachments.put(n,j)}showAtachmentObject(j,w,r);showAtachmentTR(d,"","");if(attachCount){showAttachmentNumber(d,j)}if(typeof(addScrollForDocument)=="function"){addScrollForDocument()}}function addAttachmentPoi(d,y,f,e,r,o,A,c,z,j,B,q,h,x,a,w,u,l,b,n,m,g,t,s){A=A==null?true:A;c=c==null?false:c;z=z==null?"":z;if(attachDelete!=null){A=attachDelete}if(o==null){if(z!=null&&z!=""){o=z}else{o=y}}var k=new Attachment(t,h,q,x,d,y,f,e,r,o,z,c,j,B,false,b,n);k.showArea=q;k.embedInput=u;k.hasSaved=l;k.hasFavorite=s;if(m!=null){k.canFavourite=m}if(g!=null){k.isShowImg=g}if(fileUploadAttachment!=null){if(fileUploadAttachment.containsKey(o)){return}fileUploadAttachment.put(o,k)}else{if(fileUploadAttachments.containsKey(o)){o+=q}fileUploadAttachments.put(o,k)}showAtachmentObject(k,A,null);var D=k;if($("#"+D.embedInput).size()>0){$("#attachmentArea"+D.showArea).prev().children("#"+D.embedInput).attr("value",q);$("#attachment2Area"+D.showArea).prev().children("#"+D.embedInput).attr("value",q)}showAtachmentTR(d,"",q);if(attachCount){showAttachmentNumber(d,k)}if(typeof(addScrollForDocument)=="function"){addScrollForDocument()}}function AttActionLog(a,d,b,c){this.reference=a;this.subReference=d;this.logs=b;this.editAtt=c}AttActionLog.prototype.toInput=function(){var a="";if(this.logs&&!this.logs.isEmpty()){a+="<input type='hidden' name='reference' value='"+this.reference+"'>";a+="<input type='hidden' name='subReference' value='"+this.subReference+"'>";a+="<input type='hidden' name='isEditAttachment' value='1'/>";a+="<input type='hidden' name='editAttachmentSize' value='"+this.editAtt.size()+"'/>";for(var b=0;b<this.logs.size();b++){a+=this.logs.get(b).toInput()}for(var b=0;b<this.editAtt.size();b++){a+=this.editAtt.get(b).toInput()}}return a};function ActionLog(c,a,b){this.action=c;this.createDate=a;this.des=b}ActionLog.prototype.toInput=function(){var a="";a+="<input type='hidden' name='logAction' value='"+this.action+"'>";a+="<input type='hidden' name='logCreateDate' value='"+this.createDate+"'>";a+="<input type='hidden' name='logDesc' value='"+this.des+"'>";return a};function copyActionLog(b){var a=new ActionLog(b.action,b.createDate,b.des);return a}function copyAttachment(b){var a=new Attachment(b.id,b.reference,b.subReference,b.category,b.type,b.filename,b.mimeType,b.createDate,b.size,b.fileUrl,b.description,b.needClone,b.extension,b.icon);a.onlineView=b.onlineView;a.extReference=b.extReference;a.v=b.v;a.extSubReference=b.extSubReference;return a}var attActionLog=null;function editAttachments(f,c,k,a){if(attActionLog==null){attActionLog=new AttActionLog(c,k,null,f)}c=c||"";k=k||"";var l=v3x.openWindow({url:getA8Top().v3x.baseURL+"/genericController.do?ViewPage=apps/collaboration/fileUpload/attEdit&category="+a+"&reference="+c+"&subReference="+k+"&_isModalDialog=true",width:550,height:430,resizable:"yes"});if(l){var b=new ArrayList();var e=l[0].instance;for(var d=0;d<e.length;d++){var h=copyAttachment(e[d]);h.onlineView=false;b.add(h)}var j=new ArrayList();e=l[1].instance;if(e.length==0){return false}for(var d=0;d<e.length;d++){var h=copyActionLog(e[d]);j.add(h)}var g=saveEditAttachments(j,b);if(!g){return null}return attActionLog.editAtt}return null}function saveEditAttachments(b,a){if(!attActionLog||b.size()==0){return false}if(attActionLog.logs){attActionLog.logs.addList(b)}else{attActionLog.logs=b}attActionLog.editAtt=a;return true}function getAttachment(b,f,e){var a=new ArrayList();for(var d=0;d<theToShowAttachments.size();d++){var c=theToShowAttachments.get(d);if(((b&&c.reference==b)||!b)&&((f&&c.subReference==f)||!f)&&((e&&c.type==e)||!e)){a.add(c)}}return a}function updateAttachmentMemory(c,a,g,e){var f=getAttachment(a,g,e);for(var d=0;d<f.size();d++){var b=f.get(d);theToShowAttachments.remove(b)}for(var d=0;d<c.size();d++){theToShowAttachments.add(c.get(d))}}function updateAttachment(a,b){saveContentAttachment(b);updateAttachmentOnly(a)}function updateAttachmentOnly(a){$("#attchmentForm").ajaxSubmit({url:genericURL+"?method=updateAttachment&edocSummaryId="+edocSummaryId+"&affairId="+affairId,type:"POST",success:function(b){}})}function deleteAllAttachment(b,g){var d=fileUploadAttachments.keys();for(var c=0;c<d.size();c++){var a=fileUploadAttachments.get(d.get(c));if(a.type==b){if(g!=undefined&&g!=a.showArea){continue}fileUploadAttachments.remove(d.get(c));c-=1}}var h="attachmentArea";if(b!=0){h="attachment"+b+"Area"}if(g!=undefined){h=h+g}var f=document.getElementById(h);if(f){f.style.display="";f.innerHTML=""}var h="attachmentTR";if(b!=0){h="attachment"+b+"TR"}if(g!=undefined){h=h+g}var e=document.getElementById(h);if(e){e.style.display="none"}}function showUpdateAttachment(l){if(_updateAttachmentState){return}var n=document.getElementById("attachmentTr");if(n){n.style.display=""}var h=document.getElementById("normalText");if(h){h.style.display="none"}var e=document.getElementById("uploadAttachmentTR");if(e){e.style.display=""}if(!theToShowAttachments){return}var f=document.getElementById("attachmentArea");var b=document.getElementById("attachment2Area");var d=_ctxPath;for(var g=0;g<theToShowAttachments.size();g++){var k=theToShowAttachments.get(g);if(k.type==0&&k.type==l){var j=document.getElementById("attachmentDiv_"+k.fileUrl);if(j){var m=j.getElementsByTagName("a");if(m){var c='<span class="ico16 affix_del_16" onclick="deleteAttachment(\''+k.fileUrl+"')\" ></span>";m[0].insertAdjacentHTML("afterEnd",c)}}}else{if(k.type==2&&k.type==l){var j=document.getElementById("attachmentDiv_"+k.fileUrl);if(j){var m=j.getElementsByTagName("a");if(m){var c='<span class="ico16 affix_del_16" onclick="deleteAttachment(\''+k.filename+"')\" ></span>";m[0].insertAdjacentHTML("afterEnd",c)}}}}}_updateAttachmentState=true}function showAtachmentObject(d,a,b){if(!d){return}var f="attachmentArea";if(d.type!=0){f="attachment"+d.type+"Area"}if(d.showArea!=""){f=f+d.showArea}if(attachObject){f=attachObject}var c=document.getElementById(f);var e=$("div[id='"+f+"']");if(e.length>1){e[e.length-1].style.display="";e[e.length-1].innerHTML+=d.toString(true,a,undefined,b)}else{if(c){c.style.display="";c.innerHTML+=d.toString(true,a,undefined,b);if($.browser.msie&&(parseInt($.browser.version,10)<9)&&$(c).parent(".edit_class").length>0){setTimeout(function(){$(c).css("display","inline-block")},300)}}$(".attachment_operate td>a").each(function(){$(this).css({display:"inline-block",width:"100%",height:"100%"})})}}function showAtachmentTR(b,a,d){var e="attachmentTR";if(b!=0){e="attachment"+b+"TR"}if(atttachTr){e=atttachTr}if(d!=""){e+=d}var c=document.getElementById(e);if(c){a=a||"";c.style.display=a}}function showAttachmentNumber(b,a){var f="attachmentNumberDiv";if(b!=0){f="attachment"+b+"NumberDiv"}if(a.showArea!=""){f=f+a.showArea}var c=document.getElementById(f);if(c){try{c.innerText=getFileAttachmentNumber(b,a.showArea)}catch(d){}}}function getFileAttachmentNumber(c,a){var e=0;var d=fileUploadAttachments.values();if(!d){return e}for(var b=0;b<d.size();b++){if(d.get(b).type==c&&d.get(b).showArea==a){e++}}return e}function getFileAttachmentName(d,a){var f=fileUploadAttachments.values();if(!f){return""}var e="";for(var c=0;c<f.size();c++){var b=f.get(c);if(a!=null&&b.showArea!=a){continue}if(b.type==d){e+="<div id='attachmentDiv_"+b.fileUrl+"' style='float: left;font-size:12px; line-height: 14px;' noWrap>";e+="<img src='"+v3x.baseURL+"/common/images/attachmentICON/"+b.icon+"' border='0' height='16' width='16'                                                    align='absmiddle' style='margin-right: 3px;'/>";e+=escapeStringToHTML(b.filename);e+="&nbsp;</div>"}}return e}function getSenderAttachmentName(a,d){var f=parent.theToShowAttachments;if(!f){return""}var e="";for(var c=0;c<f.size();c++){var b=f.get(c);if(b.type==d&&b.subReference==a){e+="<div id='attachmentDiv_"+b.fileUrl+"' style='float: left;height: "+attachmentConstants.height+"px; line-height: 14px;' noWrap>";e+="<img src='"+v3x.baseURL+"/common/images/attachmentICON/"+b.icon+"' border='0' height='16' width='16'                                                    align='absmiddle' style='margin-right: 3px;'/>";e+=b.filename;e+="&nbsp;</div>"}}return e}function Element(d,g,c,b,f,a,e){this.type=d;this.id=g;this.name=c;this.typeName=b;this.accountId=f||"";this.accountShortname=a||"";this.description=e;this.externalType="0";this.entity=null;this.isEnabled=true;this.excludeChildDepartment=false}Element.prototype.copy=function(a){this.type=a.type;this.id=a.id;this.name=a.name;this.typeName=a.typeName;this.accountId=a.accountId;this.accountShortname=a.accountShortname;this.description=a.description;this.externalType=a.externalType;this.isEnabled=a.isEnabled;this.excludeChildDepartment=a.excludeChildDepartment};Element.prototype.toString=function(){return this.type+"\t"+this.id+"\t"+this.name+"\t"+this.typeName+"\t"+this.accountId+"\t"+this.accountShortname};function getNamesString(f,b){if(!f){return""}var d=v3x.getMessage("V3XLang.common_separator_label")||b;var h=[];for(var c=0;c<f.length;c++){var g=f[c];var a=null;if(g.accountShortname){a=g.name+"("+g.accountShortname+")"}else{a=g.name}h[h.length]=a}return h.join(d)}function getFullNamesString(a){if(!a){return""}var b=v3x.getMessage("V3XLang.common_separator_label");var q=[];var n="";for(var g=0;g<a.length;g++){if(a[g].type=="Department"){n+=a[g].id+","}}if(n!=""){n=n.substring(0,n.length-1);var d=document.getElementById("orgAccountId");var l=new XMLHttpRequestCaller(this,"ajaxOrgManager","getParentDepartmentFullName",false);l.addParameter(1,"String",n);l.addParameter(2,"long",d.value);var f=l.serviceRequest();if(f!=null){q=f.split(",")}}var c=0;var m=[];for(var g=0;g<a.length;g++){var h=a[g];var o=null;if(h.type=="Department"){o=q[c];c++}else{if(h.accountShortname){var j=document.getElementById("appName");if(j&&j.value=="4"){if(h.type=="Account"||(d&&d.value==h.accountId)){o=h.name}else{o=h.accountShortname+h.name}}else{o=h.name+"("+h.accountShortname+")"}}else{o=h.name}}m[m.length]=o}return m.join(b)}function getIdsString(d,f){if(!d){return""}if(f==null){f=true}var e=[];for(var c=0;c<d.length;c++){var b=null;if(f){b=d[c].type+"|"+d[c].id}else{b=d[c].id}e[e.length]=b+(d[c].excludeChildDepartment?"|1":"")}return e.join(",")}function parseElements(g){if(!g||g=="null"){return null}var d=[];var a=g.split(",");for(var c=0;c<a.length;c++){if(!a[c]){continue}var f=a[c].split("|");if(f.length>3){var b=new Element(f[0],f[1],f[2],null,f[3],null,"");if(f.length>4){b.isEnabled=(f[4]=="true")}d[d.length]=b}}return d}function parseElements4Exclude(h,d){if(!h||h=="null"){return null}var f=[];var a=h.split(",");for(var c=0;c<a.length;c++){if(!a[c]){continue}if(d){f[f.length]=new Element(d,a[c])}else{var g=a[c].split("|");if(g.length==2){var b=new Element(g[0],g[1]);f[f.length]=b}}}return f}function getIdsInput(c,a,e){if(!c){return""}if(e==null){e=true}var d="";for(var b=0;b<c.length;b++){if(e){d+="<input type='hidden' name='"+a+"' value=\""+c[b].type+"|"+c[b].id+'">'}else{d+="<input type='hidden' name='"+a+"' value=\""+c[b].id+'">'}}return d}var AJAX_XMLHttpRequest_DEFAULT_METHOD="POST";var AJAX_XMLHttpRequest_DEFAULT_async=true;var AJAX_RESPONSE_XML_TAG_BEAN="B";var AJAX_RESPONSE_XML_TAG_LIST="L";var AJAX_RESPONSE_XML_TAG_Value="V";var AJAX_RESPONSE_XML_TAG_Property="P";var AJAX_RESPONSE_XML_TAG_Name="n";function AjaxParameter(){this.instance=[]}AjaxParameter.prototype.put=function(b,c,d){var a=c.indexOf("[]")>-1;this.instance[this.instance.length]={index:b,type:a?c.substring(0,c.length-2):c,value:d,isArray:a}};AjaxParameter.prototype.toAjaxParameter=function(f,j,h,b){h=h==null?"false":h;if(!f||!j){return null}var g="";g+="S="+f;g+="&M="+j;g+="&CL="+h;g+="&RVT="+b;if(this.instance!=null&&this.instance.length>0){for(var d=0;d<this.instance.length;d++){var c=this.instance[d];var e="P_"+c.index+"_"+c.type;if(c.isArray){if(c.value==null||c.value.length==0){g+="&"+e+"_A_N="}else{if(c.value instanceof Array){for(var a=0;a<c.value.length;a++){g+="&"+e+"_A="+encodeURIComponent(c.value[a])}}}}else{var l=c.value==null?"":c.value;g+="&"+e+"="+encodeURIComponent(l)}}}return g};function XMLHttpRequestCaller(e,c,a,b,g,f,d){if((!c||!a)&&!d){alert("AJAX Service name or method, actionUrl is not null.");throw new Error(3,"AJAX Service name or method is not null.")}this.params=new AjaxParameter();this.serviceName=c;this.methodName=a;this.needCheckLogin=f==null?"true":f;this.returnValueType="XML";this.method=g||AJAX_XMLHttpRequest_DEFAULT_METHOD;this.async=(b==null?AJAX_XMLHttpRequest_DEFAULT_async:b);this._caller=e;this.actionUrl=d;this.filterLogoutMessage=true;this.closeConnection=false}XMLHttpRequestCaller.prototype.addParameter=function(a,b,c){this.params.put(a,b,c)};XMLHttpRequestCaller.prototype.serviceRequest=function(){var a=null;var d=null;if(this.actionUrl){a=getBaseURL()+this.actionUrl;d=this.sendData}else{var b=getBaseURL()+"/getAjaxDataServlet";var f=this.params.toAjaxParameter(this.serviceName,this.methodName,this.needCheckLogin,this.returnValueType);if(!f){throw new Error(5,"没有任何参数")}if(f.length<500){this.method="GET"}if(this.method.toUpperCase()=="POST"){a=b;d=f}else{if(this.method.toUpperCase()=="GET"){a=b+"?"+f}}}var g=getHTTPObject();var h=(typeof this.invoke!="undefined")?this:this._caller;var e=this.filterLogoutMessage;if(!g){throw new Error(2,"当前浏览器不支持XMLHttpRequest")}if(this.async){g.onreadystatechange=function(){if(g.readyState==4){if(g.status==200){var c=getXMLHttpRequestData(g,e);h.invoke(c)}else{if(h&&h.showAjaxError){h.showAjaxError(g.status)}else{h.invoke(null)}}}}}g.open(this.method,a,this.async);g.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");g.setRequestHeader("RequestType","AJAX");if(this.closeConnection){g.setRequestHeader("Connection","close")}g.send(d);if(!this.async){if(g.readyState==4){if(g.status==200){return getXMLHttpRequestData(g,e)}else{}}}};function getXMLHttpRequestData(d,a){var b=d.getResponseHeader("content-type");var e=b&&b.indexOf("xml")>=0;var c=e?d.responseXML:d.responseText;if(e){c=xmlHandle(c)||d.responseText}if(a==true&&c!=null&&c.toString().indexOf("[LOGOUT]")==0){return null}return c}function xmlHandle(d){if(!d){return null}try{var a=d.documentElement;if(null!=a){var b=a.nodeName;if(b==AJAX_RESPONSE_XML_TAG_BEAN){return beanXmlHandle(a)}else{if(b==AJAX_RESPONSE_XML_TAG_LIST){return listXmlHandle(a)}else{if(b==AJAX_RESPONSE_XML_TAG_Value){return a.firstChild.nodeValue}}}}}catch(c){throw c.message}return null}function beanXmlHandle(e){if(!e){return null}var d=new Properties();d.type="";var h=e.childNodes;if(h!=null&&h.length>0){for(var c=0;c<h.length;c++){var b=h[c].attributes.getNamedItem(AJAX_RESPONSE_XML_TAG_Name).nodeValue;var g="";var a=h[c].firstChild;if(a!=null){if(a.childNodes!=null&&a.childNodes.length>0){var f=a.nodeName;if(f==AJAX_RESPONSE_XML_TAG_BEAN){g=beanXmlHandle(a)}else{if(f==AJAX_RESPONSE_XML_TAG_LIST){g=listXmlHandle(a)}else{if(f==AJAX_RESPONSE_XML_TAG_Value){g=a.firstChild.nodeValue}}}}else{g=a.nodeValue}}d.putRef(b,(g))}}return d}function listXmlHandle(d){var g=new Array();if(d!=null){var c=new Properties();var a=d.childNodes;if(a!=null&&a.length>0){for(var b=0;b<a.length;b++){var f=a[b].nodeName;var e="";if(f==AJAX_RESPONSE_XML_TAG_BEAN){e=beanXmlHandle(a[b])}else{if(f==AJAX_RESPONSE_XML_TAG_LIST){e=listXmlHandle(a[b])}else{if(f==AJAX_RESPONSE_XML_TAG_Value){e=a[b].firstChild.nodeValue}}}g[b]=e}}}return g}function getHTTPObject(){var xmlhttp;
/*@cc_on
  @if (@_jscript_version >= 5)
    try {
      xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
    }
    catch (e) {
      try {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
      }
      catch (E) {
        xmlhttp = false;
      }
    }
  @else
  xmlhttp = false;
  @end @*/
;if(!xmlhttp&&typeof XMLHttpRequest!="undefined"){try{xmlhttp=new XMLHttpRequest()}catch(e){xmlhttp=false}}return xmlhttp}function getBaseURL(){try{if(v3x){return v3x.baseURL}else{if(parent.v3x){return parent.v3x.baseURL}else{if(getA8Top().v3x){return getA8Top().v3x.baseURL}else{if(getA8Top().conextPath){return getA8Top().conextPath}else{return _ctxPath}}}}}catch(a){}return"/seeyon"}function ajaxFormSubmit(a){var c=new AjaxParameter();var e=getHTTPObject();var d=c.FormToAjaxParameter(a);e.open("post",a.action,false);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(d);if(e.readyState==4){if(e.status==200){var b=xmlHandle(e.responseXML);if(b==null){b=e.responseText;if(b.search("<")>0){b=b.substr(b.search("<"));b=getXMLDoc(b);b=xmlHandle(b)}else{return b}}if(!b){b=e.responseTEXT}return b}else{return false}}return false}function getXMLDoc(b){var c=null;if(window.ActiveXObject||"ActiveXObject" in window){c=new ActiveXObject("MSXML2.DOMDocument");c.async=false;if(b!=null){c.loadXML(b)}}else{if(document.implementation&&document.implementation.createDocument){c=document.implementation.createDocument("","",null);var a=new DOMParser();c.async=false;if(b!=null){c=a.parseFromString(b,"text/xml")}}}return c}function getXSLDoc(n,l){if(typeof(XSLTProcessor)!="undefined"){var h=new XSLTProcessor();h.importStylesheet(l);var d=h.transformToFragment(n,document);if(typeof(GetXmlStringFromXmlDoc)!="undefined"){return GetXmlStringFromXmlDoc(d)}else{var m=new XMLSerializer();var g=m.serializeToString(d);if(g.indexOf("<transformiix:result")>-1){g=g.substring(g.indexOf(">")+1,g.lastIndexOf("<"))}return g}}if(typeof(n.transformNode)!="undefined"){return n.transformNode(l)}else{var c=null;try{c=new ActiveXObject("Msxml2.XSLTemplate")}catch(k){}try{if(c){var b=c;var f=new ActiveXObject("Msxml2.FreeThreadedDOMDocument");f.loadXML(l.xml);b.stylesheet=f;var a=b.createProcessor();a.input=n;a.transform();return a.output}}catch(j){alert("The type [XSLTProcessor] and the function [XmlDocument.transformNode] are not supported by this browser, can't transform XML document to HTML string!");return null}}}function getXmlString(a){if(window.ActiveXObject){return a.xml}else{var b=document.createElement("div");b.appendChild(a.cloneNode(true));return b.innerHTML}}AjaxParameter.prototype.FormToAjaxParameter=function(b){var d="";var g=new Properties();var e;var h,c;var f;var a;for(e=0;e<b.elements.length;e++){h=b.elements[e];a=h.getAttribute("canSubmit");if(h.disabled||(h.readOnly&&a!="true")){continue}if(h.type=="select-one"||h.type=="hidden"||h.type=="password"||h.type=="text"||h.type=="textarea"){g.put(h.name,h.value)}else{if(h.type=="select-multiple"||h.type=="checkbox"||h.type=="radio"){c=g.get(h.name);f=getFormInputValue(h);if(f!=""){if(c!=null&&c!=""){c+=","}else{c=f}}if(c==null){c=""}g.put(h.name,c)}}d=g.toQueryString()}return d};function getFormInputValue(a){var c="";var b;var d;if(a.type=="select-multiple"){for(b=0;b<a.options.length;b++){if(a.options[b].selected==true){if(c!=""){c+=","}c+=a.options[b].value}}}else{if(a.type=="checkbox"||a.type=="radio"){d=document.getElementsByName(a.name);for(b=0;b<d.length;b++){if(d[b].checked==true){if(c!=""){c+=","}c+=d[b].value}}}}return c}var dom=(document.getElementsByTagName)?true:false;var ie5=(document.getElementsByTagName&&document.all)?true:false;var arrowUp,arrowDown;if(ie5||dom){initSortTable()}function initSortTable(){arrowUp=document.createDocumentFragment("SPAN");arrowUp.className="arrowAsc";arrowUp.innerHTML="&nbsp;&nbsp;";arrowDown=document.createDocumentFragment("SPAN");arrowDown.className="arrowDesc";arrowDown.innerHTML="&nbsp;&nbsp;"}function getNextSibByClass(b,a){if(b==null){return null}else{if(b.nodeType==1&&b.className==a){return b}else{return getNextSibByClass(b.nextSibling,a)}}}function getParentByClass(b,a){if(b==null){return null}else{if(b.nodeType==1&&b.className==a){return b}else{return getParentByClass(b.parentNode,a)}}}function sortTable(o,j,f,c,k){var n;if(k){var e=getParentByClass(o,"hDiv");var q=getNextSibByClass(e,"bDiv");n=q.childNodes[0].childNodes[0]}else{n=o.tBodies[0]}var h=n.rows;var m=new Array();var l=new Array();for(var g=0;g<h.length;g++){var d=h[g];if(d.id.indexOf("off")!=-1){l[l.length]=h[g]}else{m[m.length]=h[g]}}m.sort(compareByColumn(j,f,c));l.sort(compareByColumn(j,f,c));for(var g=0;g<m.length;g++){if(g%2==0){m[g].className="erow"}else{m[g].className=""}n.appendChild(m[g])}for(var g=0;g<l.length;g++){n.appendChild(l[g])}}function CaseInsensitiveString(a){return String(a).toLocaleString()}function parseDate(a){return Date.parse(a.replace(/\-/g,"/"))}function toNumber(a){return Number(a.replace(/[^0-9\.]/g,""))}function compareByColumn(h,a,g){var f=h;var e=a;var b=String;if(g=="Number"){b=parseInt}else{if(g=="Date"){b=compareMyDate}else{if(g=="CaseInsensitiveString"){b=CaseInsensitiveString}else{if(g=="Size"){b=compareSize}else{if(g=="Percent"){b=comparePercent}else{if(g=="Month"){b=compareMonth}else{if(g=="Number"){b=compareNumber}}}}}}}return function(d,c){if(b==String||b==CaseInsensitiveString){var j=b(getInnerText(d.cells[f])).localeCompare(b(getInnerText(c.cells[f])));if(e){return j*-1}else{return j}}else{if(b==compareMyDate){var j=b(getInnerText(d.cells[f]),getInnerText(c.cells[f]));if(e){return j*-1}else{return j}}else{if(b==compareSize){var j=b(getInnerText(d.cells[f]),getInnerText(c.cells[f]));if(e){return j*-1}else{return j}}else{if(b==comparePercent){var j=b(getInnerText(d.cells[f]),getInnerText(c.cells[f]));if(e){return j*-1}else{return j}}else{if(b==compareMonth){var j=b(getInnerText(d.cells[f]),getInnerText(c.cells[f]));if(e){return j*-1}else{return j}}else{if(b==compareNumber){var j=b(getInnerText(d.cells[f]),getInnerText(c.cells[f]));if(e){return j*-1}else{return j}}else{if(b(getInnerText(d.cells[f]))>b(getInnerText(c.cells[f]))){return e?-1:+1}if(b(getInnerText(d.cells[f]))<b(getInnerText(c.cells[f]))){return e?+1:-1}return 0}}}}}}}}function compareNumber(b,a){if((b==null||b=="  ")&&(a!=null&&a!="  ")){return -1}if((a==null||a=="  ")&&(b!=null&&b!="  ")){return 1}if((b==null||b=="  ")&&(a==null||a=="  ")){return 0}var d=parseFloat(b);var c=parseFloat(a);if(d>c){return 1}else{if(d<c){return -1}else{return 0}}}function compareMonth(d,c){if((d==null||d=="  ")&&(c!=null&&c!="  ")){return -1}if((c==null||c=="  ")&&(d!=null&&d!="  ")){return 1}if((d==null||d=="  ")&&(c==null||c=="  ")){return 0}var b=d.split("-");var a=c.split("-");var h=b[0];var f=a[0];var g=parseInt(parseFloat(b[1]));var e=parseInt(parseFloat(a[1]));if(h>f){return 1}if(h<f){return -1}if(h==f){if(g>e){return 1}else{if(g<e){return -1}else{return 0}}}}function compareSize(b,a){if((b==null||b=="  ")&&(a!=null&&a!="  ")){return -1}if((a==null||a=="  ")&&(b!=null&&b!="  ")){return 1}if((b==null||b=="  ")&&(a==null||a=="  ")){return 0}var d=e(b);var c=e(a);if(d-c>0){return 1}else{if(d-c<0){return -1}else{return 0}}function e(f){if(f.indexOf("MB")>-1){return parseFloat(f)*1000}else{if(f.indexOf("KB")>-1){return parseFloat(f)}}}}function comparePercent(b,a){if((b==null||b=="  ")&&(a!=null&&a!="  ")){return -1}if((a==null||a=="  ")&&(b!=null&&b!="  ")){return 1}if((b==null||b=="  ")&&(a==null||a=="  ")){return 0}var d=e(b);var c=e(a);if(d-c>0){return 1}else{if(d-c<0){return -1}else{return 0}}function e(f){if(f.indexOf("%")>-1){return parseFloat(f)*10000}return 0}}function compareMyDate(c,a){if((c==null||c=="  "||c==" ")&&(a!=null&&a!="  "&&a!=" ")){return -1}if((a==null||a=="  "||a==" ")&&(c!=null&&c!="  "&&c!=" ")){return 1}if((c==null||c=="  "||c==" ")&&(a==null||a=="  "||a==" ")){return 0}var d=initDate(c);var b=initDate(a);if(d-b>0){return 1}else{if(d-b<0){return -1}else{return 0}}}function initDate(g){if(g.indexOf("/")>-1&&g.indexOf(":")>-1){var a=parseFloat(g.substr(0,2));var l=parseFloat(g.substr(3,2));var j=parseFloat(g.substr(6,2));var m=parseFloat(g.substr(9,2));var o=parseFloat(g.substr(12,2));var h=0;return new Date(a,l,j,m,o,h)}else{if(g.indexOf("-")>-1&&g.indexOf(":")>-1){g=g.trim();var b=g.split(" ");var k=b[0].split("-");var c=b[1].split(":");var n=parseInt(k[1]);if(k[1].length==2&&k[1].substr(0,1)=="0"){n=parseInt(k[1].substr(1,1))}var f=parseInt(k[2]);if(k[2].length==2&&k[2].substr(0,1)=="0"){f=parseInt(k[2].substr(1,1))}var m=parseInt(c[0]);if(c[0].length==2&&c[0].substr(0,1)=="0"){m=parseInt(c[0].substr(1,1))}var e=parseInt(c[1]);if(c[1].length==2&&c[1].substr(0,1)=="0"){e=parseInt(c[1].substr(1,1))}var h=0;if(c.length==3&&c[2].length>0){h=parseInt(c[2]);if(c[2].length==2&&c[2].substr(0,1)=="0"){h=parseInt(c[2].substr(1,1))}}return new Date(parseInt(k[0]),n-1,f,m,e,h)}else{if(g.indexOf("-")>-1&&g.indexOf(":")==-1){var b=g.split("-");var n=parseInt(b[1]);if(b[1].length==2&&b[1].substr(0,1)=="0"){n=parseInt(b[1].substr(1,1))}var f=parseInt(b[2]);if(b[2].length==2&&b[2].substr(0,1)=="0"){f=parseInt(b[2].substr(1,1))}return new Date(parseInt(b[0]),n-1,f,0,0,0)}else{if(isChina(g)){var a=g.substr(0,4);var l=null;var j=null;if(isChina(g.substr(6,1))&&isChina(g.substr(8,1))){l=g.substr(5,1);j=g.substr(7,1)}else{if(isChina(g.substr(6,1))&&isChina(g.substr(9,1))){l=g.substr(5,1);j=g.substr(7,2)}else{if(isChina(g.substr(7,1))&&isChina(g.substr(9,1))){l=g.substr(5,2);j=g.substr(8,1)}else{if(isChina(g.substr(7,1))&&isChina(g.substr(10,1))){l=g.substr(5,2);j=g.substr(8,2)}}}}return new Date(parseInt(a),parseInt(l)-1,parseInt(j),0,0,0)}}}}}function isChina(b){var a=/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi;if(!a.exec(b)){return false}else{return true}}function sortColumn(g,a,f){try{var c,d;if(ie5){c=g.srcElement}else{if(dom){c=g.target}}if(f){d=getParent(c,"TH")}else{d=getParent(c,"TD")}var b=d.orderBy;if(d==null||b==null||b==""){sortColumnCurrentPage(g,a,f)}else{sortColumnAll(d,b,f)}}catch(g){}}function sortColumnAll(e,c,f){if(!d){var d=new Properties()}var b=d.get("orderByColumn");var a=d.get("orderByDESC");if(a==null){a="ASC"}else{if(c!=b){a="ASC";d.put("page",1)}else{a=a=="DESC"?"ASC":"DESC"}}d.put("orderByColumn",c);d.put("orderByDESC",a);getPageAction(e)}function sortColumnCurrentPage(k,d,m){var j,c,o,m,g;if(ie5){j=k.srcElement}else{if(dom){j=k.target}}g=getParent(j,"TABLE");o=getParent(j,"THEAD");if(m){c=getParent(j,"TH")}else{var l=getParent(j,"TFOOT");if(j.tagName=="TD"&&l==null&&o==null&&d==true){selectRow(j)}c=getParent(j,"TD")}if(c==null||c.getAttribute("type")==null||c.getAttribute("type")==""){return}if(o==null){return}if(!f){var f=new Properties()}var r=f.get("orderByColumn");if(r){var n=document.getElementById("OrderByColumn_"+r);if(n){n.parentNode.removeChild(n)}}if(c!=null){var a=c.parentNode;var h;if(c._descending){c._descending=false}else{c._descending=true}if(o.arrow!=null){if(m){o.arrow.className=""}else{if(o.arrow.parentNode==null){o.arrow=null}else{if(o.arrow.parentNode!=c){o.arrow.parentNode._descending=null}o.arrow.parentNode.removeChild(o.arrow)}}}var b=c.firstChild;if(m){if(c._descending){b.className="sdesc"}else{b.className="sasc"}o.arrow=b}else{if(c._descending){o.arrow=arrowDown.cloneNode(true)}else{o.arrow=arrowUp.cloneNode(true)}c.appendChild(o.arrow)}for(h=0;h<a.cells.length;h++){if(a.cells[h]==c){break}}var q=getParent(c,"TABLE");sortTable(q,h,c._descending,c.getAttribute("type"),m)}}function getInnerText(b){if(ie5){return b.innerText}var c="";for(var a=0;a<b.childNodes.length;a++){switch(b.childNodes.item(a).nodeType){case 1:c+=getInnerText(b.childNodes.item(a));break;case 3:c+=b.childNodes.item(a).nodeValue;break}}return c}function getParent(b,a){if(b==null){return null}else{if(b.nodeType==1&&b.tagName.toLowerCase()==a.toLowerCase()){return b}else{return getParent(b.parentNode,a)}}}var currentSelectTr=null;function clearSiblingStyle(a){var d=a.parentNode.childNodes;if(d!=null){for(var b=0;b<d.length;b++){var c=d[b];redoStyle(c)}}}function redoStyle(){var h=currentSelectTr;if(!h){return}var a=h.className;var b=h.className2;if(b!=null&&a!=b){h.className=b}var l=getCheckboxFromTr(h);if(l&&l.disabled!=true){l.checked=false}var c=h.cells;for(var k=0;k<c.length;k++){var f=c.item(k);var m=f.className;var d=m.split(" ");var e="";for(var g=0;g<d.length;g++){if(d[g]!="no-read"){e+=d[g]+" "}}f.className=e}}function changeSelectedStyle(c){if(c==null){return}var a=c.className;var b=c.className2;if(b==null){c.className2=a;if(c.id.indexOf("off")!=-1){c.className="tr-select-offline"}else{c.className="sort-select"}}else{if(a==b){if(c.id.indexOf("off")!=-1){c.className="tr-select-offline"}else{c.className="sort-select"}}else{c.className=b}}}function selectRow(a){if(a.tagName=="INPUT"){unselectAll();return}var g=getParent(a,"TR");var b=getParent(g,"tbody");var f=v3x.getEvent();var d;if(ie5){d=f.srcElement}else{if(dom){d=f.target}}if(d.tagName=="INPUT"){return}if(g!=null&&b!=null){redoStyle();changeSelectedStyle(g);currentSelectTr=g;var c=getCheckboxFromTr(g);if(c!=undefined&&c!=null){noSelected(c.name);if(c.disabled!=true){c.checked=true}unselectAll()}}}function getCheckboxFromTr(d){if(d==null||d.childNodes.length==0){return null}else{for(var c=0;c<d.childNodes.length;c++){var b=d.childNodes[c];if(b.type=="checkbox"||b.type=="radio"){return b}else{var a=getCheckboxFromTr(b);if(a!=null){return a}}}}}function selectAll(b,d){var a=document.getElementsByName(d);if(a!=null){for(var c=0;c<a.length;c++){if(a[c].disabled==true){continue}a[c].checked=b.checked}}}function noSelected(a){var c=document.getElementsByName(a);if(c){for(var b=0;b<c.length;b++){if(c[b].disabled==true){continue}c[b].checked=false}}}function unselectAll(){var a=document.getElementById("allCheckbox");if(a&&a.disabled!=true){if(a.checked){a.click();a.checked=false}}}var canDoAction=true;function getPageAction(d){var n=pageFormMethod||"get";var a=getForm(d);var b=a.attributes.getNamedItem("ACTION");var c=b?(b.nodeValue):""||"";var l=document.createElement("form");l.setAttribute("action",c);l.setAttribute("target","_self");l.setAttribute("method",n);if(!canDoAction){return}var m=pageQueryMap.keys();for(var f=0;f<m.size();f++){var k=m.get(f);var h=pageQueryMap.get(k);if(!k||k=="pageSize"){continue}if(h instanceof Array){for(var j=0;j<h.length;j++){var g=document.createElement("input");g.setAttribute("type","hidden");g.setAttribute("name",k);g.value=h[j];l.appendChild(g)}}else{var g=document.createElement("input");g.setAttribute("type","hidden");g.setAttribute("name",k);g.value=h;l.appendChild(g)}}var j=a.pageSize.value||20;var g=document.createElement("input");g.setAttribute("type","hidden");g.setAttribute("name","pageSize");g.setAttribute("value",j);l.appendChild(g);if(!new RegExp("^-?[0-9]*$").test(j)||parseInt(j,10)<1){}document.body.appendChild(l);l.submit();canDoAction=false}function enterSubmit(b,a){if(v3x.getEvent().keyCode==13){if(a=="pageSize"){pagesizeChange(b)}else{if(a=="intpage"){pageChange(b)}}}}function getForm(a){return document.getElementsByName("pageSize")[0].form}function pageGo(a){getPageAction(a)}function first(a){pageQueryMap.put("page",1);getPageAction(a)}function pageChange(b){if(!new RegExp("^-?[0-9]*$").test(b.value)){return}var a=b.getAttribute("pageCount");if(b.value>parseInt(a,10)){b.value=a}pageQueryMap.put("page",b.value);getPageAction(b)}function last(b,a){pageQueryMap.put("page",a);getPageAction(b)}function next(b){var a=parseInt(pageQueryMap.get("page"));pageQueryMap.put("page",a+1);getPageAction(b)}function pagesizeChange(b){var a=b.value;if(!new RegExp("^-?[0-9]*$").test(a)||parseInt(a,10)<1){return}pageQueryMap.put("pageSize",a);pageQueryMap.put("page",1);getPageAction(b)}function prev(b){var a=parseInt(pageQueryMap.get("page"));pageQueryMap.put("page",a-1);getPageAction(b)}var formValidate={unCharactor:"\"\\/|><:*?'&%$",integerDigits:"10",decimalDigits:"0"};V3X.prototype.checkFormAdvanceAttribute="";function checkForm(formObj){var elements=formObj.elements;var clearValueElements=[];if(elements!=null){for(var i=0;i<elements.length;i++){var e=elements[i];var clearValue=e.getAttribute("clearValue");if(clearValue=="true"){clearValueElements[clearValueElements.length]=e;continue}V3X.checkFormAdvanceAttribute=e.getAttribute("advance");var validateAtt=e.getAttribute("validate");if(validateAtt!=null&&validateAtt!=""&&validateAtt!="undefined"){var validateFuns=validateAtt.split(",");for(var f=0;f<validateFuns.length;f++){var fun=validateFuns[f];if(fun){var result=eval(fun+"(e)");if(!result){return false}}}}}}for(var j=0;j<clearValueElements.length;j++){clearDefaultValueWhenSubmit(clearValueElements[j])}return true}function testRegExp(b,a){return new RegExp(a).test(b)}function clearDefaultValueWhenSubmit(c){var a=getDefaultValue(c);var b=c.value;if(b==a){c.value=""}}function writeValidateInfo(element,message){alert(message);var onAfterAlert=element.getAttribute("onAfterAlert");if(onAfterAlert){try{eval(onAfterAlert)}catch(e){}}else{try{element.focus();element.select()}catch(e){}}}function notSpecChar(b){var c=b.value;var a=b.getAttribute("inputName");if(/^[^\|\\"'<>]*$/.test(c)){return true}else{writeValidateInfo(b,$.i18n("formValidate_specialCharacter",a));return false}}function notSpecCharWithoutApos(b){var c=b.value;var a=b.getAttribute("inputName");if(/^[^\|\\\/"<>]*$/.test(c)){return true}else{writeValidateInfo(b,$.i18n("formValidate_specialCharacter_withoutApos",a));return false}}function notNull(c){var d=c.value;d=d.replace(/[\r\n]/g,"");var b=c.getAttribute("inputName");if(d==null||d==""||d.trim()==""||d==$.i18n("section.hasNoSet")){writeValidateInfo(c,$.i18n("formValidate_notNull",b));return false}var a=c.getAttribute("maxSize");if(a&&d.length>a){writeValidateInfo(c,$.i18n("formValidate_maxLength",b,a,d.length));return false}return true}function maxLength(c){var d=c.value;if(!d){return true}var b=c.getAttribute("inputName");var a=c.getAttribute("maxSize");if(a&&d.length>a){writeValidateInfo(c,$.i18n("formValidate_maxLength",b,a,d.length));return false}return true}function minLength(c){var d=c.value;if(!d){return true}var b=c.getAttribute("inputName");var a=c.getAttribute("minLength");if(a&&d.length<a){writeValidateInfo(c,$.i18n("formValidate_minLength",b,a,d.length));return false}return true}function isNumber(b){var d=b.value;var a=b.getAttribute("inputName");var g=b.getAttribute("integerDigits")||formValidate.integerDigits;var f=b.getAttribute("decimalDigits")||formValidate.decimalDigits;var c=b.getAttribute("integerMax");var e=b.getAttribute("integerMin");if(d=="0"){return true}if(!testRegExp(d,"^-?[0-9]{0,"+g+"}\\.?[0-9]{0,"+f+"}$")){writeValidateInfo(b,$.i18n("formValidate_isNumber",a));return false}if(c&&parseInt(d)>c){writeValidateInfo(b,$.i18n("formValidate_too_max",a,c,d));return false}if(e&&parseInt(d)<e){writeValidateInfo(b,$.i18n("formValidate_too_min",a,e,d));return false}return true}function positive(b){var d=b.value.trim();if(d!=""){var c=parseFloat(b.value.trim());var a=b.getAttribute("inputName");if(c<=0){writeValidateInfo(b,$.i18n("formValidate_positive",a));return false}}return true}function percent(b){var d=b.value.trim();if(d!=""){var c=parseFloat(b.value.trim());var a=b.getAttribute("inputName");if(c<0||c>100){writeValidateInfo(b,$.i18n("formValidate_percent",a,d));return false}}return true}function notNum(b){var c=b.value;var a=b.getAttribute("inputName");var e=b.getAttribute("integerDigits")||formValidate.integerDigits;var d=b.getAttribute("decimalDigits")||formValidate.decimalDigits;if(c=="0"){return true}if(testRegExp(c,"^-?[0-9]{0,"+e+"}\\.?[0-9]{0,"+d+"}$")){writeValidateInfo(b,$.i18n("formValidate_isNotNumber",a));return false}return true}function isEmail(b){var c=b.value;if(!c){return true}var a=b.getAttribute("inputName");if(c.indexOf("@")==-1||c.indexOf(".")==-1){writeValidateInfo(b,$.i18n("formValidate_isEmail",a));return false}return true}function notNullWithoutTrim(c){var d=c.value;var b=c.getAttribute("inputName");if(d==null||d==""){writeValidateInfo(c,$.i18n("formValidate_notNull",b));return false}var a=c.getAttribute("maxLength");if(a&&d.length>a){writeValidateInfo(c,$.i18n("formValidate_maxLength",b,a));return false}return true}function isInteger(d){var e=d.value;var b=d.getAttribute("inputName");var a=d.getAttribute("max");var c=d.getAttribute("min");if(e!="0"&&(isNaN(e)||e.indexOf("0")==0||!testRegExp(e,"^-?[0-9]*$"))){writeValidateInfo(d,$.i18n("formValidate_isInteger",b));return false}if(a!=null&&a!=""&&parseInt(e)>parseInt(a)){writeValidateInfo(d,$.i18n("formValidate_isInteger_max",b,a));return false}if(c!=null&&c!=""&&parseInt(e)<parseInt(c)){writeValidateInfo(d,$.i18n("formValidate_isInteger_min",b,c));return false}return true}function isWord(d){var f=d.value;var b=d.getAttribute("inputName");var e=d.getAttribute("character")||formValidate.unCharactor;var a="";for(var c=0;c<e.length;c++){if(f.indexOf(e.charAt(c))>-1){a+=e.charAt(c)}}if(a.length>0){writeValidateInfo(d,$.i18n("formValidate_isWord",b,a,e));return false}return true}function isSepcialWord(e,a){var g=e.value;var c=e.getAttribute("inputName");var f=e.getAttribute("character")||"\\!@#$|%^&*?:<>/'";var b="";for(var d=0;d<f.length;d++){if(g.indexOf(f.charAt(d))>-1){b+=f.charAt(d)}}if(b.length>0){if(typeof(a)=="undefined"){writeValidateInfo(e,$.i18n("formValidate_isWord",c,b,f))}return false}return true}function isCriterionWord(b){var c=b.value;var a=b.getAttribute("inputName");if(!testRegExp(c,"^[\\w-]+$")){writeValidateInfo(b,$.i18n("formValidate_isCriterionWord",a));return false}return true}function isUrl(b){var c=b.value;if(!c){return true}var a=b.getAttribute("inputName");if(!testRegExp(c,"^http://{1}([\\w-]+.)+[\\w-]+")){writeValidateInfo(b,$.i18n("formValidate_isUrl",a));return false}return true}function startsWith(b){var d=b.value;var a=b.getAttribute("inputName");var c=b.getAttribute("prefix");if(d.indexOf(c)!=0){writeValidateInfo(b,$.i18n("formValidate_startsWith",a,c));return false}return true}function isDeaultValue(c){var d=c.value;var b=c.getAttribute("inputName");var a=getDefaultValue(c);if(d==a){writeValidateInfo(c,$.i18n("formValidate_notNull",b));return false}return true}function isDefaultValue(c){var d=c.value;var b=c.getAttribute("inputName");var a=getDefaultValue(c);if(d==a){writeValidateInfo(c,$.i18n("formValidate_notNull",b));return false}return true}var __addDataEventObject=null;function whenstart(d,m,f,h,g,e,a,l){g=g||"date";if(e==null){e=true}__addDataEventObject=m;var j=v3x.getEvent();if(v3x.getBrowserFlag("openWindow")==false||typeof(window.showModalDialog)=="undefined"){var k=j.currentTarget;var b=new MxtWindow({id:"date_win",title:v3x.getMessage("V3XLang.calendar_page_title"),url:d+"/common/js/addDate/date.jsp?type="+g+"&allowEmpty="+e+"&showButton=false",height:l+5||320,width:a+5||320,relativeElement:m,targetWindow:getA8Top(),type:"window",isDrag:false,buttons:[{id:"btn1",text:"确定",handler:function(){var n=b.getReturnValue();if(n){k.value=n}b.close()}},{id:"btn2",text:"清空",handler:function(){k.value="";b.close()}}]})}else{var c=v3x.openWindow({url:d+"/common/js/addDate/date.jsp?type="+g+"&allowEmpty="+e+"&showButton=true",height:230,width:250,top:j.screenY+20,left:j.screenX-50});if(c==null){c=""}if(!m&&c){return c}return c}}Date.prototype.isDate=function(c,b){var k,d;var h,a,e,g;var f;var j=new String(c);if(j.length<8||j.length>10){return false}d="^([0-9]){4}(-|/)([0-9]){1,2}(-|/)([0-9]){1,2}$";k=new RegExp(d);if(j.search(k)==-1){return false}h=j.charAt(4);f=j.split(h);if(f.length!=3){return false}a=parseInt(f[0],10);e=parseInt(f[1],10);g=parseInt(f[2],10);if(a<1900||a>2500){return false}if(e<1||e>12){return false}if(g<1||g>31){return false}switch(e){case 4:case 6:case 9:case 11:if(g>30){return false}break;case 2:if((a%4==0&&a%100!=0)||a%400==0){if(g>29){return false}}else{if(g>28){return false}}break;default:break}if(b){this.setDate(g);this.setMonth(e-1);this.setYear(a)}return true};function parseDate(b){var c=b.split("-");var f=parseInt(c[0],10);var a=parseInt(c[1],10)-1;var e=parseInt(c[2],10);return new Date(f,a,e)}Date.prototype.dateAdd=function(k,j){var o;var h=k;var g,a,e;var c;var f=false;var l;var b;var n;if(this.isDate(k,true)==false){return k}n=new String(k);l=n.charAt(4);b=n.split(l);g=parseInt(b[0],10);a=parseInt(b[1],10);e=parseInt(b[2],10);while(j!=0){if(j>0){e++}else{e--}if(e<=0||e>31){f=true;if(e<=0){e=31}else{e=1}}else{f=false}if(f){if(j>0){a++}else{a--}if(a<=0||a>12){f=true;if(a<=0){a=12}else{a=1}}else{f=false}}if(f){if(j>0){g++}else{g--}}h=g+"-"+a+"-"+e;if(this.isDate(h,false)){if(j>0){j--}else{j++}}}return h};Date.prototype.getWeekStart=function(a){this.isDate(a,true);var b=this.getDay();var c=b;if(c!=0){c=-c}return formatDate(this.dateAdd(a,c))};Date.prototype.getWeekEnd=function(a){this.isDate(a,true);var b=this.getDay();var c=6-b;return formatDate(this.dateAdd(a,c))};Date.prototype.getMonthStart=function(a){this.isDate(a,true);a=this.getFullYear()+"-"+(this.getMonth()+1)+"-1";return formatDate(a)};Date.prototype.getMonthEnd=function(c){this.isDate(c,true);var a=[31,28,31,30,31,30,31,31,30,31,30,31];var d=this.getFullYear();var e=this.getMonth()+1;var b=a[this.getMonth()];if(d%4==0&&e==2){b++}c=d+"-"+e+"-"+b;return formatDate(c)};Date.prototype.getSeasonStart=function(c){var b=[1,1,1,4,4,4,7,7,7,10,10,10];this.isDate(c,true);c=this.getFullYear()+"-"+b[this.getMonth()]+"-1";return formatDate(c)};Date.prototype.getSeasonEnd=function(d){this.isDate(d,true);var c=[3,3,3,6,6,6,9,9,9,12,12,12];var b=[31,31,31,30,30,30,30,30,30,31,31,31];this.isDate(d,true);d=this.getFullYear()+"-"+c[this.getMonth()]+"-"+b[this.getMonth()];return formatDate(d)};Date.prototype.getWeekOfMonth=function(){var a=this.getDay();var b=this.getDate();return Math.ceil((b+6-a)/7)};function formatDate(a){var e=a.split("-");var c=parseInt(e[1],10);var b=parseInt(e[2],10);return e[0]+"-"+(c<10?"0"+c:c)+"-"+(b<10?"0"+b:b)}Date.prototype.format=function(c){var a=this.getHours();var d={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":a,"h+":(a>12?a-12:a),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(c)){c=c.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var b in d){if(new RegExp("("+b+")").test(c)){c=c.replace(RegExp.$1,RegExp.$1.length==1?d[b]:("00"+d[b]).substr((""+d[b]).length))}}return c};function compareDate(b,a){return Date.parse(b.replace(/\-/g,"/"))-Date.parse(a.replace(/\-/g,"/"))}var chinese=["零","一","二","三","四","五","六","七","八","九"];var len=["十"];var ydm=["年","月","日"];function num2chinese(c){c=""+c;slen=c.length;var a="";for(var b=0;b<slen;b++){a+=chinese[c.charAt(b)]}return a}function n2c(b){b=""+b;var a="";if(b.length==2){if(b.charAt(0)=="1"){if(b.charAt(1)=="0"){return len[0]}return len[0]+chinese[b.charAt(1)]}if(b.charAt(1)=="0"){return chinese[b.charAt(0)]+len[0]}return chinese[b.charAt(0)]+len[0]+chinese[b.charAt(1)]}return num2chinese(b)}function date2chinese0(b){var a=date2chinese(b);a=a.replace(/零/g,"〇");return a}function date2chinese1(b){var c;var a=b.split("-");if(a.length!=3){a=b.split("/")}if(a.length!=3){return b}if(a[1].charAt(0)=="0"){a[1]=a[1].substr(1)}if(a[2].charAt(0)=="0"){a[2]=a[2].substr(1)}c=a[0]+"年"+a[1]+"月"+a[2]+"日";return c}function date2chinese(c){var e=/^(\d{2}|\d{4})(\/|-)(\d{1,2})(\2)(\d{1,2})$/;var d=c.match(e);var b="";if(d==null){return false}for(var a=1;a<d.length;a=a+2){b+=n2c(d[a]-0)+ydm[(a-1)/2]}return b}function chanageBodyType(e,b){var d=document.getElementById("bodyType");if(d&&d.value==e){return true}var a=document.getElementById("appName");if(a&&a.value=="4"&&e=="HTML"){var c=document.getElementById("content");if(c){c.value=""}}if(confirm(v3x.getMessage("V3XLang.common_confirmChangBodyType"))){var f=document.getElementById("changePdf");if(f){if(e=="OfficeWord"||e=="WpsWord"){f.style.display=""}else{f.style.display="none"}}var g={};if(typeof(officeParams)!="undefined"){g=officeParams}g.needReadFile=false;if(e=="Pdf"){needReadFile=false}showEditor(e,true,g);return true}return false}function getA8Top(){try{var a=getA8ParentWindow(window);if(a){return a}else{return top}}catch(b){return top}}function getA8ParentWindow(c){var a=c;for(var b=0;b<20;b++){if(typeof a.isCtpTop!="undefined"&&a.isCtpTop){return a}else{if(a==window.top){break}a=a.parent}}}function showEditor(c,b,h){b=(b==null)?true:false;if(c=="HTML"){OfficeAPI.removeOfficeDiv(b);oFCKeditor.ReplaceTextarea()}else{if(c=="OfficeWord"){oFCKeditor.remove();var a=getInstallOfficeStatus();if(a.installDoc){h.fileType="doc"}else{h.fileType="wps"}h.fileType="doc";OfficeAPI.initOffice(h)}else{if(c=="OfficeExcel"){oFCKeditor.remove();h.fileType="xls";OfficeAPI.initOffice(h)}else{if(c=="WpsWord"){oFCKeditor.remove();h.fileType="wps";OfficeAPI.initOffice(h)}else{if(c=="WpsExcel"){oFCKeditor.remove();h.fileType="et";OfficeAPI.initOffice(h)}else{if(c=="Pdf"){oFCKeditor.remove();showPdfDiv("pdf")}}}}}}var d=document.getElementById("bodyType");if(d){setContentTypeState(d.value,c);d.value=c}try{var f=document.getElementById("bulBottPre").value;if(f&&f=="1"){if(c=="HTML"){myBar.enabled("preview")}else{myBar.disabled("preview")}}}catch(g){}}function initContentTypeState(){try{bodyType=document.getElementById("bodyType").value;bodyTypeSelector.disabled("menu_bodytype_"+bodyType)}catch(a){}}function setContentTypeState(a,b){try{if(a==b){bodyTypeSelector.disabled("menu_bodytype_"+b)}else{bodyTypeSelector.disabled("menu_bodytype_"+b);bodyTypeSelector.enabled("menu_bodytype_"+a)}}catch(c){}}function getInstallOfficeStatus(){var b={};try{var a=(navigator.appName=="Microsoft Internet Explorer")||ua.indexOf("Trident")!=-1;if(a){var d="";if(navigator.cpuClass.indexOf("x86")!=-1){d=new ActiveXObject("Kinggrid.iWebOffice")}else{d=new ActiveXObject("Kinggrid.iWebOffice_x64")}b.installDoc=d.WebApplication(".doc");b.installWps=d.WebApplication(".wps")}else{b.installDoc=true;b.installWps=true}}catch(c){b.installDoc=true;b.installWps=true}return b}function showNextCondition(a){if(!a){return}var b=a.options;for(var c=0;c<b.length;c++){var e=document.getElementById(b[c].value+"Div");if(e){e.style.display="none"}}if(!document.getElementById(a.value+"Div")){return}document.getElementById(a.value+"Div").style.display="block"}function showCondition(conditionValue,textfieldValue,textfield1Value){if(!conditionValue){return}var conditionObj=document.getElementById("condition");selectUtil(conditionObj,conditionValue);showNextCondition(conditionObj);var theDiv=document.getElementById(conditionValue+"Div");if(theDiv){var nodes=theDiv.childNodes;if(nodes){for(var j=0;j<nodes.length;j++){var node=nodes.item(j);if(node.tagName=="INPUT"){eval("node.value = "+node.name+"Value;")}else{if(node.tagName=="SELECT"){eval("selectUtil(node, "+node.name+"Value)")}}}}}}function selectUtil(d,b){if(!d){return false}var c=d.options;for(var a=c.length-1;a>=0;a--){if(c[a].value==b){d.selectedIndex=a;return true}}return false}function dateCheck(){var b=document.getElementById("startdate").value;var a=document.getElementById("enddate").value;if(compareDate(b,a)>0){window.alert($.i18n("calendar_endTime_startTime"));return false}doSearch()}var SearchEnter={submitCount:0};function doSearch(){var n=document.getElementsByName("searchForm")[0];var f=document.getElementById("createDateDiv");if(n){if(SearchEnter.submitCount>2){return}var u=n.condition.options;for(var k=0;k<u.length;k++){if(n.condition.value==u[k].value){var o=true;if("createDate"==n.condition.value){var g=document.getElementById(u[k].value+"Div");var c;if(g!=null){c=g.childNodes}var t=new Array();if(c!=null){c=f.childNodes;for(var h=0;h<c.length;h++){var m=c[h];if(m.type=="text"){t.push(m)}}}if((t.length>0)&&(t.length<3)){var b=t[0].value;var a=b.split("-");var r=new Date();r.setFullYear(a[0],a[1]-1,a[2]);var s=t[1].value;var l=s.split("-");var e=new Date();e.setFullYear(l[0],l[1]-1,l[2]);if(e<r){o=false}}}if(o){continue}else{return}}var q=document.getElementById(u[k].value+"Div");if(q){q.innerHTML=""}}n.target=n.target||"_self";SearchEnter.submitCount++;n.submit()}}function doSearchEnter(){var a=v3x.getEvent();if(a.keyCode==13){doSearch()}}function listenerKeyESC(){var a=v3x.getEvent();if(a.keyCode==27){window.close()}}function validateCheckbox(b){b=b||"id";var e=document.getElementsByName(b);if(!e){return 0}var c=0;var a=e.length;for(var d=0;d<a;d++){if(e[d].checked){c++}}return c}function getCheckboxSingleValue(a){var b=getCheckboxSingleObject(a);return b==null?null:b.value}function getCheckboxSingleObject(b){b=b||"id";var e=document.getElementsByName(b);if(!e){return 0}var c=0;var a=e.length;for(var d=0;d<a;d++){if(e[d].checked){return e[d]}}return null}var currentOpinionId="";function hiddenReplyDiv(){var a=document.getElementById("replyDiv"+currentOpinionId);if(a){a.innerHTML="";a.style.display="none"}fileUploadAttachments.clear()}function reply(w,x,g,r,d,q,l,c){var s=document.getElementById("replyDiv"+currentOpinionId);if(s&&s.innerHTML!=""){return}hiddenReplyDiv();opinionId5=w;var b=document.getElementById("uploadAttachmentSpan");if(b!=null){b.style.display=(g==true?"":"none")}var m=document.getElementById("myDocumentSpan");if(m){m.style.display=(r==true?"":"none")}var k=document.getElementById("replyDiv"+w);if(k){k.innerHTML=document.getElementById("replyCommentHTML").innerHTML;k.style.display="";var n=document.getElementById("reply-table");if(n!=null){n.style.display=""}var u=document.getElementsByName("repform")[0];u.isHidden.id="isHidden";try{u.isSendMessage.id="isSendMessage"}catch(t){}if(d){document.getElementById("isHiddenDiv").style.display="none"}if(u.b11){u.b11.focus()}u.content.focus();u.opinionId.value=w;if(x){u.memberId.value=x}var h=document.getElementById("affairMemberId");var j=document.getElementById("sendMessagePeopleSpan");if(h){if(q){var o=document.getElementById("pushMessageMemberNames");if(o&&currentUserId!=x){o.value=q}if(o&&currentUserId==x){u.isSendMessage.checked=false;j.style.display="none"}}if(l){var a=document.getElementById("pushMessageMemberIds");if(a){a.value=l+","+x}var f=document.getElementById("replyedAffairId");if(f){f.value=l}}}else{if(u.isSendMessage){u.isSendMessage.checked=false}if(j){j.style.display="none"}}}currentOpinionId=w}function checkReplyForm(a){if(checkForm(a)){return true}return false}function checkDefSubject(b,c){var a=getDefaultValue(b);if(c&&b.value==a){b.value=""}else{if(!b.value){b.value=a}}}function getDefaultValue(b){if(!b){return null}var a=b.attributes.getNamedItem("defaultValue");if(!a){a=b.attributes.getNamedItem("deaultValue")}if(a){return a.nodeValue}return null}function Panel(c,b,a){this.id=c;this.label=b;this.onclick=a||""}Panel.prototype.toString=function(){return"<div id='button-L"+this.id+"' class=\"sign-button-L\"></div><div id='button"+this.id+"' onClick=\"changeLocation('"+this.id+"');"+this.onclick+'" class="sign-button-M">'+this.label+"</div><div id='button-R"+this.id+'\' class="sign-button-R"></div><div class="sign-button-line"></div>'};Panel.prototype.toMinString=function(){return'<div class="sign-min-label" onclick="changeLocation(\''+this.id+"');"+this.onclick+'" title="'+this.label+'">'+this.label+'</div><div class="separatorDIV"></div>'};function showPanels(b){if(b!=false){document.write('<div id="hiddenPrecessAreaDiv" onclick="hiddenPrecessArea()" title="'+v3x.getMessage("V3XLang.common_hiddenPrecessArea")+'"></div>')}for(var a=0;a<panels.size();a++){document.write(panels.get(a).toString())}document.close()}function showMinPanels(){for(var a=0;a<panels.size();a++){document.write(panels.get(a).toMinString())}document.close();setNoOrResize(true)}function setNoOrResize(b){try{var a=parent.document.getElementById("detailRightFrame");if(a){a.noResize=b}else{return}}catch(c){}}function changeLocation(f){for(var b=0;b<panels.size();b++){var a=panels.get(b).id;if(a==f){continue}document.getElementById("button-L"+a).className="sign-button-L";document.getElementById("button"+a).className="sign-button-M";document.getElementById("button-R"+a).className="sign-button-R";var e=document.getElementById(a+"TR");if(e){e.style.display="none"}}var d=document.getElementById("button"+f);if(d){document.getElementById("button-L"+f).className="sign-button-L-sel";d.className="sign-button-M-sel";document.getElementById("button-R"+f).className="sign-button-R-sel"}var c=document.getElementById(f+"TR");if(c){c.style.display=""}setNoOrResize(false)}function showPrecessArea(b){try{parent.detailMainFrame.contentIframe.SeeyonForm_HideArrow()}catch(d){}b=b||"32%";try{parent.document.getElementById("zy").cols="*,"+b}catch(d){}var c=document.getElementById("signAreaTable");if(c){c.style.display=""}var a=document.getElementById("signMinDiv");if(a){a.style.display="none";a.style.height="0px"}}function hiddenPrecessArea(){try{parent.detailMainFrame.contentIframe.SeeyonForm_HideArrow()}catch(c){}try{parent.document.getElementById("zy").cols="*,45"}catch(c){}var b=document.getElementById("signAreaTable");if(b){b.style.display="none"}var a=document.getElementById("signMinDiv");if(a){a.style.display="";a.style.height="100%"}setNoOrResize(true)}function refreshIt(){location.reload(true)}function refreshWorkSpace(){var a=getA8Top().reFlesh()}function locationBack(){history.back()}function escapeStringToHTML(c,b,a){if(!c){return""}c=c+"";c=c.replace(/&/g,"&amp;");c=c.replace(/</g,"&lt;");c=c.replace(/>/g,"&gt;");c=c.replace(/\r/g,"");if(typeof(a)=="undefined"||(a==true||a=="true")){c=c.replace(/\n/g,"<br/>")}c=c.replace(/\'/g,"&#039;");c=c.replace(/"/g,"&#034;");if(typeof(b)!="undefined"&&(b==true||b=="true")){c=c.replace(/ /g,"&nbsp;")}return c}function escapeStringToJavascript(a){if(!a){return a}a=a+"";a=a.replace(/\\/g,"\\\\");a=a.replace(/\r/g,"");a=a.replace(/\n/g,"");a=a.replace(/\'/g,"\\'");a=a.replace(/"/g,'\\"');return a}function getParameter(c){var e=document.location.search;if(e){e=e.substring(1);var d=e.split("&");for(var b=0;b<d.length;b++){var a=d[b].split("=");if(c==a[0]){return a[1]}}}}function setSelectValue(c,e){var a=document.getElementById(c);if(!a){return}var d=a.options;if(!d){return}for(var b=0;b<d.length;b++){var f=d[b];if(f.value==e){f.selected=true;break}}}var sxUpConstants={status_0:"0,*",status_1:"35%,*"};var sxDownConstants={status_0:"*,9",status_1:"35%,*"};var sxMiddleConstants={status_0:"35%,*",status_1:"35%,*"};var indexFlag=0;function previewFrame(direction){if(!direction){return}var obj=parent.parent.document.getElementById("sx");if(obj==null){obj=parent.document.getElementById("sx")}if(obj==null){return}if(indexFlag>1){indexFlag=0}var status=eval("sx"+direction+"Constants.status_"+indexFlag);obj.rows=status;if(direction!="Middle"){indexFlag++}}function checkImageSize(a){if(a.width>540){a.width=540}}function getDetailPageBreak(f,d){var a=true;if(f!=true&&(getA8Top().window.dialogArguments||window.opener)){a=false}var c="";try{c=v3x==null?"":v3x.baseURL+"/common/"}catch(b){}document.write('<table id=\'pagebreakspare\' border="0" cellpadding="0" cellspacing="0" width="100%"  height="10" align="center">');document.write('<tr align="center">');document.write("<td style='height:10px; overflow:hidden;' class=\"detail-top\">");if(a){document.write('<table border="0" cellpadding="0" cellspacing="0" width="100%"  height="10">');document.write("<tr>");document.write("<td>");document.write("<div class='break-up' onclick=\"previewFrame('Up')\"></div>");document.write("</td>");document.write("<td>");document.write("<div class='break-down' onclick=\"previewFrame('Down')\"></div>");document.write("</td>");document.write("</tr>");document.write("</table>")}else{document.write("&nbsp;")}document.write("</td>");document.write("</tr>");document.write("</table>");document.close();if(d=="Down"){previewFrame("Down")}else{previewFrame("Middle")}}function getLimitLength(c,a,b){return c.getLimitLength(a,b)}function changeMenuTab(c){var f=document.getElementById("menuTabDiv");var e=c.className;if(e=="tab-tag-middel-sel"){return}var d=f.getElementsByTagName("div");var b;for(b=0;b<d.length;b++){e=d[b].className;if(e.substr(e.length-4)=="-sel"){d[b].className=e.substr(0,e.length-4)}}for(b=0;b<d.length;b++){if(c==d[b]){d[b-1].className=d[b-1].className+"-sel";d[b].className=d[b].className+"-sel";d[b+1].className=d[b+1].className+"-sel"}}var a=document.getElementById("detailIframe").contentWindow;a.location.href=c.getAttribute("url")}function setDefaultTab(d){var c=document.getElementById("menuTabDiv");var b=c.getElementsByTagName("div");b[d*4].className=b[d*4].className+"-sel";b[d*4+1].className=b[d*4+1].className+"-sel";b[d*4+2].className=b[d*4+2].className+"-sel";var a=document.getElementById("detailIframe").contentWindow;a.location.href=b[d*4+1].getAttribute("url")}function getRadioValue(b){var c=document.getElementsByName(b);if(!c){return null}for(var a=0;a<c.length;a++){if(c[a].checked){return c[a].value}}return null}var sx_variable={detailFrameName:"",title:"",imgSrc:"",count:0,description:"",isShow:false};function showDetailPageBaseInfo(a,e,b,d,c){parent.sx_variable.detailFrameName=a;parent.sx_variable.title=e;parent.sx_variable.imgSrc=b;parent.sx_variable.count=d;parent.sx_variable.description=c;parent.doDetailPageBaseInfo()}function doDetailPageBaseInfo(){if(!sx_variable.detailFrameName){return}var detailDocument=null;try{detailDocument=document.getElementById(sx_variable.detailFrameName).contentWindow}catch(e){}if(detailDocument&&detailDocument.document.readyState=="complete"){var flag=eval("detailDocument.detailPageBaseInfoFlag");if(!flag){detailDocument.location.href=v3x.baseURL+"/common/detail.jsp";window.setTimeout("doDetailPageBaseInfo()",500);return}detailDocument.document.getElementById("titlePlace").innerHTML=sx_variable.title;if(sx_variable.count!=null&&sx_variable.count>=0){detailDocument.document.getElementById("countPlace").innerHTML=v3x.getMessage("V3XLang.common_detailPage_count_label","<span class='countNumber'>"+sx_variable.count+"</span>")}detailDocument.document.getElementById("descriptionPlace").innerHTML=sx_variable.description||"";detailDocument.document.getElementById("allDiv").style.display=""}else{window.setTimeout("doDetailPageBaseInfo()",500)}}function reloadDetailPageBaseInfo(){try{parent.doDetailPageBaseInfo()}catch(a){}}function changeTabUnSelected(a){if(a){document.getElementById("l-"+a).className="tab-tag-left";document.getElementById("m-"+a).className="tab-tag-middel cursor-hand";document.getElementById("r-"+a).className="tab-tag-right"}}function changeTabSelected(a){if(a){document.getElementById("l-"+a).className="tab-tag-left-sel";document.getElementById("m-"+a).className="tab-tag-middel-sel";document.getElementById("r-"+a).className="tab-tag-right-sel"}}var newIdes;var pigeonholeItem={};function pigeonhole(b,d,g,e,c,a){pigeonholeItem.collBackFuns=a;newIdes=d;if(typeof(c)=="undefined"){c=""}if(typeof(a)!="undefined"){getA8Top().pigeonholeWin=getA8Top().$.dialog({title:getA8Top().$.i18n("doc.tree.move.title"),transParams:{parentWin:window},closeParam:{show:true,handler:function(){pigeonholeChromeCollBack("cancel")}},url:v3x.baseURL+"/doc.do?method=docPigeonhole&appName="+b+"&atts="+g+"&validAcl="+e+"&pigeonholeType="+c+CsrfGuard.getUrlSurffix(),width:500,height:500,isDrag:false})}else{var f=v3x.openWindow({url:v3x.baseURL+"/doc.do?method=docPigeonhole&appName="+b+"&atts="+g+"&validAcl="+e+"&pigeonholeType="+c+CsrfGuard.getUrlSurffix(),width:"500",height:"500",resizable:"true",scrollbars:"true"});if(f==undefined){f="cancel"}return f}}function pigeonholeChromeCollBack(b){var a=$("#officeFrameDiv");if(a.length>0){a.css("visibility","visible")}getA8Top().pigeonholeWin.close();var c=new Function(pigeonholeItem.collBackFuns+"('"+b+"');");c()}function projectPigeonhole(a,c,b,e){var d=v3x.openWindow({url:_ctxPath+"/doc.do?method=docTreeProjectIframe&appName="+a+"&ids="+c+"&projectId="+b+"&atts="+e,width:"500",height:"500",resizable:"true",scrollbars:"true"});if(d==undefined){d="cancel"}return d}function isPhoneNumber(b){var d=b.value;var a=b.getAttribute("inputName");var c=/^([\d]*)$/;if(!c.test(d)){writeValidateInfo(b,$.i18n("formValidate_isNumber",a));return false}return true}function Avacount(a){var c=a.value;var b=document.getElementById("Avacount").value;if(parseInt(c)>parseInt(b)){alertAvacount();return false}return true}function setScrollPosition(a,d,c){var b=(c!=null)?document.getElementById(c):document.body;b.scrollLeft=a;b.scrollTop=d}function resizeBody(c,a,b,g){try{b=(b=="min")?"min":"max";g=(g=="left")?"left":"right";var f=parent.document.getElementById(a);if(f==null){f=parent.parent.document.getElementById(a)}if(b=="max"){if(document.body.clientWidth>c){if(g=="left"){f.cols=""+c+",*"}else{f.cols="*,"+c+""}}}else{if(document.body.clientWidth<c){if(g=="left"){f.cols=""+c+",*"}else{f.cols="*,"+c+""}}}}catch(d){}}function resizeRightBody(c,a,b){try{var f=parent.document.getElementById(a);if(f==null){f=parent.parent.document.getElementById(a)}if(document.body.clientWidth<c){f.cols="*,"+b+""}}catch(d){}}function cancelOk(){try{var d=arguments[0];if(d!=null){if(d.page!=null&&d.page=="new"){window.location.href=v3x.baseURL+"/common/detail.jsp"}else{if(d.page!=null&&d.page=="edit"){var k=document.forms;for(var c=0;c<k.length;c++){for(var a=0;a<k[c].length;a++){if(d.enable!=null){for(var b=0;b<d.enable.length;b++){if(k[c][a].id==d.enable[b]){break}else{k[c][a].disabled=true}}}else{k[c][a].disabled=true}}}if(d.hidden!=null){for(var f=0;f<d.hidden.length;f++){document.getElementById(d.hidden[f]).style.display="none"}}}else{window.close()}}}else{window.location.href=v3x.baseURL+"/common/detail.jsp"}}catch(h){}}function canShowPeopleCard(a){var c=false;var b=new XMLHttpRequestCaller(this,"ajaxOrgManager","canShowPeopleCard",false);b.addParameter(1,"Long",null);b.addParameter(2,"Long",a);var d=b.serviceRequest();if(d==true||d=="true"){c=true}return c}function showV3XMemberCard(a,b){if(!canShowPeopleCard(a)){return}newPeopleCardDialog=getA8Top().$.dialog({id:"newPeopleCardDialog",transParams:{parentWin:window},title:" ",isHead:false,url:getBaseURL()+"/organization/peopleCard.do?method=showPeoPleCard&type=withbutton&memberId="+a+CsrfGuard.getUrlSurffix(),width:455,height:530,top:50,closeParam:{show:false}})}function showV3XMemberCardWithOutButton(a,b){if(!canShowPeopleCard(a)){return}if(getA8Top().isCtpTop){getA8Top().newPeopleCardWithoutButtonDialog=getA8Top().$.dialog({id:"newPeopleCardWithoutButtonDialog",transParams:{parentWin:window},title:" ",isHead:false,url:getBaseURL()+"/organization/peopleCard.do?method=showPeoPleCard&type=withoutbutton&memberId="+a+CsrfGuard.getUrlSurffix(),width:455,height:465,top:50,closeParam:{show:false}})}else{getA8Top().newPeopleCardWithoutButtonDialog=v3x.openDialog({id:"newPeopleCardWithoutButtonDialog",title:" ",isHead:false,transParams:{parentWin:window},targetWindow:b==undefined?getA8Top():b,url:getBaseURL()+"/organization/peopleCard.do?method=showPeoPleCard&type=withoutbutton&memberId="+a+CsrfGuard.getUrlSurffix(),width:455,height:515,closeParam:{show:false}})}}function ajaxCheckAccountExchangePendingAffair(c,e){try{var a=new XMLHttpRequestCaller(this,"ajaxEdocExchangeManager","checkEdocExchangeHasPendingAffair",false);a.addParameter(1,"Long",c);var b=a.serviceRequest();if(b!="0"){if(e!=""){alert(v3x.getMessage("MainLang.edoc_alert_hasExchangePendingAffair",e))}else{alert(v3x.getMessage("MainLang.edoc_alert_notdelteAllExchanger"))}return true}return false}catch(d){alert("Exception : "+d);return false}}function isOpenFromGenius(){var b=false;try{b=getA8Top().location.href.indexOf("a8genius.do")>-1}catch(a){alert(a)}return b}if(navigator.userAgent.indexOf("iPad")!=-1){window.addEventListener("load",function(){getA8Top().document.body.style.height="690px"})}function setFFGrid(a,b){if(a==""||b==false){return}if(document.all){window.attachEvent("onload",function(){mxtgrid(a)});window.attachEvent("onresize",function(){resizeGrid(a,b)})}else{mxtgrid(a);window.addEventListener("resize",function(){resizeGrid(a,b)},false)}}function mxtgrid(e){var c={id:"",srollLeft:0,_srollLeft:0,dragLeft:0,xStart:0,xEnd:0,eStart:0,oMove:null,iIndex:0,_drag:0,stopDrag:false,dragFlag:false,scroll:function(){c.hDiv.scrollLeft=c.bDiv.scrollLeft},setPosition:function(){var f=parseInt(c.hDiv.scrollLeft);var j=c.srollLeft-f;c.cDrag.style.display="none";var l=c.cDrag.childNodes;for(var h=0;h<l.length;h++){var k=l[h];if(typeof k=="object"&&k.nodeType!=3){var g=parseInt(k.style.left)+j;k.style.left=g+"px"}}c.srollLeft=f;c.cDrag.style.display=""},setDragPosition:function(){var f=parseInt(c.hDiv.scrollLeft);var h=c.srollLeft-f;c.cDrag.style.display="none";var l=c.cDrag.childNodes;for(var g=0;g<l.length;g++){var k=l[g];if(typeof k=="object"&&k.nodeType!=3){var j=parseInt(k.style.left)+h;k.style.left=j+"px"}}c.srollLeft=f;c.cDrag.style.display=""},attEvt:function(){var h=c.cDrag.childNodes;for(var f=0;f<h.length;f++){var g=h[f];if(typeof g=="object"&&g.nodeType!=3){g.onmousedown=c.dragStart}}},getIndex:function(){if(c.oMove!=null&&c.cDrag!=null){var g=c.cDrag.childNodes;for(var f=0;f<g.length;f++){if(g[f]==c.oMove){c.iIndex=f}}}},dragStart:function(){c.oMove=this;c.moveOrigintLeft=parseInt(c.oMove.style.left);c.getIndex();document.onmousedown=c.mousedown;document.onmousemove=c.mousemove;document.onmouseup=c.mouseup;document.onselectstart=function(){return false};document.onselect=function(){document.selection.empty()}},mousedown:function(g){c.bDiv.style.overflowY="auto";c.bDiv.style.overflowX="auto";c.dragFlag=true;var f=c.getEvent();c.eStart=c.xStart=document.all?f.x:f.pageX;document.body.style.cursor="col-resize"},mousemove:function(l){if(!c.dragFlag){return}var k=c.getEvent();var g=document.all?k.x:k.pageX;var f=g-c.eStart;var j=c.oMove.previousSibling;var h=parseInt(c.oMove.style.left)+f;if(h>c.clientWidth||h<50){c.xEnd=c.eStart;c.oMove.style.left=c.moveOrigintLeft+"px";document.body.style.cursor="default";c.dragFlag=false;c.stopDrag=false;c.oMove=null;document.onmousedown=null;document.onmousemove=null;document.onmouseup=null;document.onselectstart=null;document.onselect=null}else{if(j!=null){if(h>(parseInt(j.style.left)+50)){c.oMove.style.left=h+"px";c.eStart=g}else{c.stopDrag=true}}else{if(h>50){c.oMove.style.left=h+"px";c.eStart=g}else{c.stopDrag=true}}}},mouseup:function(g){if(!c.dragFlag){return}var f=c.getEvent();c.xEnd=document.all?f.x:f.pageX;if(c.stopDrag){c.xEnd=c.eStart}c.setDragPosition();c.setHeadWidth();c.setListWidth();if(c._drag<0&&c.hDiv.scrollLeft==0){c.bDiv.scrollLeft=0}else{c.hDiv.scrollLeft=c.bDiv.scrollLeft}c.setPosition();document.body.style.cursor="default";c.dragFlag=false;c.stopDrag=false;c.oMove=null;document.onmousedown=null;document.onmousemove=null;document.onmouseup=null;document.onselectstart=null;document.onselect=null;if(!document.all){}},setHeadWidth:function(){var f=c.oHead.childNodes[c.iIndex];var g=f.childNodes[0];var h=parseInt(g.style.width)+c._drag;g.style.width=h+"px";f.setAttribute("width",h);c.globalWidth=c.bTable.clientWidth;c.hTable.setAttribute("width",c.globalWidth+c._drag);if(c.noBody==true){c.bDiv.innerHTML="<div style='width:"+(c.holeWidth+c._drag)+"px'>&nbsp;</div>"}},setListWidth:function(){var g=c.oBody.childNodes;for(var k=0;k<g.length;k++){var j=g[k].childNodes[c.iIndex];var f=j.childNodes[0];var h=parseInt(f.style.width)+c._drag;f.style.width=h+"px";j.setAttribute("width",h)}c.bTable.setAttribute("width",c.globalWidth+c._drag)},setDragPosition:function(){c._srollLeft=parseInt(c.hDiv.scrollLeft);c._drag=c.xEnd-c.xStart;var j=c.cDrag.childNodes;for(var g=(c.iIndex+1);g<j.length;g++){var h=j[g];if(typeof h=="object"&&h.nodeType!=3){var f=parseInt(h.style.left)+c._drag;h.style.left=f+"px"}}},getEvent:function(){if(document.all){return window.event}func=c.getEvent.caller;while(func!=null){var f=func.arguments[0];if(f){if((f.constructor==Event||f.constructor==MouseEvent)||(typeof(f)=="object"&&f.preventDefault&&f.stopPropagation)){return f}}func=func.caller}return null},removeTextNode:function(g){var j=g.childNodes;for(var f=0;f<j.length;++f){var h=j[f];if(h.nodeType!=1){h.parentNode.removeChild(h)}}},setWidth:function(){var r=new ArrayList();var x=c.oHead.childNodes;var k=c.subHeight==0?Math.floor(c.clientWidth-x.length*12-2):Math.floor(c.clientWidth-x.length*12-20);var D=27;c.cDrag.style.display="none";var B=0;var s=0;for(var q=0;q<x.length;++q){var g=x[q];if(g.nodeType!=1){continue}var w=g.childNodes[0];var u=c.cDrag.childNodes[q];var l=null;l=g.getAttribute("width");if(l==null||l==undefined||l==""){l="5%"}var A;if(l.indexOf("%")!=-1){A=Math.floor(k*(parseInt(l))/100)}else{A=Math.floor(l)}B+=A+10;r.add(A);s+=A;g.setAttribute("width","");w.style.width=A+"px";u.style.left=(B+q*2-1)+"px";u.style.height=D+"px"}c.holeWidth=s+x.length*12+2;c.cDrag.style.display="";var y=c.oBody.childNodes;if(y.length!=0){for(var m=0;m<y.length;++m){var z=y[m].childNodes;for(var h=0;h<z.length;++h){var t=z[h];if(t.childNodes.length==0){continue}t.childNodes[0].style.width=r.get(h)+"px";if(v3x.isMSIE7&&!v3x.isMSIE8&&!v3x.isMSIE9){t.setAttribute("width",(r.get(h)+10))}}}}else{c.noBody=true;c.bDiv.innerHTML="<div style='width:"+c.holeWidth+"px'>&nbsp;</div>"}},setTitle:function(){var k=c.oHead.childNodes;for(var f=0;f<k.length;++f){var j=k[f];var h=j.childNodes[0];if(h){var g=h.innerHTML;if(g.indexOf("<INPUT")!=-1||g.indexOf("<IMG")!=-1||g.indexOf("<FONT")!=-1||g.indexOf("<SPAN")!=-1){g=""}h.setAttribute("title",g)}}}};c.id=e;c.layoutdiv=document.getElementById("scrollListDiv");if(c.layoutdiv==null){c.layoutdiv=document.body}else{c.layoutdiv.style.overflow="hidden"}c.clientWidth=parseInt(c.layoutdiv.clientWidth);c.clientHeight=parseInt(c.layoutdiv.clientHeight);if(c.clientHeight<=0||c.clientWidth<=0){setTimeout(function(){mxtgrid(c.id)},100)}c.mxtgrid=document.getElementById("mxtgrid_"+e);c.mxtgrid.style.display="none";c.hTable=document.getElementById("hTable"+e);c.bTable=document.getElementById("bTable"+e);c.bDiv=document.getElementById("bDiv"+e);c.hDiv=document.getElementById("hDiv"+e);c.cDrag=document.getElementById("cDrag"+e);c.oHead=document.getElementById("headID"+e);c.oBody=document.getElementById("bodyID"+e);c.subHeight=parseInt(c.mxtgrid.getAttribute("subHeight"));if(c.subHeight!=0){c.mxtgrid.style.width=c.clientWidth+"px"}if(c.clientHeight-90-c.subHeight<=0){return}var d=v3x.isMSIE6&&!v3x.isMSIE7&&!v3x.isMSIE8&&!v3x.isMSIE9;if((c.oBody.childNodes.length*28+90)>c.clientHeight){c.clientWidth=c.clientWidth-17}c.bDivHeight=c.clientHeight-90-c.subHeight;c.bDiv.style.height=c.bDivHeight+"px";setTimeout(function(){if(parseInt(c.layoutdiv.clientHeight)!=c.clientHeight&&v3x.isMSIE){resizeGrid(c.id,true)}},0);if(d){c.layoutdivParent=c.layoutdiv.parentNode;c.bDiv.style.height=(c.bDivHeight-parseInt(c.layoutdivParent.currentStyle.paddingTop))+"px"}c.removeTextNode(c.cDrag);c.removeTextNode(c.oHead);c.removeTextNode(c.oBody);var b=c.oBody.childNodes;for(var a=0;a<b.length;++a){c.removeTextNode(b[a])}c.setTitle();c.setWidth();c.attEvt();c.bDiv.onscroll=function(){c.scroll();c.setPosition()};if(c.bTable.clientWidth<c.bDiv.clientWidth){c.bDiv.style.overflowY="auto";c.bDiv.style.overflowX="hidden"}c.mxtgrid.style.display=""}function setTablePosition(a,b){if(b==null){if(a!=null&&a.document!=null&&a.document.rowPositionObj){a.document.rowPositionObj.focus()}else{return}}else{a.target.focus()}}function setPositionObj(a){document.rowPositionObj=a}function resizeGrid(q,h){try{var o=q;var r=document.getElementById("scrollListDiv");if(r==null||r.clientHeight<=0){r=document.body}var t=Math.floor(r.clientWidth);var j=Math.floor(r.clientHeight);if(j<=0){return}var u=document.getElementById("mxtgrid_"+o);var w=document.getElementById("hTable"+o);var a=document.getElementById("bTable"+o);u.style.display="none";var m=document.getElementById("bDiv"+o);var k=document.getElementById("hDiv"+o);var b=document.getElementById("cDrag"+o);var B=document.getElementById("headID"+o);var f=document.getElementById("bodyID"+o);var A=parseInt(u.getAttribute("subHeight"));if(A!=0){u.style.width=t+"px"}if(j-90-A<=0){return}var n=v3x.isMSIE6&&!v3x.isMSIE7&&!v3x.isMSIE8&&!v3x.isMSIE9;if(n){t=t-15}var d=j-90-A;m.style.height=d+"px";if(n){layoutdivParent=r.parentNode;m.style.height=(d-parseInt(layoutdivParent.currentStyle.paddingTop))+"px"}var l=j-35;var z=Math.floor(a.clientHeight);if(z<j){l=z+29}if(l<=0){return}b.style.display="none";var y=b.childNodes;for(var s=0;s<y.length;++s){var g=y[s];g.style.height=l+"px"}b.style.display="";u.style.display=""}catch(x){}}function MxtWindow(c){if(c==null){return}this.id=c.id?c.id:Math.floor(Math.random()*100000000);this.title=c.title;this.url=c.url;this.height=c.height==null?250:c.height;this.width=c.width==null?300:c.width;this.titleHeight=50;this.footerHeight=50;this.top=c.top;this.left=c.left;this.model=c.model==null?true:false;this.className=c.calssName==null?"mxt-window":c.classNam;this.element=c.obj;this.relativeElement=c.relativeElement;this.isCeate=true;this.buttons=c.buttons;this.isSynchronization=c.isSynchronization==null?false:true;this.userAgent=navigator.userAgent.toLowerCase();this.isOpera=this.userAgent.indexOf("opera")>-1;this.isIE=this.userAgent.indexOf("msie")>-1&&!this.isOpera;this.isNS=this.userAgent.indexOf("netscape")>-1;this.dragDiv=null;this.isIframe=false;this.iframe=null;this.iframeId=null;this.html=c.html;this.offsetTop=0;this.offsetLeft=0;this.discription=c.discription==undefined?"":c.discription;this.closeParam=c.closeParam;this.closeHidden=c.closeHidden==undefined?false:c.closeHidden;this.transParams=c.transParams==undefined?null:c.transParams;this.targetWindow=c.targetWindow==undefined?window:c.targetWindow;this.maskIndex=this.targetWindow.getMaxZindex(2);var e=parseInt(this.targetWindow.document.documentElement.clientWidth);var d=parseInt(this.targetWindow.document.body.clientWidth);if(d>e){e=d}if(e<this.width){this.width=e}var a=parseInt(this.targetWindow.document.documentElement.clientHeight);var b=parseInt(this.targetWindow.document.body.clientHeight);if(b>a){a=b}if(a<this.height){this.height=a}this.type=c.type==null?"window":c.type;this.isDrag=c.isDrag==null?true:c.isDrag;this.initWindow();this.isModel();this.showWindow();this.addEffect();this.showWindow()}MxtWindow.prototype.setTitle=function(b){var a=this.targetWindow.document.getElementById(this.id+"-mxtwindow-title");if(a){a.innerHTML=b}};MxtWindow.prototype.setIndex=function(){};MxtWindow.prototype.getClass=function(c,b){if(this.targetWindow.document.getElementsByClassName){return this.targetWindow.document.getElementsByClassName(b)}else{var c=this.targetWindow.document.getElementsByTagName(c);var d=[];for(var a=0;a<c.length;a++){if(c[a].className==b){d[d.length]=c[a]}}return d}};MxtWindow.prototype.getReturnValue=function(d){var c=null;var b=this.targetWindow;var h=null;if(this.isIE){try{h=b.document.frames(this.iframeId)}catch(g){h=b.frames[this.iframeId]}}else{h=b.frames[this.iframeId]}if(h==null){try{for(var f=0;f<b.frames.length;f++){if(b.frames[f].name==this.iframeId){c=f;break}}if(c!=null){h=b.frames[c]}}catch(g){h=b.document.getElementById(this.iframeId)}}if(h==null){h=document.getElementById(this.iframeId)}if(h!=null){var a=null;if(h.contentWindow){if(typeof(d)!="undefined"&&d!=null){a=h.contentWindow.OK(d)}else{a=h.contentWindow.OK()}}else{if(typeof(d)!="undefined"&&d!=null){a=h.OK(d)}else{a=h.OK()}}return a}else{return null}};MxtWindow.prototype.initWindow=function(){var a=this.getElement(this.id);if(a!=null){this.removeElement(a)}if(this.url==null){this.isIframe=false}else{this.isIframe=true}if(this.relativeElement!=null){var d=this.relativeElement.offsetLeft;var c=this.relativeElement.offsetTop;var b=this.relativeElement;do{b=b.offsetParent;d+=b.offsetLeft;c+=b.offsetTop}while(b.tagName!="BODY");this.offsetLeft=d;this.offsetTop=c}if(this.buttons==null||this.buttons==undefined){this.footerHeight=0}if(this.type=="window"){this.getWindow()}else{this.getPanel()}};MxtWindow.prototype.addEffect=function(){if(this.isDrag){new this.targetWindow.MxtWindow.divDrag([this.dragDiv,this.element])}};MxtWindow.prototype.showWindow=function(){if(this.targetWindow.document.getElementById(this.id)!=null){return}if(this.isSynchronization){if(this.targetWindow.document.getElementById("_isSynchronization")!=null){return}}this.targetWindow.document.body.appendChild(this.element);if(this.transParams!=null){try{this.iframe.contentWindow.transParams=this.transParams}catch(a){this.iframe.contentWindow.transParams=this.transParams}}if(getCtpTop().isOffice){hideOfficeObj()}};MxtWindow.prototype.isModel=function(){if(this.model){if(this.targetWindow.document.getElementById(this.id+"_oMxtMask")!=null){return}var c=this.targetWindow.document.createElement("div");c.id=this.id+"_oMxtMask";c.className="shield";var b=parseInt(this.targetWindow.document.body.scrollWidth);var a=parseInt(this.targetWindow.document.body.scrollHeight);var d="top:0px;left:0px;position:absolute;z-index:"+this.maskIndex+";background:#000000;width:"+b+"px;height:"+a+"px;filter: alpha(opacity=25);-moz-opacity: 0.25;opacity: 0.25;";c.style.cssText=d;this.targetWindow.document.body.appendChild(c)}else{return}};MxtWindow.prototype.close=function(a){try{this.targetWindow.document.getElementById(this.iframeId).contentWindow.document.getElementById("docOpenBodyFrame").contentWindow.document.getElementById("officeEditorFrame").contentWindow.pdfOcxUnLoad()}catch(a){}try{this.targetWindow.document.getElementById(this.iframeId).contentWindow.document.getElementById("docOpenBodyFrame").contentWindow.document.getElementById("officeEditorFrame").contentWindow.OcxUnLoad()}catch(a){}this.targetWindow.document.getElementById(this.iframeId).src="";this.removeElement(this.targetWindow.document.getElementById(this.id));if(this.model){if(this.targetWindow.document.getElementById(this.id+"_oMxtMask")!=null){this.removeElement(this.targetWindow.document.getElementById(this.id+"_oMxtMask"))}}if(getCtpTop().isOffice){showOfficeObj()}};MxtWindow.prototype.getPanel=function(){this.element=this.createObj("div");this.element.className=this.className;this.element.id=this.id;if(this.isIE){this.element.style.width=this.width+2+"px";this.element.style.height=this.height-8+"px"}else{this.element.style.width=this.width+"px";this.element.style.height=this.height-5+"px"}if(this.relativeElement!=null){this.top=parseInt(this.offsetTop)+parseInt(this.relativeElement.offsetHeight)+"px";this.left=parseInt(this.offsetLeft)+"px";if(parseInt(this.offsetLeft)+parseInt(this.relativeElement.offsetWidth)+parseInt(this.width)>parseInt(this.targetWindow.document.body.clientWidth)){this.left=parseInt(this.offsetLeft)-this.width+"px"}}if(this.top==null){this.top=(parseInt(this.targetWindow.document.body.clientHeight)-this.height)/2+"px";this.left=(parseInt(this.targetWindow.document.body.clientWidth)-this.width)/2+"px"}this.element.style.top=this.top;this.element.style.left=this.left;var j=this.createObj("div");j.className="mxt-panel-head";j.style.height="20px";j.onselectstart=function(){return false};this.dragDiv=j;var l=this.createObj("span");l.className="mxt-panel-head-close";var m=this;MxtWindow.addEvent(l,"click",function(o){return m.close(o)},false);j.appendChild(l);var d=this.createObj("div");d.className="mxt-panel-body";d.style.height=this.height-this.footerHeight-10+"px";d.appendChild(j);if(this.isIframe){this.iframeId=parseInt(Math.random()*10000)+"-iframe";var e=this.targetWindow.document.createElement("iframe");e.setAttribute("src",this.url);e.id=this.iframeId;e.name=this.iframeId;e.setAttribute("frameborder","0");e.className="mxt-window-body-iframe";e.style.height=parseInt(d.style.height)-0+"px";e.style.width=this.width-0+"px";this.iframe=e;d.appendChild(this.iframe)}else{var f=this.createObj("div");f.className="mxt-panel-body-content";f.style.height=parseInt(d.style.height)-10+"px";if(this.html){f.innerHTML=this.html}d.appendChild(f)}this.element.appendChild(d);var k=this.createObj("div");k.className="mxt-panel-footer";k.style.height=this.footerHeight+"px";if(this.discription!=null){var c=this.createObj("div");c.className="discriptionDiv";c.innerHTML=this.discription;k.appendChild(c)}if(this.buttons!=null&&this.buttons.length>0){var h=this.createObj("div");h.className="buttonsDiv";for(var b=0;b<this.buttons.length;b++){var a=this.buttons[b];var n=this.createObj("input");n.setAttribute("type","button");n.className="button-default-2";if(a.text){n.setAttribute("value",a.text)}if(a.id){n.setAttribute("id",a.id)}if(a.disabled){n.setAttribute("disabled",a.disabled)}if(a.handler){MxtWindow.addEvent(n,"click",a.handler,false)}h.appendChild(n)}k.appendChild(h)}this.element.appendChild(k);if(this.isSynchronization){var g=this.createObj("input");g.setAttribute("type","hidden");g.setAttribute("id","_isSynchronization");this.element.appendChild(g)}};MxtWindow.prototype.getWindow=function(){this.element=this.createObj("div");this.element.className=this.className;this.element.id=this.id;this.element.style.width=this.width+"px";this.element.style.height=this.height+"px";this.element.style.zIndex=this.maskIndex+1;this.elementContent=this.createObj("div");this.elementContent.style.position="absolute";this.elementContent.style.zIndex="10";this.elementContent.style.width="100%";this.element.appendChild(this.elementContent);this.iframeMask=this.targetWindow.document.createElement("iframe");this.iframeMask.style.position="absolute";this.iframeMask.style.zIndex="1";this.iframeMask.id=this.iframeId+"_iframeMask";this.iframeMask.setAttribute("frameBorder","0");this.iframeMask.style.width=(this.width+3)+"px";this.iframeMask.style.height=this.height+"px";this.element.appendChild(this.iframeMask);if(this.relativeElement!=null){this.top=parseInt(this.offsetTop)+parseInt(this.relativeElement.offsetHeight)+"px";this.left=parseInt(this.offsetLeft)+"px";if(parseInt(this.offsetLeft)+parseInt(this.relativeElement.offsetWidth)/2+parseInt(this.width)>parseInt(this.targetWindow.document.body.clientWidth)){this.left=parseInt(this.offsetLeft)-this.width+"px"}}if(this.top==null){this.top=(parseInt(this.targetWindow.document.body.clientHeight)-this.height)/2+"px";this.left=(parseInt(this.targetWindow.document.body.clientWidth)-this.width)/2+"px"}this.element.style.top=this.top;this.element.style.left=this.left;var j=this.createObj("div");j.className="mxt-window-head";j.style.height=this.titleHeight+"px";if(!this.isDrag){j.style.cursor="default"}j.onselectstart=function(){return false};this.dragDiv=j;var k=this.createObj("span");k.id=this.id+"-mxtwindow-title";k.className="mxt-window-head-title";k.innerHTML=this.title;k.style.width=this.width-80+"px";var m=this.createObj("span");m.className="mxt-window-head-close";var n=this;if(this.closeParam&&this.closeParam.handler){MxtWindow.addEvent(m,"click",this.closeParam.handler,false)}else{MxtWindow.addEvent(m,"click",function(q){return n.close(q)},false)}if(this.closeHidden){m.style.display="none"}j.appendChild(k);j.appendChild(m);var d=this.createObj("div");d.className="mxt-window-body";d.style.height=this.height-this.titleHeight-this.footerHeight-0+"px";if(this.isIframe){this.iframeId=parseInt(Math.random()*10000)+"-iframe";var e=this.targetWindow.document.createElement("iframe");e.setAttribute("src",this.url);e.id=this.iframeId;e.name=this.iframeId;e.setAttribute("frameBorder","0");e.className="mxt-window-body-iframe";e.style.height=parseInt(d.style.height)-5+"px";e.style.width=this.width+"px";this.iframe=e;d.appendChild(this.iframe)}else{var f=this.createObj("div");f.className="mxt-window-body-content";f.style.height=parseInt(d.style.height)-10+"px";if(this.html){f.innerHTML=this.html}d.appendChild(f)}this.elementContent.appendChild(j);this.elementContent.appendChild(d);var l=this.createObj("div");l.className="mxt-window-footer";l.style.height=this.footerHeight+"px";l.style.background="#4D4D4D";if(this.discription!=null||this.discription!=""){var c=this.createObj("div");c.className="discriptionDiv";c.innerHTML=this.discription;l.appendChild(c)}if(this.buttons!=null&&this.buttons.length>0){var h=this.createObj("div");h.className="buttonsDiv";for(var b=0;b<this.buttons.length;b++){var a=this.buttons[b];var o=this.createObj("input");o.setAttribute("type","button");o.className="button-default-2 margin_l_10";if(a.emphasize){o.className="button-default_emphasize margin_l_10"}if(a.text){o.setAttribute("value",a.text)}if(a.id){o.setAttribute("id",a.id)}if(a.disabled){o.setAttribute("disabled",a.disabled)}if(a.handler){MxtWindow.addEvent(o,"click",a.handler,false)}h.appendChild(o)}l.appendChild(h)}this.elementContent.appendChild(l);if(this.isSynchronization){var g=this.createObj("input");g.setAttribute("type","hidden");g.setAttribute("id","_isSynchronization");this.element.appendChild(g)}};MxtWindow.prototype.reloadUrl=function(a){var b=a;b?null:b=this.url;var c=this.targetWindow.document.getElementById(this.iframeId);c.setAttribute("src",b)};MxtWindow.addEvent=function(c,b,d,a){try{if(c.addEventListener){c.addEventListener(b,d,a)}else{if(c.attachEvent){c.attachEvent("on"+b,d)}}}catch(f){}};MxtWindow.prototype.removeElement=function(a){a.parentNode.removeChild(a)};MxtWindow.prototype.createObj=function(a,c){var b=this.targetWindow.document.createElement(a);b.id=c==null?"":c;return b};MxtWindow.prototype.getElement=function(a){if(a==null){return null}else{return document.getElementById(a)}};Array.prototype.extend=function(b){for(var c=0,a=b.length;c<a;c++){this.push(b[c])}return this};MxtWindow.divDrag=function(){var a,d,b;var c=2000;this.dragStart=function(f){f=f||window.event;if((f.which&&(f.which!=1))||(f.button&&(f.button!=1))){return}var g=this.$pos;b=this.parent||this;if(document.defaultView){_top=document.defaultView.getComputedStyle(b,null).getPropertyValue("top");_left=document.defaultView.getComputedStyle(b,null).getPropertyValue("left")}else{if(b.currentStyle){_top=b.currentStyle.top;_left=b.currentStyle.left}}g.ox=(f.pageX||(f.clientX+document.documentElement.scrollLeft))-parseInt(_left);g.oy=(f.pageY||(f.clientY+document.documentElement.scrollTop))-parseInt(_top);if(!!a){if(document.removeEventListener){document.removeEventListener("mousemove",a,false);document.removeEventListener("mouseup",d,false);document.onselectstart=function(){return true}}else{document.detachEvent("onmousemove",a);document.detachEvent("onmouseup",d)}}a=this.dragMove.create(this);d=this.dragEnd.create(this);if(document.addEventListener){document.addEventListener("mousemove",a,false);document.addEventListener("mouseup",d,false)}else{document.attachEvent("onmousemove",a);document.attachEvent("onmouseup",d)}this.stop(f)};this.dragMove=function(f){f=f||window.event;var g=this.$pos;b=this.parent||this;b.style.top=(f.pageY||(f.clientY+document.documentElement.scrollTop))-parseInt(g.oy)+"px";b.style.left=(f.pageX||(f.clientX+document.documentElement.scrollLeft))-parseInt(g.ox)+"px";this.stop(f)};this.dragEnd=function(f){var g=this.$pos;f=f||window.event;if((f.which&&(f.which!=1))||(f.button&&(f.button!=1))){return}b=this.parent||this;if(!!(this.parent)){this.style.backgroundColor=g.color}if(document.removeEventListener){document.removeEventListener("mousemove",a,false);document.removeEventListener("mouseup",d,false)}else{document.detachEvent("onmousemove",a);document.detachEvent("onmouseup",d)}a=null;d=null;this.stop(f)};this.shiftColor=function(){};this.position=function(h){var g=h.offsetTop;var f=h.offsetLeft;while(h=h.offsetParent){g+=h.offsetTop;f+=h.offsetLeft}return{x:f,y:g,ox:0,oy:0,color:null}};this.stop=function(f){if(f.stopPropagation){f.stopPropagation()}else{f.cancelBubble=true}if(f.preventDefault){f.preventDefault()}else{f.returnValue=false}};this.stop1=function(f){f=f||window.event;if(f.stopPropagation){f.stopPropagation()}else{f.cancelBubble=true}};this.create=function(g){var f=this;var e=g;return function(h){return f.apply(e,[h])}};this.dragStart.create=this.create;this.dragMove.create=this.create;this.dragEnd.create=this.create;this.shiftColor.create=this.create;this.initialize=function(){for(var e=0,f=arguments.length;e<f;e++){C=arguments[e];if(!(C.push)){C=[C]}$C=(typeof(C[0])=="object")?C[0]:(typeof(C[0])=="string"?$(C[0]):null);if(!$C){continue}$C.$pos=this.position($C);$C.dragMove=this.dragMove;$C.dragEnd=this.dragEnd;$C.stop=this.stop;if(!!C[1]){$C.parent=C[1];$C.$pos.color=$C.style.backgroundColor}if($C.addEventListener){$C.addEventListener("mousedown",this.dragStart.create($C),false);if(!!C[1]){$C.addEventListener("mousedown",this.shiftColor.create($C),false)}}else{$C.attachEvent("onmousedown",this.dragStart.create($C));if(!!C[1]){$C.attachEvent("onmousedown",this.shiftColor.create($C))}}}};this.initialize.apply(this,arguments)};MxtWindow.prototype.addShadow=function(){obj=this.element;if(!obj){return false}var s=navigator.userAgent.toLowerCase();var b=s.indexOf("opera")>-1;var e=s.indexOf("msie")>-1&&!b;var q=s.indexOf("netscape")>-1;var k=obj.offsetWidth;var o=obj.offsetHeight;var c=0;var m=0;var l=function(t){if(!t){return false}var w=0,u=0;if(e||b){while(t!=null&&t.nodeName!="#document"){w+=t.offsetLeft;u+=t.offsetTop;t=t.parentNode}}else{u=t.offsetTop;w=t.offsetLeft}return{T:u,L:w}};var r=l(obj);c=r.L;m=r.T;var j=this.targetWindow.document.createElement("div");var h=this.targetWindow.document.createElement("div");var g=this.targetWindow.document.createElement("div");var f=this.targetWindow.document.createElement("div");var a=function(w,u,t){if(!w){return false}if(!b){if(!t){w.style.cssText=u}else{w.style.cssText+=u}}else{if(!t){w.setAttribute("style",u)}else{w.setAttribute("style",w.getAttribute("style")+";"+u)}}};var d="width:100%;height:100%;position:absolute;margin:0px;padding:0px;top:-1px;left:-1px";a(j,"position:absolute;left:"+(c+3)+"px;top:"+(m+3)+"px;width:"+k+"px;height:"+o+"px;background:#eee");a(h,d+";background:#ddd");a(g,d+";background:#ccc");a(f,d+";background:#fff");if(e||q){a(j,";z-index:-1",1)}else{a(obj,"position:absolute;z-index:2;left:+"+c+"px;top:"+m+"px",1)}j.appendChild(h);h.appendChild(g);g.appendChild(f);var n=this.targetWindow.document.createElement("div");n.className="mxt-window";n.appendChild(j);n.appendChild(obj);this.element=n};function initIpadScroll(d,a,b){if(v3x.isIpad){var c=document.getElementById(d);if(c){if(a){c.style.height=a+"px"}if(b){c.style.width=b+"px"}c.style.overflow="auto";touchScroll(d)}}}function initIe10AutoScroll(d,c){var a=window.top.document.getElementById("main");var b=a!=null?a.offsetHeight-c:parseInt(window.top.document.body.offsetHeight)-c;if(b<0){return}initIe10Scroll(d,b)}function initIe10Scroll(d,a,b){var c=document.getElementById(d);if(c){if(a){c.style.height=a+"px"}if(b){c.style.width=b+"px"}}}function initFFScroll(d,a,b){if(v3x.isFirefox){var c=document.getElementById(d);if(c){if(a){c.style.height=a+"px"}if(b){c.style.width=b+"px"}c.style.overflow="auto"}}}function initSafariScroll(d,a,b){if(v3x.isSafari){var c=document.getElementById(d);if(c){if(a){c.style.height=a+"px"}if(b){c.style.width=b+"px"}c.style.overflow="auto"}}}function initChromeScroll(d,a,b){if(v3x.isChrome){var c=document.getElementById(d);if(c){if(a){c.style.height=a+"px"}if(b){c.style.width=b+"px"}c.style.overflow="auto"}}}function isTouchDevice(){try{document.createEvent("TouchEvent");return true}catch(a){return false}}function touchScroll(d){if(isTouchDevice()){var a=document.getElementById(d);var b=0;var c=0;a.addEventListener("touchstart",function(e){b=this.scrollTop+e.touches[0].pageY;c=this.scrollLeft+e.touches[0].pageX},false);a.addEventListener("touchmove",function(e){this.scrollTop=b-e.touches[0].pageY;this.scrollLeft=c-e.touches[0].pageX;e.preventDefault()},false)}}function isDecimal(b,a,d,c){if(!testRegExp(b,"^-?[0-9]{0,"+(d?d:"")+"}\\.?[0-9]{1,"+(c?c:"")+"}$")){if(a){alert($.i18n("formValidate_isNumber",a))}return false}return true}function showPushWindow(j){var g="";var f=document.getElementById("edocType");var d=document.getElementById("pushMessageMemberIds");if(f){g=f.value}var e=document.getElementById("pushMessageMemberIds").value;var a=colWorkFlowURL+"?method=showPushWindow&summaryId="+j+"&edocType="+g+"&sel="+encodeURIat(e);var b=document.getElementById("replyedAffairId");if(b!=null&&typeof(b)!="undefined"){a+="&replyedAffairId="+b.value}var h=v3x.openWindow({url:a,height:350,width:300});if(typeof(h)!="undefined"&&h!=null){var l=h[0];var k=h[1];document.getElementById("pushMessageMemberIds").value=l;var c=document.getElementById("pushMessageMemberNames");if(c&&b!=b.value){c.value=k;c.title=k}}}function sendSMSV3X(a){var b=getBaseURL()+"/message.do?method=showSendSMSDlg";if(a){b+="&receiverIds="+a}if(getA8Top().isCtpTop){getA8Top().senSmsWin=getA8Top().$.dialog({title:"发送短信",transParams:{parentWin:window},url:b,width:420,height:280,isDrag:false})}else{getA8Top().senSmsWin=v3x.openDialog({title:"发送短信",transParams:{parentWin:window},url:b,width:420,height:280,isDrag:false})}}function sendSmsCollBack(a){getA8Top().senSmsWin.close();if(!a){return}alert(a)}function sendMessageForCard(a,c){var b;if(a){b="/seeyon/message.do?method=showSendDlg&getData=fromParent"}else{b="/seeyon/message.do?method=showSendDlg&receiverIds="+c}v3x.openWindow({url:b,width:"440",height:"300"})}function sendMessageForIMTab(d,a){if(!getA8Top().contentFrame.topFrame.onlineWin){var c=50;var b=(window.screen.availHeight-600)/2;getA8Top().contentFrame.topFrame.onlineWin=getA8Top().contentFrame.topFrame.open("/seeyon/message.do?method=showOnlineUser&id="+d+"&name="+a,"","left="+c+",top="+b+",width=600,height=600,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}else{getA8Top().contentFrame.topFrame.onlineWin.focus();getA8Top().contentFrame.topFrame.onlineWin.showIMTab("1",d,a,"false")}}function forwardColV3X(a,c,b){var d=v3x.openWindow({url:"/seeyon/collaboration.do?method=showForward&showType=model&data="+a+"_"+c,width:511,height:400});if(b=="self"){if(d=="true"){document.location.reload(true)}}else{if(b=="list"){if(d&&d=="true"&&(getParameter("method")=="listSent")){document.location.reload(true)}}}}function showDetailAndLog(a,e,c,d){var b="";if(d&&(d=="recEdoc"||d=="sendEdoc"||d=="signReport"||d=="edocSend"||d=="edocRec"||d=="edocSign")){b="&appName=4&appTypeName="+d}getA8Top().v3x.openWindow({url:colWorkFlowURL+"?method=showFlowNodeDetailFrame&summaryId="+a+"&processId="+e+"&defaultTab="+c+b,dialogType:v3x.getBrowserFlag("openWindow")==true?"modal":"1",width:"750",height:"500"})}function confirmToOffice2003(){if(confirm(_("V3XLang.OfficeSaveTo2003"))){return true}else{return false}}function isOffice2007(a){if(typeof(a)=="undefined"||a==null){return false}if(a.indexOf(".docx")!=-1||a.indexOf(".xlsx")!=-1||a.indexOf(".pptx")!=-1){return true}else{return false}}function V3XAutocomplete(){this._disableEvent=false;this._onchange=function(c,g,b,a){if(v3xautocomplete._disableEvent){return}if(c){if(c.select){var d={label:g.value,value:g.id};c.select(d,b)}if(c.bindSelect){var f=jQuery.Event("change");if(jQuery.isFunction(c.bindSelect)){f.target=c.bindSelect(jQuery(a))}else{f.target=jQuery(c.bindSelect)}try{jQuery(f.target).val(g.id).trigger(f,jQuery(f.target));jQuery(f.target).blur()}catch(f){}}}};this._getViewElement=function(b){var a;if(typeof b=="string"){a=jQuery(document.getElementById(b+"_autocomplete"))}else{a=jQuery(b)}return a}}var v3xautocomplete=new V3XAutocomplete();V3XAutocomplete.prototype.autocomplete=function(m,B,d){var n=this._getViewElement(m);if(typeof(n)=="undefined"||n==null||n[0]==null){return}if(!n){return false}var q=true;var z=true;var s=240;var t=0;var e=false;var c=0;var j={id:"",value:""};var x=17;var r=B.length==0;if(!r&&B.length==1&&B[0].value==""&&!B[0].label){r=true}if(d){jQuery(n).data("options",d);if(d.button!==undefined){z=true}if(d.maxHeight!==undefined){s=d.maxHeight}if(d.width!==undefined){t=d.width}if(d.autoSize!==undefined){e=d.autosize}if(d.appendBlank!==undefined){q=d.appendBlank}}var h=new Array();var w=B==null?h:B;if(w.length>0){if(q){h.push(j)}jQuery.each(w,function(D,F){var E={id:F.value,value:F.label};if(E.value){h.push(E);var l=E.value.length;if(l>c){c=l}}})}var b=function(E){for(var l in h){var D=h[l];if(D.id==E.id&&D.value==E.value){return true}}return false};var g=jQuery(n).data("current");jQuery(n).data("current",null);var k=function(l,D){if(!D.item){return false}jQuery(document.getElementById(m)).val(D.item.id);jQuery(n).val(D.item.value);jQuery(n).data("current",D.item);A(d,D.item,m,n);return false};var a=function(){k(null,{item:j});jQuery(n).data("current",null)};if(z){var o=n.next('button[name="acToggle"]').length>0;if(!o){var y="background-image:url('common/images/desc.gif');background-repeat:no-repeat;background-color: #ececec;background-position:center;width:"+x+"px;height:21px;border:1px #d1d1d1 solid;";n.after('<button name="acToggle" tabindex="-1" onclick="v3xautocomplete.toggle(this.previousSibling);this.blur();" style="'+y+'"/>')}}var A=this._onchange;jQuery(n).bind("blur",function(){var l=jQuery(n).data("current");if(l){if(jQuery(n).val()!=l.value){jQuery(n).val(l.value)}}else{a()}});jQuery(n).bind("click",function(){this.select()});n.autocomplete({minLength:0,source:h,autoFocus:true,delay:0,focus:function(l,D){return false},position:{collision:"flip"},select:k,search:function(){var l=jQuery(this).autocomplete("widget");l.css("height","auto")},beforePosition:function(){var l=jQuery(this).autocomplete("widget");if(l.outerHeight()>s){l.css("overflow-y","auto");l.css("overflow-x","hidden");l.css("height",s+"px")}},open:function(){var J=jQuery(this).autocomplete("widget");var K;if(e){K=c*8+20}else{if(t){K=t}else{K=jQuery(this).outerWidth();if(z){var H=n.next('button[name="acToggle"]').position().top;var D=(H>=(n.position().top+n.outerHeight()));if(!D){K+=x}}}}var G=n.outerWidth();if(K<120){K=120}if(K<0||(K>500&&K>(G+x))){K=300}J.width(K);J.find(".ui-menu-item").css("overflow","hidden").css("white-space","nowrap");J.find("li").each(function(M,N){N.title=N.innerText});jQuery(n.parents()).scroll(function(){J.css("display","none")});var E=J.position().top;var l=J.outerHeight();var I=n.position().top;var F=n.outerHeight();if(E<0){E=0;if(l<I){E=I-l}l=I-E;J.css("top",E+"px");J.css("height",l+"px")}if(E+l<I){E=I-l;J.css("top",E+"px")}if(E+l>I+F){E=I+F;J.css("top",E+"px")}J.css("left",n.position().left+"px")}});var f=false;if(g!=null){f=b(g);if(!f){a()}}if(r){a();n[0].disabled=true;if(z){n.next('button[name="acToggle"]').attr("disabled",true).css("opacity","0.4")}}else{n[0].disabled=false;if(z){n.next('button[name="acToggle"]').attr("disabled",false).css("opacity","1")}if(d&&(d.value||d.value==null)){var u=d.value;var b=false;if(u!=null){jQuery.each(h,function(l,D){if(D.id==u){b=true;return}})}if(b){if(typeof m=="string"){this.select(m,u)}else{this.select(n,u)}}else{if(!f){a()}else{jQuery(n).data("current",g)}}}else{if(jQuery(n).val()){a()}}}};V3XAutocomplete.prototype.select=function(d,f){var a=this._getViewElement(d);var e=a.autocomplete("option","source");if(!e){return false}var c=jQuery(a).data("options");var b=this._onchange;jQuery.each(e,function(g,h){if(h.id==f){jQuery(document.getElementById(d)).val(h.id);a.val(h.value);jQuery(a).data("current",h);b(c,h,d,a);return true}})};V3XAutocomplete.prototype.refresh=function(b){var a=this._getViewElement(b);var c=jQuery(a).data("current");if(c){this._disableEvent=true;this.select(a,c.id);this._disableEvent=false}};V3XAutocomplete.prototype.disableEvent=function(a){this._disableEvent=a};V3XAutocomplete.prototype.getData=function(b){var a=this._getViewElement(b);var d=a.autocomplete("option","source");var c=new Array();jQuery.each(d,function(e,g){var f={value:g.id,label:g.value};if(f.value){c.push(f)}});return c};V3XAutocomplete.prototype.copy=function(j,h){var a=this._getViewElement(j);var f=a.autocomplete("option","source");var d=new Array();jQuery.each(f,function(e,l){var k={value:l.id,label:l.value};if(k.value){d.push(k)}});var b=jQuery(a).data("options");try{if(jQuery.expando){jQuery(h).removeAttr(jQuery.expando)}}catch(g){}var c=jQuery(a).data("current");if(c){b.value=c.id}this.autocomplete(h,d,b)};V3XAutocomplete.prototype.toggle=function(b){var a=this._getViewElement(b);if(a.autocomplete("widget").is(":visible")){a.autocomplete("close");return}a.autocomplete("search","");a.focus()};V3XAutocomplete.prototype.build=function(a,e){function d(f){var g=new Array();jQuery.each(f,function(h,j){if(j.key){g.push(j.key,'="',j.value,'" ')}});return g.join("")}var b=new Array();var c=a+"_autocomplete";b.push("<input ",d([{key:"name",value:a},{key:"id",value:a},{key:"type",value:"hidden"}])," />");b.push("<input ",d([{key:"name",value:c},{key:"id",value:c},{key:"type",value:"text"},{key:"class",value:"input_autocomplete"},{key:"onclick",value:"v3xautocomplete.toggle('"+a+"');"}])," />\n");b.push("<script>\n");b.push("v3xautocomplete.autocomplete(","'",a,"',",e,");\n");b.push("<\/script>");return(b.join(""))};var postUrl="";function getQueryCondition(q,b,j){var c=document.getElementById("ftable");var l=c.rows[0];var d=j;var n=isCrossTable();if(n){d=0;var h;var k=l.cells.length;for(var f=0;f<k;f++){var g=l.cells[f];if(g.getAttribute("rowspan")=="2"){d++}if(g.getAttribute("colspan")!=null){h=parseInt(g.getAttribute("colspan"))}}}if(b>(d-1)){var m="";for(var f=0;f<d;f++){m+=getRowHead(f,q)+","}if(n){m+=getColHead(d,h,b)+",";m+=getCrossDataCol(d,b)+","}else{m+=getDataCol(b)+","}var e=document.all("showdetail").value;postUrl="/seeyon/formreport.do?method=showReportQuery&str="+encodeURIComponent(m);var a=screen.width-155;var o=screen.height-300;v3x.openWindow({url:"/seeyon/formreport.do?method=openShowReportQuery",workSpace:"yes",dialogType:"modal",resizable:false});return}}function getSummaryId(c){var a=new XMLHttpRequestCaller(null,"","",false,"GET","false",c);var b=a.serviceRequest();return b}function showQueryTable(b){var f=document.getElementById("showdetail").value;var g=document.getElementById("formname").value;var j=document.getElementById("formid").value;var e=document.getElementById("queryname").value;var h=document.getElementById("isFlow").value;if(h=="true"){var c="/seeyon/formquery.do?method=hasSummaryId&id="+b+"&showdetail="+encodeURIComponent(f)+"&formid="+j+"&formname="+g;var d=getSummaryId(c);if(d.trim()=="null"){alert(v3x.getMessage("formLang.formquery__selectnone"))}else{if(d.indexOf("|")>-1){c="/seeyon/formquery.do?method=collFrameViewRelate&summaryId="+d+"&showdetail="+encodeURIComponent(f)+"&appid="+j+"&queryname="+encodeURIComponent(e);v3x.openWindow({url:c,workSpace:"yes",dialogType:v3x.getBrowserFlag("pageBreak")?"modal":"open"})}else{c="/seeyon/formquery.do?method=showRecordDetail&summaryId="+d+"&showdetail="+encodeURIComponent(f)+"&appid="+j+"&queryname="+encodeURIComponent(e);v3x.openWindow({url:c,workSpace:"yes",dialogType:v3x.getBrowserFlag("pageBreak")?"modal":"open"})}}}else{if(h=="false"){var a=document.getElementById("appShowDetail").value;v3x.openWindow({url:"/seeyon/appFormController.do?method=viewFormData&isOpenWin=true&appformId="+j+"&masterId="+b+"&showDetail="+encodeURIComponent(a),dialogType:"modal",workSpace:"yes",resizable:"true"})}}}function isCrossTable(){var a=document.getElementById("ftable");var b=a.rows[0];var e=b.cells.length;for(var c=0;c<e;c++){var d=b.cells[c];if(d.getAttribute("rowspan")=="2"){return true}}return false}function getColHead(b,e,d){var a=document.getElementById("ftable");var c=a.rows[0];return c.cells[Math.floor((d-b)/e)+b].getAttribute("value")}function getCrossDataCol(b,c){var a=document.getElementById("ftable");return a.rows[1].cells[c-b].getAttribute("value")}function getDataCol(b){var a=document.getElementById("ftable");return a.rows[0].cells[b].getAttribute("value")}function getRowHead(b,c){var a=document.getElementById("ftable");return a.rows[c].cells[b].getAttribute("value")}function newPlan(a,b,c){getA8Top().contentFrame.mainFrame.location.href=a+"?method=initAdd&type="+b+"&time="+c}function newTask(b,c){var a=v3x.openWindow({url:b+"?method=addTaskPageFrame&from=timing&time="+c,width:530,height:480,resizable:false});if(a||a=="true"){window.location.href=window.location.href}}function newCal(b,c){var a=v3x.openWindow({url:b+"?method=createEvent&time="+c,width:530,height:480,resizable:false});if(a&&a=="true"){window.location.href=window.location.href}}function newMeeting(a,b){getA8Top().contentFrame.mainFrame.location.href=a+"?method=create&formOper=new&time="+b}function isLeftClose(){return getA8Top().contentFrame.document.getElementById("LeftRightFrameSet").cols=="142,*"}function showCtpLocation(a,l){var h=getA8Top();if(l&&l.html){if(h.showLocation){var j="vp-personal";var f='<i class="vportal '+j+'"></i>';l.html=f+l.html;h.showLocation(l.html)}return}if(h.$){function b(n){if(h.$){function o(A,x,B){for(var y=0;y<A.length;y++){var D=A[y];D.parentMenu=x;var z=D.resourceCode;if(z!=null){B[z]=D}if(D.items){o(D.items,D,B)}}}var s=null;if(h.vPortal&&h.vPortal.memberMenus&&h.vPortal.memberMenus.length>0){s=h.vPortal.memberMenus}else{if(h.vPortal&&h.vPortal.menu&&h.vPortal.menu.length>0){s=h.vPortal.menu}else{if(h.vPortal&&h.vPortal.space&&h.vPortal.space.length>0){s=[];for(var r=0,u=h.vPortal.space.length;r<u;r++){if(h.vPortal.space[r].menu&&h.vPortal.space[r].menu.items){s.push(h.vPortal.space[r].menu)}}if(s.length==0){s=null}}else{return[]}}}if(s){var t="resourceMenuCache";var m=h.$.data(h.document.body,t);if(m==undefined){m=new Array();o(s,null,m);h.$.data(h.document.body,t,m)}var w=[];var q=m[n];if(q!=undefined){while(q!=null){w.push(q);q=q.parentMenu}}return w.reverse()}}return[]}var c=b(a);if(c.length>0){var k="当前位置：";if(h.$){k=h.$.i18n("seeyon.top.nowLocation.label")}var j=h.currentSpaceType||"personal";var e=h.skinPathKey||"defaultV51";var f='<span class="nowLocation_ico"><img src="'+v3x.baseURL+"/main/skin/frame/"+e+"/menuIcon/"+j+'.png"></span>';f+='<span class="nowLocation_content">';var g=[];for(var d=0;d<c.length;d++){if(c[d].url){g.push('<a class="hand" onclick="showMenu(\''+v3x.baseURL+c[d].url+"')\">"+escapeStringToHTML(c[d].name)+"</a>")}else{g.push('<a style="cursor:default" >'+escapeStringToHTML(c[d].name)+"</a>")}}f+=g.join(" > ");if(l&&l.surffix){f+=" > "+l.surffix}h.showLocation(f)}}}function resetCtpLocation(){var a=getA8Top();if(a){a.showLocation("")}}function openEditorAssociate(d,e,m,h,f,n,a,o){function j(){if(v3x){return v3x.baseURL?v3x.baseURL:parent._ctxPath}return"/seeyon"}var b;var l=false;var c=document.getElementById("moduleId");if(c!=null){h=c.value}else{if(typeof(summary_id)!==undefined&&(typeof(summary_id)!=="undefined")){h=summary_id}}if(typeof(_baseObjectId)!==undefined&&(typeof(_baseObjectId)!=="undefined")){h=_baseObjectId}var k=document.getElementById("moduleType");if(k!=null){f=k.value}else{if(typeof(_baseApp)!==undefined&&(typeof(_baseApp)!=="undefined")){f=_baseApp}}if(e=="collaboration"){b="collaboration/collaboration.do?method=summary&openFrom=glwd&type=&affairId="+m+"&baseObjectId="+h+"&baseApp="+f}else{if(e=="edoc"){b="edocController.do?method=detailIFrame&from=Done&openFrom=glwd&affairId="+m+"&isQuote=true&baseObjectId="+h+"&baseApp=4"}else{if(e=="km"){b="doc.do?method=docOpenIframeOnlyId&openFrom=glwd&docResId="+m+"&baseObjectId="+h+"&baseApp="+f}else{if(e=="meeting"){b="mtMeeting.do?method=myDetailFrame&id="+m+"&isQuote=true&baseObjectId="+h+"&baseApp="+f+"&state=10"}else{l=true;b="fileUpload.do?method=download&fileId="+d+"&createDate="+n.substring(0,10)+"&filename="+encodeURI(a)+"&v="+o}}}}b=b+"&fromEditor=1";b=j()+"/"+b;if(l){var g=document.getElementById("downloadFileFrame");if(g){g.src=b}else{window.open(b,"_blank")}}else{openDetailURL(b)}}function closeAllDialog(a){var b=window;if(a){b=a}b.$(".mask").remove();b.$(".dialog_box").remove();b.$(".shield").remove();b.$(".mxt-window").remove()}function isYoZoOffice(){var c=false;try{var b="";if(navigator.cpuClass.indexOf("x86")!=-1){b=new ActiveXObject("Kinggrid.iWebOffice")}else{b=new ActiveXObject("Kinggrid.iWebOffice_x64")}c=b.WebApplication(".eio")}catch(a){}return c}function clearOfficeFlag(){try{var b=navigator.userAgent;var a=(navigator.appName=="Microsoft Internet Explorer")||b.indexOf("Trident")!=-1;var c=getA8Top();c.isOffice=false;c.officeObj=null}catch(d){}}function setOfficeFlag(b,c){try{var d=navigator.userAgent;var a=(navigator.appName=="Microsoft Internet Explorer")||d.indexOf("Trident")!=-1;if(a){var f=getA8Top();f.isOffice=b;if(f.officeObj&&typeof f.officeObj=="object"&&"[object Array]"==Object.prototype.toString.call(f.officeObj)){f.officeObj.push(c)}else{f.officeObj=[];f.officeObj.push(c)}return}var f=getA8Top();f.isOffice=b;if(f.officeObj&&typeof f.officeObj=="object"&&"[object Array]"==Object.prototype.toString.call(f.officeObj)){f.officeObj.push(c)}else{f.officeObj=[];f.officeObj.push(c)}}catch(g){}}function hideOfficeObj(){try{var d=navigator.userAgent;var b=(navigator.appName=="Microsoft Internet Explorer")||d.indexOf("Trident")!=-1;var f=getA8Top();if(f.isOffice&&f.officeObj&&f.officeObj.length>0){for(var c=0;c<f.officeObj.length;c++){var a=f.officeObj[c];if(a&&a.style&&!f.spreadControlState||(f.spreadControlState&&a.id.match(f.spreadControlState))){try{if(b){if(a.id=="WebPDF"){a.iWebPDFFun.Hide=0}else{a.Hide(0)}}else{a.HidePlugin(0)}}catch(g){if(b){a.style.display="none"}}}}}f.hideSpreadFunc&&f.hideSpreadFunc()}catch(g){}}var OfficeObjExt={iframeId:null,showDialogOffice:function(){},setIframeId:function(a){OfficeObjExt.iframeId=a},firstHeight:null,showExt:function(){if(OfficeObjExt.iframeId==null){return}var c=document.getElementById(OfficeObjExt.iframeId);var b;if(OfficeObjExt.firstHeight==null){b=c.style.height;OfficeObjExt.firstHeight=b}else{b=OfficeObjExt.firstHeight}b=b+"";var a=b;if(b.indexOf("%")>0){a=b.substring(0,b.length-1);a=parseInt(a);a=a-2;c.style.height=a+"%"}else{if(b.indexOf("px")>0){a=b.substring(0,b.length-2);a=parseInt(a);a=a-2;c.style.height=a+"px"}else{b=$(c).height();OfficeObjExt.firstHeight=b+"px";c.style.height=(b-2)+"px"}}window.setTimeout(function(){c.style.height=b},2)},showIfame:function(b){var c,e,f;c=b.firstAttr;e=b.iframe;f=b.callback||function(){};var d;if(OfficeObjExt[c]==null){d=e.style.height;OfficeObjExt[c]=d}else{d=OfficeObjExt[c]}d=d+"";var a=d;if(d.indexOf("%")>0){a=d.substring(0,d.length-1);a=parseInt(a);a=a-2;e.style.height=a+"%"}else{if(d.indexOf("px")>0){a=d.substring(0,d.length-2);a=parseInt(a);a=a-2;e.style.height=a+"px"}else{d=$(e).height();OfficeObjExt[c]=d+"px";e.style.height=(d-2)+"px"}}window.setTimeout(function(){window.setTimeout(b.callback,1)},2)}};function showOfficeObj(d){try{try{var b=document.getElementById("guanlian_info_div");if(b&&b.getAttribute("dataRelation")=="true"){return}}catch(h){}var g=navigator.userAgent.toLowerCase().match(/chrome/)!=null;var f=getCtpTop();if((f.$(".layui-layer").length>0||f.$(".dialog_main").length>0)&&d!=true){return void (0)}try{if(f.$(".shield").size()>=1){return}}catch(h){}try{if((f.$(".mask").size()>0&&f.$(".mask").css("display")!="none")||(f.$(".shield").size()>0&&f.$(".shield").css("display")!="none")){if(typeof OfficeObjExt.showDialogOffice=="undefined"){return}OfficeObjExt.showDialogOffice()}}catch(h){}if(f.isOffice&&f.officeObj&&f.officeObj.length>0){for(var c=0;c<f.officeObj.length;c++){var a=f.officeObj[c];if(a&&a.style&&!f.spreadControlState||(f.spreadControlState&&a.id.match(f.spreadControlState))){try{if(g){a.HidePlugin(1);a.FuncExtModule.ShowToolBar="1"}else{if(a.id=="WebPDF"){a.iWebPDFFun.Hide=1}else{a.Hide(1)}}}catch(h){if(!g){a.style.display=""}}}}}f.showSpreadFunc&&f.showSpreadFunc();if(g){window.setTimeout(OfficeObjExt.showExt,50)}}catch(h){}}var offlineFun=function(){alert($.i18n("loginUserState.unknown"));var c=window.opener;if(c!==null&&c!==undefined){if(typeof(c.getCtpTop)==="function"){var a=c.getCtpTop();if(a&&a.removeOnbeforeunload!=null){a.removeOnbeforeunload()}c.location.href=encodeURI("/seeyon/main.do?method=logout");window.close()}}else{if(typeof(getCtpTop)==="function"){var b=getCtpTop();if(b.removeOnbeforeunload!=null){b.removeOnbeforeunload()}getCtpTop().location.href=encodeURI("/seeyon/main.do?method=logout")}}};
/*!
 * jQuery UI Core 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};if(b.ui.version){return}b.extend(b.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({_focus:b.fn.focus,focus:function(g,h){return typeof g==="number"?this.each(function(){var j=this;setTimeout(function(){b(j).focus();if(h){h.call(j)}},g)}):this._focus.apply(this,arguments)},scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(k){if(k!==f){return this.css("zIndex",k)}if(this.length){var h=b(this[0]),g,j;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){j=parseInt(h.css("zIndex"),10);if(!isNaN(j)&&j!==0){return j}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(j,g){var l,k,h,m=j.nodeName.toLowerCase();if("area"===m){l=j.parentNode;k=l.name;if(!j.href||!k||l.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+k+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(m)?!j.disabled:"a"===m?j.href||g:g)&&c(j)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().andSelf().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(j){var g=b.attr(j,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(j,!h)}});b(function(){try{var g=document.body,j=g.appendChild(j=document.createElement("div"));j.offsetHeight;b.extend(j.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=j.offsetHeight===100;b.support.selectstart="onselectstart" in j;g.removeChild(j).style.display="none"}catch(h){}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(q,o,n,r){b.each(h,function(){o-=parseFloat(b.css(q,"padding"+this))||0;if(n){o-=parseFloat(b.css(q,"border"+this+"Width"))||0}if(r){o-=parseFloat(b.css(q,"margin"+this))||0}});return o}b.fn["inner"+g]=function(n){if(n===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,n)+"px")})};b.fn["outer"+g]=function(n,o){if(typeof n!=="number"){return m["outer"+g].call(this,n)}return this.each(function(){b(this).css(k,l(this,n,true,o)+"px")})}})}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}(function(){var g=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];b.ui.ie=g.length?true:false;b.ui.ie6=parseFloat(g[1],10)===6})();b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},contains:b.contains,hasScroll:function(k,h){if(b(k).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",j=false;if(k[g]>0){return true}k[g]=1;j=(k[g]>0);k[g]=0;return j},isOverAxis:function(h,g,j){return(h>g)&&(h<(g+j))},isOver:function(m,h,l,k,g,j){return b.ui.isOverAxis(m,l,g)&&b.ui.isOverAxis(h,k,j)}})})(jQuery);
/*!
 * jQuery UI Widget 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)};b.widget=function(g,k,f){var n,m,j,l,h=g.split(".")[0];g=g.split(".")[1];n=h+"-"+g;if(!f){f=k;k=b.Widget}b.expr[":"][n.toLowerCase()]=function(o){return !!b.data(o,n)};b[h]=b[h]||{};m=b[h][g];j=b[h][g]=function(o,q){if(!this._createWidget){return new j(o,q)}if(arguments.length){this._createWidget(o,q)}};b.extend(j,m,{version:f.version,_proto:b.extend({},f),_childConstructors:[]});l=new k();l.options=b.widget.extend({},l.options);b.each(f,function(q,o){if(b.isFunction(o)){f[q]=(function(){var r=function(){return k.prototype[q].apply(this,arguments)},s=function(t){return k.prototype[q].apply(this,t)};return function(){var w=this._super,t=this._superApply,u;this._super=r;this._superApply=s;u=o.apply(this,arguments);this._super=w;this._superApply=t;return u}})()}});j.prototype=b.widget.extend(l,{widgetEventPrefix:m?l.widgetEventPrefix:g},f,{constructor:j,namespace:h,widgetName:g,widgetBaseClass:n,widgetFullName:n});if(m){b.each(m._childConstructors,function(q,r){var o=r.prototype;b.widget(o.namespace+"."+o.widgetName,j,r._proto)});delete m._childConstructors}else{k._childConstructors.push(j)}b.widget.bridge(g,j)};b.widget.extend=function(l){var g=d.call(arguments,1),k=0,f=g.length,h,j;for(;k<f;k++){for(h in g[k]){j=g[k][h];if(g[k].hasOwnProperty(h)&&j!==e){if(b.isPlainObject(j)){l[h]=b.isPlainObject(l[h])?b.widget.extend({},l[h],j):b.widget.extend({},j)}else{l[h]=j}}}}return l};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(l){var j=typeof l==="string",k=d.call(arguments,1),m=this;l=!j&&k.length?b.widget.extend.apply(null,[l].concat(k)):l;if(j){this.each(function(){var o,n=b.data(this,h);if(!n){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+l+"'")}if(!b.isFunction(n[l])||l.charAt(0)==="_"){return b.error("no such method '"+l+"' for "+g+" widget instance")}o=n[l].apply(n,k);if(o!==n&&o!==e){m=o&&o.jquery?m.pushStack(o.get()):o;return false}})}else{this.each(function(){var n=b.data(this,h);if(n){n.option(l||{})._init()}else{b.data(this,h,new f(l,this))}})}return m}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetName,this);b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(j,k){var f=j,l,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof j==="string"){f={};l=j.split(".");j=l.shift();if(l.length){h=f[j]=b.widget.extend({},this.options[j]);for(g=0;g<l.length-1;g++){h[l[g]]=h[l[g]]||{};h=h[l[g]]}j=l.pop();if(k===e){return h[j]===e?null:h[j]}h[j]=k}else{if(k===e){return this.options[j]===e?null:this.options[j]}f[j]=k}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(j,h,g){var k,f=this;if(typeof j!=="boolean"){g=h;h=j;j=false}if(!g){g=h;h=this.element;k=this.widget()}else{h=k=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(r,q){function n(){if(!j&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof q==="string"?f[q]:q).apply(f,arguments)}if(typeof q!=="string"){n.guid=q.guid=q.guid||n.guid||b.guid++}var o=r.match(/^(\w+)\s*(.*)$/),m=o[1]+f.eventNamespace,l=o[2];if(l){k.delegate(l,m,n)}else{h.bind(m,n)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(j,h){function g(){return(typeof j==="string"?f[j]:j).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var l,k,j=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];k=g.originalEvent;if(k){for(l in k){if(!(l in g)){g[l]=k[l]}}}this.element.trigger(g,h);return !(b.isFunction(j)&&j.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(k,j,m){if(typeof j==="string"){j={effect:j}}var l,h=!j?g:j===true||typeof j==="number"?f:j.effect||f;j=j||{};if(typeof j==="number"){j={duration:j}}l=!b.isEmptyObject(j);j.complete=m;if(j.delay){k.delay(j.delay)}if(l&&b.effects&&(b.effects.effect[h]||b.uiBackCompat!==false&&b.effects[h])){k[g](j)}else{if(h!==g&&k[h]){k[h](j.duration,j.easing,m)}else{k.queue(function(n){b(this)[g]();if(m){m.call(k[0])}n()})}}}});if(b.uiBackCompat!==false){b.Widget.prototype._getCreateOptions=function(){if(b.metadata&&b.metadata.get){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]}return null}}})(jQuery);
/*!
 * jQuery UI Mouse 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *  jquery.ui.widget.js
 */
(function(b,c){var a=false;b(document).mouseup(function(d){a=false});b.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&!(document.documentMode>=9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(d){return this.mouseDelayMet},_mouseStart:function(d){},_mouseDrag:function(d){},_mouseStop:function(d){},_mouseCapture:function(d){return true}})})(jQuery);
/*!
 * jQuery UI Slider 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.mouse.js
 *  jquery.ui.widget.js
 */
(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,pointer:true,step:1,value:0,values:null},_create:function(){var j,d,e=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),l="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#' title='"+e.value+"'></a>",q=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":""));this.range=b([]);if(e.range){if(e.range===true){if(!e.values){e.values=[this._valueMin(),this._valueMin()]}if(e.values.length&&e.values.length!==2){e.values=[e.values[0],e.values[0]]}}this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((e.range==="min"||e.range==="max")?" ui-slider-range-"+e.range:""))}d=(e.values&&e.values.length)||1;for(j=f.length;j<d;j++){q.push(l)}this.handles=f.add(b(q.join("")).appendTo(this.element));this.handle=this.handles.eq(0);if(e.pointer){this.point=b("<div class='relative'></div>").width(this.element.width()).css("margin-top",this.element[0].offsetHeight-2).addClass("ui-slider-pointer");var g="";var k=this._valueMin();var n=this._valueMax();for(var j=k;j<=n;j++){var m=j;var h=(n!==k)?(m-k)/(n-k)*100:0;g+="<span class='ui_sliderPoint absolute'step='"+j+"' style='left:"+h+"%;'><em></em>";if(e.text){g+="<p class='ui_point_text'>"+e.text[j]+"</p>"}g+="</span>"}this.point.append(b(g)).appendTo(this.element)}this.handles.filter("a").click(function(o){o.preventDefault()}).mouseenter(function(){if(!e.disabled){b(this).addClass("ui-state-hover")}}).mouseleave(function(){b(this).removeClass("ui-state-hover")}).focus(function(){if(!e.disabled){b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus")}else{b(this).blur()}}).blur(function(){b(this).removeClass("ui-state-focus")});this.handles.each(function(o){b(this).data("ui-slider-handle-index",o)});this._on(this.handles,{keydown:function(u){var w,s,r,t,o=b(u.target).data("ui-slider-handle-index");switch(u.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:u.preventDefault();if(!this._keySliding){this._keySliding=true;b(u.target).addClass("ui-state-active");w=this._start(u,o);if(w===false){return}}break}t=this.options.step;if(this.options.values&&this.options.values.length){s=r=this.values(o)}else{s=r=this.value()}switch(u.keyCode){case b.ui.keyCode.HOME:r=this._valueMin();break;case b.ui.keyCode.END:r=this._valueMax();break;case b.ui.keyCode.PAGE_UP:r=this._trimAlignValue(s+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(s-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(s===this._valueMax()){return}r=this._trimAlignValue(s+t);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(s===this._valueMin()){return}r=this._trimAlignValue(s-t);break}this._slide(u,o,r)},keyup:function(r){var o=b(r.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(r,o);this._change(r,o);b(r.target).removeClass("ui-state-active")}}});this._refreshValue();this._animateOff=false},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var k,n,e,h,m,q,j,d,l=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();k={x:f.pageX,y:f.pageY};n=this._normValueFromMouse(k);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var r=Math.abs(n-l.values(o));if(e>r){e=r;h=b(this);m=o}});if(g.range===true&&this.values(1)===g.min){m+=1;h=b(this.handles[m])}q=this._start(f,m);if(q===false){return false}this._mouseSliding=true;this._handleIndex=m;h.addClass("ui-state-active").focus();j=h.offset();d=!b(f.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-j.left-(h.width()/2),top:f.pageY-j.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,m,n)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,j;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();j=this._valueMin()+g*f;return this._trimAlignValue(j)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,j;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;j=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(j!==false){this.values(g,f,true)}}}else{if(f!==this.value()){j=this._trigger("slide",h,{handle:this.handles[g],value:f});if(j!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}d.handle.title=d.value;this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.prop("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.prop("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var j,h,m,k,n,g=this.options.range,f=this.options,l=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(o){h=(l.values(o)-l._valueMin())/(l._valueMax()-l._valueMin())*100;d[l.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(l.options.range===true){if(l.orientation==="horizontal"){if(o===0){l.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(o===1){l.range[e?"animate":"css"]({width:(h-j)+"%"},{queue:false,duration:f.animate})}}else{if(o===0){l.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(o===1){l.range[e?"animate":"css"]({height:(h-j)+"%"},{queue:false,duration:f.animate})}}}j=h})}else{m=this.value();k=this._valueMin();n=this._valueMax();h=(n!==k)?(m-k)/(n-k)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}}})}(jQuery));
/*!
 * jQuery UI Draggable 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.mouse.js
 *  jquery.ui.widget.js
 */
(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(e,g){var d=a.browser.msie;var c=a.browser.version;d=d&&(c.length>3);d=d||a.browser.mozilla;if(d){if(e.buttons!=1){this._mouseUp({});return false}}this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!g){var f=this._uiHash();if(this._trigger("drag",e,f)===false){this._mouseUp({});return false}this.position=f.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(e){var g=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){g=a.ui.ddmanager.drop(this,e)}if(this.dropped){g=this.dropped;this.dropped=false}var c=this.element[0],f=false;while(c&&(c=c.parentNode)){if(c==document){f=true}}if(!f&&this.options.helper==="original"){return false}if((this.options.revert=="invalid"&&!g)||(this.options.revert=="valid"&&g)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,g))){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(d._trigger("stop",e)!==false){d._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode}if(g.containment=="document"||g.containment=="window"){this.containment=[g.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,g.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(g.containment=="document"?0:a(window).scrollLeft())+a(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(g.containment=="document"?0:a(window).scrollTop())+(a(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)&&g.containment.constructor!=Array){var h=a(g.containment);var e=h[0];if(!e){return}var f=h.offset();var d=(a(e).css("overflow")!="hidden");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=h}else{if(g.containment.constructor==Array){this.containment=g.containment}}},_convertPositionTo:function(g,j){if(!j){j=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(j.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(j.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(d){var e=this.options,m=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(m[0].tagName);var h=d.pageX;var g=d.pageY;if(this.originalPosition){var c;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();c=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top}}if(e.grid){var k=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?(!(k-this.offset.click.top<c[1]||k-this.offset.click.top>c[3])?k:(!(k-this.offset.click.top<c[1])?k-e.grid[1]:k+e.grid[1])):k;var f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?(!(f-this.offset.click.left<c[0]||f-this.offset.click.left>c[2])?f:(!(f-this.offset.click.left<c[0])?f-e.grid[0]:f+e.grid[0])):f}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:m.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:m.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,g){var f=a(this).data("draggable"),c=this;var e=function(k){var r=this.offset.click.top,q=this.offset.click.left;var h=this.positionAbs.top,m=this.positionAbs.left;var l=k.height,n=k.width;var s=k.top,j=k.left;return a.ui.isOver(h+r,m+q,s,j,l,n)};a.each(f.sortables,function(j){var h=false;var k=this;this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){h=true;a.each(f.sortables,function(){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this!=k&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(k.instance.element[0],this.instance.element[0])){h=false}return h})}if(h){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}f._trigger("fromSortable",d);f.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var c=a("body"),f=a(this).data("draggable").options;if(c.css("cursor")){f._cursor=c.css("cursor")}c.css("cursor",f.cursor)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(w,q){var g=a(this).data("draggable"),s=g.options;var A=s.snapTolerance;var z=q.offset.left,y=z+g.helperProportions.width,f=q.offset.top,e=f+g.helperProportions.height;for(var x=g.snapElements.length-1;x>=0;x--){var u=g.snapElements[x].left,n=u+g.snapElements[x].width,m=g.snapElements[x].top,D=m+g.snapElements[x].height;if(!((u-A<z&&z<n+A&&m-A<f&&f<D+A)||(u-A<z&&z<n+A&&m-A<e&&e<D+A)||(u-A<y&&y<n+A&&m-A<f&&f<D+A)||(u-A<y&&y<n+A&&m-A<e&&e<D+A))){if(g.snapElements[x].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})))}g.snapElements[x].snapping=false;continue}if(s.snapMode!="inner"){var c=Math.abs(m-e)<=A;var B=Math.abs(D-f)<=A;var j=Math.abs(u-y)<=A;var k=Math.abs(n-z)<=A;if(c){q.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(B){q.position.top=g._convertPositionTo("relative",{top:D,left:0}).top-g.margins.top}if(j){q.position.left=g._convertPositionTo("relative",{top:0,left:u-g.helperProportions.width}).left-g.margins.left}if(k){q.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||B||j||k);if(s.snapMode!="outer"){var c=Math.abs(m-f)<=A;var B=Math.abs(D-e)<=A;var j=Math.abs(u-z)<=A;var k=Math.abs(n-y)<=A;if(c){q.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(B){q.position.top=g._convertPositionTo("relative",{top:D-g.helperProportions.height,left:0}).top-g.margins.top}if(j){q.position.left=g._convertPositionTo("relative",{top:0,left:u}).left-g.margins.left}if(k){q.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[x].snapping&&(c||B||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})))}g.snapElements[x].snapping=(c||B||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(j,h){return(parseInt(a(j).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(!f.length){return}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h});this[0].style.zIndex=c+f.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);
/*!
 * jQuery resize event - v1.1 - 3/14/2010
 * http://benalman.com/projects/jquery-resize-plugin/
 *
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,h,c){var a=$([]),e=$.resize=$.extend($.resize,{}),j,l="setTimeout",k="resize",d=k+"-special-event",b="delay",f="throttleWindow";e[b]=250;e[f]=true;$.event.special[k]={setup:function(){if(!e[f]&&this[l]){return false}var m=$(this);a=a.add(m);$.data(this,d,{w:m.width(),h:m.height()});if(a.length===1){g()}},teardown:function(){if(!e[f]&&this[l]){return false}var m=$(this);a=a.not(m);m.removeData(d);if(!a.length){clearTimeout(j)}},add:function(m){if(!e[f]&&this[l]){return false}var o;function n(u,q,r){var s=$(this),t=$.data(this,d);t.w=q!==c?q:s.width();t.h=r!==c?r:s.height();o.apply(this,arguments)}if($.isFunction(m)){o=m;return n}else{o=m.handler;m.handler=n}}};function g(){j=h[l](function(){a.each(function(){var o=$(this),n=o.width(),m=o.height(),q=$.data(this,d);if(n!==q.w||m!==q.h){o.trigger(k,[q.w=n,q.h=m])}});g()},e[b])}})(jQuery,this);(function(e){var g=1;var b=2;var d=3;var f=4;e.fn.initMap=function(o){var r=e(this),j=r.attr("id");var n;var h=o.miniType;if(!h){h=g}r.attr("id",j+"_txt");r.attr("name",j+"_txt");r.attr("readonly","readonly");var t=o.text;var s=o.value;n=e('<input type="hidden" />');n.attr("id",j);n.attr("name",j);n.attr("_comp",r);if(s){n.val(s)}r.after(n);if(t){r.val(t);r.attr("title",t)}if(o.valueChange){o.valueChange(n)}o.callbk=function(u){m(u);r.focus()};if(o.showBtn==false){o.targetDom=n;e(this).unbind("click").bind("click",function(u){e.maplbs(o);var u=u||window.e;u.stopPropagation()})}else{var l=c(h);n.after(l);var q=r.css("width");var k=parseInt(r.width())-28;if(k>0){r.css("width",k)}o.targetDom=n;l.unbind("click").bind("click",function(u){e.maplbs(o);var u=u||window.e;u.stopPropagation()})}function m(u){r.val(u.lbsAddr);r.attr("title",u.lbsAddr);o.value=u.lbsId;o.text=u.lbsAddr;n.val(u.lbsId)}};e.maplbs=function(m){var j=_ctxPath+"/map/lbsController.do";if(m.preCallback){m.preCallback(m)}var l=m.value;var h=m.canEdit;if(m.miniType!=1&&m.miniType!="1"&&(h=="true"||h==true)){e.alert(e.i18n("cmp.lbs.warn.notSupport"));return}if((!l||l==-1||l=="-1")&&(h=="false"||h==false)){e.alert(e.i18n("cmp.lbs.warn.message.noInfo"));return}var h=m.canEdit;var k=e.dialog({id:"markerProduction",url:j,width:708,height:530,title:a(m.miniType),transParams:m,targetWindow:getCtpTop(),buttons:[{text:e.i18n("common.button.ok.label"),isEmphasize:true,disabled:m.value&&m.value!=-1&&m.value!=""&&m.value!="-1"?(h=="true"||h==true)?false:true:false,hide:m.value&&m.value!=-1&&m.value!=""&&m.value!="-1"?(h=="true"||h==true)?false:true:false,handler:function(){var o=k.getReturnValue(),n=true;if(o==-1){return}if(o){if(m.callback&&m.callback(o,m)){n=false}if(m.callbk&&m.callbk(o)){n=false}if(m.valueChange){m.valueChange(m.targetDom)}}if(n){k.close()}}},{text:e.i18n("common.button.cancel.label"),handler:function(){k.close()}}]})};function a(h){var j;if(h==g){j=e.i18n("cmp.lbs.label.marker")}else{if(h==b){j=e.i18n("cmp.lbs.label.sign")}else{if(h==d){j=e.i18n("cmp.lbs.label.positionLocation")}else{if(h==f){j=e.i18n("cmp.lbs.label.photoLocation")}}}}return j}function c(j){var h=e("<span></span>");h.attr("_isrel",1);if(j==g){h.attr("class","ico16 mapMarked_16")}else{if(j==b){h.attr("class","ico16 attendanceRecords_16")}else{if(j==d){h.attr("class","ico16 location_16")}else{if(j==f){h.attr("class","ico16 cameraPosition_16")}}}}h.addClass("_autoBtn");return h}})(jQuery);var JCP={setup:{download:"http://print.jatools.com/jcp/setup.exe",noSetupMessage:"杰表云打印（JCP）未安装, 请下载安装之."},licenseURL:"/lic.jsp"};var JSON=JSON||{};var _hmt=_hmt||[];var _0x1010=["listener","VsUme","WqwHn","dragDesigner","_hasCallback","hDuvs","LWSRF","TcmLv","api-error","mevdZ","mLTsU","XHEpF","dDibj","APAbC","WyosR","type=PULL&","KcKhh","dTSwT","event","data","qgLIQ","CWEfe","password","WEeRY","bISYc","kXGaT","ZxKdx","AypEP","nTuvq","UrFaJ","gsSOa","api-result","pJVsu","zpybv","lReyI","QAmMc","mzdVd","GuyoD","URL","lEoxx","fCEjL","CHfCH","EVIFk","QqqBf","wUukE","hhZxB","Awiuc","dFTBS","YbUKs","silent","tniZT","kSglj","setup","noSetupHandle","noSetupMessage","location","href","evSCx","Odkbk","nsyuW","aAuZe","kqCqd","hMSnr","mPdZV","eSRWa","DFEaw","&use=common&","XvCXe","SPluS","bcNbX","abcPV","hMbEd","GgdKJ","version","mXbEi","shift","WxLXD","KSruG","cJbUj","wRILO","oEBtE","dwUJL","knAeB","cFIxR","UypWk","zqdpn","dqKiu","受限版本，不支持当前浏览器.","sWxvR","iNUVp","DdWHA","host","ghazZ","iLfdc","TAUXi","AOcSi","yAGGA","vfDev","TzfFV","RcTtl","seANq","YWeVZ","MTDNb","NmvJn","Trfhj","lwwDm","IJBco","getVersion","JyeOc","uAaso","FinHW","KsSFp","RzibI","iOgSz","wxWXq","QwZyX","lGhnp","about","wcELr","mTBOh","cmlsV","NMjBP","MvUwZ","SQMae","NNaRx","EgLVs","soEci","VPxlX","kqPYB","NVXgs","qWIEe","WoLZa","kTXOY","bFEym","kcrwd","RBQNz","WMElr","cgWjd","kbqjP","LLIzM","isImplemented","yvKSz","getLocalMacAddress","PVBKa","hErhB","HjhPi","dGJrv","DSPkE","setOffsetPage","dcYYh","Uevag","AaGyO","LsOGe","TviJy","SVXut","MOlPr","oRiyB","Mcwod","UzfRO","GNoob","getSettingsIds","imHxM","RXNhh","fcAGo","printDocument","FCAob","HLodU","pWvIk","zDusy","HoAop","rIuzg","gwMMb","EVzAZ","lHuOq","GoPNq","PCQmQ","eTzMt","fqkWP","rlHgK","KeKgq","sLBbl","nuHOi","lONGb","wMzEA","BgfDC","ugfHW","TKbHG","ZcSTq","VBWAf","xmLkT","VNmyH","okdIH","nLjLZ","XRbxL","exportAsTIFF","qEmLy","buTao","Iueoe","lARBF","oHPtZ","rxYgi","THpYO","gZWQU","qLZdk","sAhEI","gnnEV","DJpPG","xHGvJ","omFsv","wYINO","TtTxg","writeString","EBahc","writeBase64","nUacI","UlzLQ","ONxvK","CTLIm","readBase64","sohNQ","cvcui","CNFcq","ZnBIR","pazjQ","iGVys","sxVsS","hPxNI","xHzwm","RKSLR","XSbUb","ydimt","okkHn","RJGIQ","showPageSetupDialog","kQeke","hqhzw","zzHQX","pop","Ugjrg","nothing","join","veBbr","VcoAx","NnXcj","LuvRb","ubVvE","yiYiL","GFUsA","FRuvw","ZDBLB","yGHJp","dialogWidth:","WSIie","aX:yes","mxbVu","lpoCr","setPrintBackground","uxVZS","vWNsc","getMessage","VGzgC","XjGsB","fnIQy","SHIGa","kzWkg","xbXJe","gBozA","dvFyu","initialize","pXpvv","ybexC","stringify","0000","0|7|1|5|3|2|6|9|8|4","string","boolean","0|1|3|2|4","function","5|0|6|2|4|1|3","MfvcR","valueOf","obtRO","tCIsv","cfgFD","vEaNI","anndZ","FybVA","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","mHCSz","prototype","lastIndex","test","DaLqW","TlqEx","wzkDN","RNhhG","charCodeAt","slice","AZNjZ","ZyioE","ZWlqH","TXWAt","JLEsI","apply","[object\x20Array]","FPmhf","pWWXL","neWPn","eYbNI","bWQax","SGFXA","TCZUm","hhUHt","AmeUW","UqKsC","BIIFk","mRtoL","LuLPS","call","USGZZ","QylJl","fNxRu","wKWgI","middle","MVmrm","vmohV","verticalAlign","kmqlV","inline","parentNode","insertBefore","nextSibling","none","referrer","print.jatools.com","script","hJJcX","NaDCq","protocol","https:","NOSSL","https://","http://",":31443",":31227","127.0.0.1","navigator","userAgent","Trident/5.0","indexOf","Trident/4.0","EokAu","lvxPC","BkTDS","XMLHttpRequest","XDomainRequest","MSXML2.XMLHTTP.3.0","xhr","index","type","Bwejt","HlNKQ","POST","GET","eAGJV","FzHVt","open","lUpHB","xXexR","timeout","onload","XgJbe","responseText","send","onreadystatechange","readyState","status","mqbCT","XJgDs","hfcux","pfaMz","lic","/api?type=salt","licenseURL","ojmBn","MxHtN","vRirQ","MKTGS","AUOLI","eSwsp","?salt=","HKCYN","UoEkE","digest","xFtNs","rCEoK","KhiKs","jiakO","object","0|3|4|1|2","div","_strict","3|6|4|0|5|2|1","textarea","select","radio","checked","value","&#13;&#10;","<div\x20id=\x27page","page","iframe","_jp_wrapper","0|3|1|4|2|5","2500px","border","border-radius","height","margin","padding","max-width","min-width","caption-side","table-layout","font","font-style","font-variant","font-size","font-weight","letter-spacing","text-decoration","text-indent","text-overflow","text-shadow","white-space","word-spacing","vertical-align","color","background","background-color","background-position","background-repeat","Opacity","bottom","cursor","display","float","left","opacity","outline\x20","overflow","visibility","z-index","list-style-position","IMG","<html><head><style>","</body></html>","done","onPagePrinted","fixed","forward=","/api?type=service&","无法连接\x20JCP\x20站：","/api?type=UPDATE&","/api?type=NEW&","event-","NO_LICENSED_HOST","不要以本地文件方式打开页面，请以\x20HTTP\x20或\x20HTTPS\x20方式打开（即通过web服务器）.","This\x20JCP\x20supports\x20chinese\x20simplified\x20OS\x20only.","未经绑定的主机：","证书服务配置异常","本版本为试用版，不支持在\x20","\x20上试用，请在\x20127.0.0.1\x20上试用","tq=1&","exit","getPrinters","isPrinterError","getPapers","getCaptureSources","isCustomPaperSupported","addPaper","getCPUSerialNo","setDragCSS","clearSettings","printTIFF","exportAsExcel","download","printToImage","exportAsImage","exportAsPDF","configUpdate","update","getFonts","copy","copied","readString","chooseFile","getLastSettings","setLastSettings","getPrinterInfo","dialogHeight:","showHTMLDialog","getPrinterStatus","fixed-message","postMessage",":31227/api?type=service&",":31227/api?type=admin&","EIgtF","qDcNr","tab","tlZue","ziAUz","kFLAX","tREGm","result","nDJNr","styleSheets","YHnoH","cssRules","length","cssText","doctype","setAttribute","nEAdu","tmmNP","outerHTML","split","createElement","eKwbh","aMBLi","inputs","getElementById","ablsB","getElementsByTagName","fsReH","eTgqU","selectedIndex","text","eYSHd","no-frame-check","dUvzj","EkNUn","iycte","VVYDO","removeAttribute","innerHTML","replace","syyNP","input","pages","ASkVz","substring","undefined","AxBxx","PDVJU","GPvXS","tBAms","xHBGQ","Bpjxo","</div>","jobBase","HxVcP","vTomy","ALzYM","tBdIv","UKFwZ","xBIIv","IsbAS","IwFEz","ZmeKC","Tarfr","mKnxO","mfZTk","pagePrefix","MmFxM","PEPYV","documents","print","fUBID","yvLmK","valid","footer","html","rlpER","header","JKYRi","srcElement","YajZk","ownerIndex","contentWindow","ldNQv","cIMVR","complete","HYCXG","2|0|1|5|4|3","hIbSx","appendChild","src","attachEvent","NPwfa","oArwd","style","-3000px","oWCxP","position","JmyZx","width","jYGqu","body","IfSAF","sZzTj","nFwue","TpRfC","GqyER","deHSD","border-spacing","JTnlv","EPbbQ","ZBlTA","ZcBYD","font-family","LWvew","swsCK","rraSn","tMeRs","line-height","text-align","YjBHL","HlaCQ","rIOJI","rzGUh","GIfYq","dADil","word-wrap","FzOAv","uNYOn","Tqpwp","MAgrO","zXxuc","sKlMC","QEczp","clip","jhAsh","tYytC","iqiMS","trbOA","hUoqZ","cpHsv","eJkHi","Wuqgc","right","top","qXHRB","list-style-image","joejz","uerfJ","item","gQKJt","YZwLY","getAttribute","xUDrz","currentStyle","getComputedStyle","getPropertyValue","push","Jicnp","ownerDocument","xwQcY","toString","RqRNU","random","onpxB","FDzMj","Tlezr","RxLPj","HNmJe","VdHvF","PtcjN","pfXgW","drOiD","GqKjj","HrtDA","EnrYY","yKDOJ","axpIV","unqnc","THStc","XvaHU"];(function(b,c){var a=function(d){while(--d){b.push(b.shift())}};a(++c)}(_0x1010,342));var _0x9bce=function(b,c){b=b-0;var a=_0x1010[b];return a};var at=location[_0x9bce("0x0")]===_0x9bce("0x1")&&!JCP[_0x9bce("0x2")];var as=at?_0x9bce("0x3"):_0x9bce("0x4");var ar=at?_0x9bce("0x5"):_0x9bce("0x6");var ap=at?"localhost":_0x9bce("0x7");var aq=ap+ar;var an="www.jatools.com";var bc=window[_0x9bce("0x8")][_0x9bce("0x9")];var aI=bc.indexOf(_0x9bce("0xa"))>-1||bc[_0x9bce("0xb")](_0x9bce("0xc"))>-1;var aQ="";var V=JSON.parse||function(_0x50d36f){var _0x3fc2a0={EokAu:function(_0x25e392,_0x4790a4){return _0x25e392(_0x4790a4)},lvxPC:function(_0x4e27fe,_0x3d8cd3){return _0x4e27fe+_0x3d8cd3},BkTDS:"aQ="};if(_0x50d36f===""){_0x50d36f="\x22\x22"}_0x3fc2a0[_0x9bce("0xd")](eval,_0x3fc2a0[_0x9bce("0xe")](_0x3fc2a0[_0x9bce("0xe")](_0x3fc2a0[_0x9bce("0xf")],_0x50d36f),";"));return aQ};var be=[{xhr:window[_0x9bce("0x10")]||null,type:1},{xhr:window[_0x9bce("0x11")]||null,type:2},{xhr:window.ActiveXObject||null,type:3,aw:_0x9bce("0x12")},{xhr:"",type:-1}];var aC=[{index:-1},{index:-1,aF:2}];function U(b){var c={ZoXxX:function(d,e){return d(e)}};var a=aC[b?0:1];if(!a.xhr){c.ZoXxX(al,b)}return a[_0x9bce("0x13")]}function al(a){var b={NnPDW:function(f,e){return f==e},Bwejt:function(f,e){return f(e)},VjCMd:"ajax错误.",HlNKQ:function(e,f){return e!==f}};var c=aC[a?0:1];for(c.index++;!![];c[_0x9bce("0x14")]++){var d=be[c[_0x9bce("0x14")]];if(b.NnPDW(d[_0x9bce("0x15")],-1)){c[_0x9bce("0x13")]=null;b[_0x9bce("0x16")](alert,b.VjCMd);break}if(d[_0x9bce("0x13")]&&b[_0x9bce("0x17")](d[_0x9bce("0x15")],d.aF||-1)){c[_0x9bce("0x13")]=d;break}}}function T(f,c,d,j){var a={XgJbe:function(m,n,k,l){return m(n,k,l)},eAGJV:function(k,l){return k>l},CJIAy:function(m,k,l){return m(k,l)},FzHVt:function(k,l){return k(l)},lUpHB:_0x9bce("0x18"),xXexR:_0x9bce("0x19"),VAKLU:function(l,k){return l==k},mqbCT:function(l,o,m,n,k){return l(o,m,n,k)},XJgDs:function(k,l){return k||l},hfcux:function(l,k){return l||k},pfaMz:function(k,l){return k||l}};var b=a[_0x9bce("0x1a")](f[_0x9bce("0xb")](aq),-1);try{var h=null;var e=a[_0x9bce("0x1b")](U,b);if(e.aw){h=new e.xhr(e.aw)}else{h=new e[(_0x9bce("0x13"))]()}h[_0x9bce("0x1c")](c?a[_0x9bce("0x1d")]:a[_0x9bce("0x1e")],f,1);if(a.VAKLU(e[_0x9bce("0x15")],2)){h[_0x9bce("0x1f")]=3000;h[_0x9bce("0x20")]=function(){j&&j(h.responseText,200)};h.aT=function(){d&&a[_0x9bce("0x21")](d,c,h[_0x9bce("0x22")],404)};h.onerror=function(){d&&a[_0x9bce("0x21")](d,c,h.responseText,404)};h.onprogress=function(){};h[_0x9bce("0x23")](c)}else{h[_0x9bce("0x24")]=function(){try{a[_0x9bce("0x1a")](h[_0x9bce("0x25")],3)&&j&&a.CJIAy(j,h[_0x9bce("0x22")],h[_0x9bce("0x26")])}catch(k){k.aL=!![];throw k}};h[_0x9bce("0x23")](c)}}catch(g){if(!g.aL){al(b);a[_0x9bce("0x27")](T,f,a[_0x9bce("0x28")](c,null),a[_0x9bce("0x29")](d,null),a[_0x9bce("0x2a")](j,null))}}}JCP[_0x9bce("0x2b")]=null;function X(c,b){var d={HKCYN:function(e,f){return e==f},UoEkE:function(e,f){return e(f)},gRVSd:function(f,e){return f||e},HWJuM:function(e){return e()},AUOLI:function(f,e){return f==e},eSwsp:function(e,f){return e+f},xbQTm:function(f,e){return f==e},ojmBn:function(f,e){return f+e},MxHtN:function(f,e){return f+e},vRirQ:function(e,f){return e||f},MKTGS:_0x9bce("0x2c"),cIQDK:function(j,h,f,g,e){return j(h,f,g,e)}};if(d.xbQTm(JCP[_0x9bce("0x2b")],null)&&JCP[_0x9bce("0x2d")]){var a=d[_0x9bce("0x2e")](d[_0x9bce("0x2f")](as,d[_0x9bce("0x30")](b,ap)),ar)+d[_0x9bce("0x31")];d.cIQDK(T,a,null,null,function(f,e){if(d[_0x9bce("0x32")](e,200)){var g=d[_0x9bce("0x33")](JCP.licenseURL+_0x9bce("0x34"),f);T(g,null,null,function(h,j){if(d[_0x9bce("0x35")](j,200)){try{h=d[_0x9bce("0x36")](V,d.gRVSd(h,"{}"))||{};if(h[_0x9bce("0x37")]){JCP[_0x9bce("0x2b")]=h}}catch(k){}}d.HWJuM(c)})}else{c()}})}else{c()}}![]&&X(function(){var b={jiakO:function(c,d){return c==d},xFtNs:function(c,d){return c+d},rCEoK:"/api?type=salt",KhiKs:function(g,f,d,c,e){return g(f,d,c,e)}};if(JCP[_0x9bce("0x2b")]){var a=b[_0x9bce("0x38")](as,ap)+ar+b[_0x9bce("0x39")];b[_0x9bce("0x3a")](T,a,JCP[_0x9bce("0x2b")],null,function(d,c){if(b[_0x9bce("0x3b")](c,200)){JCP[_0x9bce("0x2b")]=""}})}});function v(_0x52d204,_0x12f36b,_0x15fb76){var _0x21602a={kFLAX:function(_0x256b49,_0x50dc9a){return _0x256b49(_0x50dc9a)},tlZue:function(_0x2c1e7e,_0x5a5e55){return _0x2c1e7e||_0x5a5e55},tREGm:function(_0x4b5593,_0xf550fb){return _0x4b5593==_0xf550fb},nDJNr:"undefined",EIgtF:function(_0x14a507,_0x399f71){return _0x14a507===_0x399f71},qDcNr:_0x9bce("0x3c"),rlpER:function(_0x1ffec8,_0x2b9838){return _0x1ffec8(_0x2b9838)},ziAUz:function(_0x2dcd16,_0x4028c7,_0x4275aa,_0x1c46dc,_0x485ca6){return _0x2dcd16(_0x4028c7,_0x4275aa,_0x1c46dc,_0x485ca6)},YHnoH:function(_0x24633d,_0x32a3fa){return _0x24633d<_0x32a3fa},qAHGd:_0x9bce("0x3d"),eKwbh:_0x9bce("0x3e"),nEAdu:_0x9bce("0x3f"),tmmNP:"true",aMBLi:function(_0x2deaf4,_0x4f111c){return _0x2deaf4+_0x4f111c},ablsB:_0x9bce("0x40"),fsReH:_0x9bce("0x41"),dUvzj:function(_0x519af5,_0x2b06ae){return _0x519af5<_0x2b06ae},eTgqU:"text",eYSHd:_0x9bce("0x42"),EkNUn:"checkbox",iycte:function(_0x4f99de,_0x3b1464){return _0x4f99de==_0x3b1464},VVYDO:_0x9bce("0x43"),EvwZT:_0x9bce("0x44"),hmQWb:_0x9bce("0x45"),syyNP:_0x9bce("0x46"),ASkVz:function(_0x5645c4,_0x377381){return _0x5645c4!=_0x377381},AxBxx:function(_0x454ac4,_0x3e4005,_0x607978){return _0x454ac4(_0x3e4005,_0x607978)},PDVJU:function(_0xbfcea6,_0x41f080){return _0xbfcea6+_0x41f080},GPvXS:function(_0xa8a03e,_0x2464f6){return _0xa8a03e+_0x2464f6},tBAms:_0x9bce("0x47"),xHBGQ:function(_0xdf5be9,_0xa89ac9){return _0xdf5be9+_0xa89ac9},Bpjxo:function(_0x56e0f1,_0x3e999a,_0x4a6763,_0x643891){return _0x56e0f1(_0x3e999a,_0x4a6763,_0x643891)},HxVcP:"0|2|1|3|4",vTomy:function(_0x3a2e92,_0xbdaf4b,_0x3cf4a1){return _0x3a2e92(_0xbdaf4b,_0x3cf4a1)},ALzYM:_0x9bce("0x48"),tBdIv:function(_0x3340f9,_0x3c72dd){return _0x3340f9+_0x3c72dd},UKFwZ:function(_0x3e5169,_0x404193){return _0x3e5169<_0x404193},xBIIv:function(_0x129be6,_0x121e1c){return _0x129be6+_0x121e1c},IsbAS:function(_0x3b57db,_0x4b7a3c){return _0x3b57db+_0x4b7a3c},IwFEz:function(_0x21511f,_0x1e0ff8){return _0x21511f+_0x1e0ff8},ZmeKC:function(_0x42993d,_0x23c17c,_0x2655a2,_0xd25fdc){return _0x42993d(_0x23c17c,_0x2655a2,_0xd25fdc)},fUBID:function(_0x46253a,_0x2f624e,_0x419937){return _0x46253a(_0x2f624e,_0x419937)},yvLmK:function(_0x391a2b,_0x15d183){return _0x391a2b+_0x15d183},bLxSy:"1|7|6|4|2|5|8|0|3",cIMVR:function(_0x157e20,_0x4bf293){return _0x157e20==_0x4bf293},gQKJt:function(_0x44b181,_0x1ab37f){return _0x44b181==_0x1ab37f},HYCXG:function(_0x4aa225,_0x2256ca){return _0x4aa225<_0x2256ca},hIbSx:_0x9bce("0x49"),qJpNi:_0x9bce("0x20"),NPwfa:function(_0x22ceff){return _0x22ceff()},oWCxP:_0x9bce("0x4a"),oArwd:_0x9bce("0x4b"),JmyZx:"absolute",jYGqu:_0x9bce("0x4c"),IfSAF:_0x9bce("0x4d"),dObsG:_0x9bce("0x4e"),sZzTj:"box-shadow",boVqc:_0x9bce("0x4f"),nFwue:_0x9bce("0x50"),gEfdK:_0x9bce("0x51"),TpRfC:"width2",GqyER:_0x9bce("0x52"),deHSD:_0x9bce("0x53"),AnhrC:_0x9bce("0x54"),JTnlv:"empty-cells",EPbbQ:_0x9bce("0x55"),ZBlTA:"direction",ZcBYD:_0x9bce("0x56"),LWvew:_0x9bce("0x57"),gBLDm:_0x9bce("0x58"),swsCK:_0x9bce("0x59"),rraSn:_0x9bce("0x5a"),tMeRs:_0x9bce("0x5b"),YjBHL:_0x9bce("0x5c"),HlaCQ:_0x9bce("0x5d"),rIOJI:_0x9bce("0x5e"),rzGUh:_0x9bce("0x5f"),GIfYq:_0x9bce("0x60"),dADil:_0x9bce("0x61"),FzOAv:_0x9bce("0x62"),yTlRC:_0x9bce("0x63"),uNYOn:_0x9bce("0x64"),mjmez:_0x9bce("0x65"),Tqpwp:"background-image",MAgrO:_0x9bce("0x66"),zXxuc:_0x9bce("0x67"),yiYim:_0x9bce("0x68"),sKlMC:_0x9bce("0x69"),QEczp:"clear",jhAsh:_0x9bce("0x6a"),tYytC:_0x9bce("0x6b"),iqiMS:_0x9bce("0x6c"),trbOA:_0x9bce("0x6d"),hUoqZ:_0x9bce("0x6e"),cpHsv:_0x9bce("0x6f"),eJkHi:_0x9bce("0x70"),Wuqgc:"resize\x20",fzFFQ:_0x9bce("0x71"),qXHRB:_0x9bce("0x72"),joejz:_0x9bce("0x73"),uerfJ:"list-style-type",YZwLY:_0x9bce("0x74"),xUDrz:function(_0x13604e,_0x1f28ca){return _0x13604e<_0x1f28ca},blnaO:_0x9bce("0x75"),Jicnp:function(_0x555ead,_0x1c2847){return _0x555ead(_0x1c2847)},xwQcY:_0x9bce("0x76"),sjjpE:function(_0x36db19,_0x3a55d7){return _0x36db19*_0x3a55d7},RqRNU:function(_0x17d8cc,_0x670e35){return _0x17d8cc|_0x670e35},onpxB:function(_0x3aff53,_0xd47e9b){return _0x3aff53*_0xd47e9b},FDzMj:function(_0x42d738,_0x5b16c6){return _0x42d738+_0x5b16c6},Tlezr:function(_0x4ab204,_0x4cdaed){return _0x4ab204+_0x4cdaed},RxLPj:function(_0x1627e2,_0x3d40c6){return _0x1627e2+_0x3d40c6},HNmJe:function(_0x458f20,_0x5f27d8){return _0x458f20+_0x5f27d8},VdHvF:function(_0x216011,_0x21068a){return _0x216011+_0x21068a},PtcjN:function(_0x18901d,_0x4cc129){return _0x18901d+_0x4cc129},kzNNA:function(_0x29adb1,_0x1e2458){return _0x29adb1+_0x1e2458},pfXgW:function(_0x55140e,_0x3081ed){return _0x55140e+_0x3081ed},drOiD:function(_0x4c6388,_0x4e215e){return _0x4c6388&_0x4e215e},GqKjj:function(_0x4e3a91,_0x225720){return _0x4e3a91>>_0x225720},HrtDA:function(_0x4349de,_0x20ced9){return _0x4349de&_0x20ced9},EnrYY:function(_0x2d18b2,_0x272382){return _0x2d18b2&_0x272382},yKDOJ:function(_0x4da894,_0x2a0998){return _0x4da894&_0x2a0998},unqnc:function(_0x5a1992,_0x4c55a4){return _0x5a1992>>_0x4c55a4},axpIV:function(_0x3569d9,_0x22656c){return _0x3569d9&_0x22656c},THStc:function(_0x2f0d4d,_0x4198e9){return _0x2f0d4d>>_0x4198e9},HbEIL:_0x9bce("0x77"),XvaHU:"onState",VsUme:_0x9bce("0x78"),WqwHn:function(_0x9b5a31,_0xdba882,_0x434bc3,_0x134837){return _0x9b5a31(_0xdba882,_0x434bc3,_0x134837)},oWJnN:function(_0x7646de,_0x5c8d2e){return _0x7646de>_0x5c8d2e},mevdZ:function(_0x3c364a,_0x3947b9){return _0x3c364a+_0x3947b9},mLTsU:"type=TICK&",KcKhh:function(_0x180dee,_0x575242){return _0x180dee!=_0x575242},dTSwT:"api-error",qgLIQ:_0x9bce("0x79"),CWEfe:function(_0x45aca3,_0x1d0c36){return _0x45aca3(_0x1d0c36)},nTuvq:function(_0x2d7202,_0x12773d){return _0x2d7202+_0x12773d},WEeRY:_0x9bce("0x7a"),bISYc:_0x9bce("0x7b"),kXGaT:function(_0x40a360,_0x38842a){return _0x40a360(_0x38842a)},ZxKdx:function(_0x5cfdff,_0x54abce){return _0x5cfdff!=_0x54abce},AypEP:function(_0x927f28,_0x58fa9c){return _0x927f28!==_0x58fa9c},UrFaJ:_0x9bce("0x7c"),gsSOa:function(_0x5bdc89,_0xdf6dd4){return _0x5bdc89(_0xdf6dd4)},pJVsu:"/api?tab=",zpybv:function(_0x5c25b5,_0x313581){return _0x5c25b5+_0x313581},SDQje:_0x9bce("0x7d"),lReyI:function(_0x3d78d2,_0x4b41e4){return _0x3d78d2+_0x4b41e4},BjyMc:function(_0x19606b,_0x12a0a2){return _0x19606b+_0x12a0a2},QAmMc:function(_0x1f4f55){return _0x1f4f55()},mzdVd:function(_0x38efdf,_0x4825d7){return _0x38efdf(_0x4825d7)},GuyoD:"new",lEoxx:function(_0x130f4d,_0x5488ab){return _0x130f4d+_0x5488ab},fCEjL:function(_0x2143dd,_0x4360ee){return _0x2143dd+_0x4360ee},CHfCH:function(_0x234f17,_0x50d718){return _0x234f17+_0x50d718},EVIFk:_0x9bce("0x7e"),wRILO:function(_0x4e81d3,_0x46fb61){return _0x4e81d3==_0x46fb61},dwUJL:function(_0x122dd4,_0x3e8d2a){return _0x122dd4(_0x3e8d2a)},oEBtE:_0x9bce("0x7f"),knAeB:function(_0x445faa,_0x72aff){return _0x445faa+_0x72aff},qugNm:function(_0x923acd,_0x22e874){return _0x923acd(_0x22e874)},cFIxR:function(_0x360e9){return _0x360e9()},UypWk:function(_0x5f4133,_0x5ceac7){return _0x5f4133==_0x5ceac7},zqdpn:_0x9bce("0x80"),sWxvR:function(_0x25aeeb,_0x6c9dfd){return _0x25aeeb==_0x6c9dfd},dqKiu:function(_0x107186,_0x2a4f3d){return _0x107186(_0x2a4f3d)},fDDqV:_0x9bce("0x81"),iNUVp:_0x9bce("0x82"),uBNrz:function(_0x31e177,_0x586552){return _0x31e177==_0x586552},DdWHA:function(_0x3646c2,_0x534dfd){return _0x3646c2+_0x534dfd},LUrmD:_0x9bce("0x83"),ghazZ:function(_0x556bf0,_0x25ae99){return _0x556bf0==_0x25ae99},iLfdc:_0x9bce("0x84"),AOcSi:function(_0x151597,_0x49e97e){return _0x151597(_0x49e97e)},TAUXi:"本版本为试用版，在\x20127.0.0.1上试用到期，购买请联系手机:\x20(0)18969037811\x20.",yAGGA:function(_0x4fbb04,_0x4297d8){return _0x4fbb04==_0x4297d8},ROqga:"无效的域名设置,\x20",vfDev:function(_0x2386fa,_0x11fd87){return _0x2386fa(_0x11fd87)},hOVzy:_0x9bce("0x85"),TzfFV:_0x9bce("0x86"),RcTtl:function(_0x1edab7,_0x3b491b){return _0x1edab7+_0x3b491b},seANq:function(_0x43760f){return _0x43760f()},YWeVZ:function(_0x22b564,_0x1be6fe){return _0x22b564(_0x1be6fe)},MTDNb:"printPreview",Trfhj:_0x9bce("0x87"),NRPuW:function(_0x30349c,_0x404538){return _0x30349c(_0x404538)},ebGDj:function(_0x40dcb0,_0x52a283){return _0x40dcb0(_0x52a283)},uAaso:"getDefaultPrinter",bLRbX:"getPrinterCapability",wxWXq:function(_0xc2f9e8,_0x44c4ab){return _0xc2f9e8(_0x44c4ab)},siIdM:function(_0x221040,_0x11f3ec){return _0x221040(_0x11f3ec)},iOgSz:function(_0x73923f,_0x3e8553){return _0x73923f(_0x3e8553)},QwZyX:function(_0x5767bb,_0x9dcd3a){return _0x5767bb(_0x9dcd3a)},mTBOh:function(_0xd78135,_0x1ebc3b,_0x43bd02,_0xef0516){return _0xd78135(_0x1ebc3b,_0x43bd02,_0xef0516)},cmlsV:_0x9bce("0x88"),wcELr:function(_0x5e3418,_0x2a6ffe){return _0x5e3418(_0x2a6ffe)},MvUwZ:function(_0x4e3073,_0x306629,_0x1cdd77,_0x154a3c){return _0x4e3073(_0x306629,_0x1cdd77,_0x154a3c)},SQMae:_0x9bce("0x89"),NNaRx:function(_0x9a8f1d,_0x3b621e){return _0x9a8f1d(_0x3b621e)},NMjBP:function(_0x3016a8,_0x316be4){return _0x3016a8(_0x316be4)},JNZHi:"getPrinterJobs",WcThR:_0x9bce("0x8a"),EgLVs:function(_0x31f5a6,_0x4aa48e,_0x5643f6,_0x53688f){return _0x31f5a6(_0x4aa48e,_0x5643f6,_0x53688f)},soEci:_0x9bce("0x8b"),kqPYB:_0x9bce("0x8c"),VPxlX:function(_0x47edf4,_0x227120){return _0x47edf4(_0x227120)},WoLZa:"capture",kTXOY:function(_0x4b68fd,_0x407e53){return _0x4b68fd||_0x407e53},qWIEe:function(_0x16cb57,_0x2e100b){return _0x16cb57(_0x2e100b)},Ubfjq:_0x9bce("0x8d"),kcrwd:function(_0x5d191c,_0x244c48){return _0x5d191c(_0x244c48)},RBQNz:function(_0x16d2c6,_0x2e387b){return _0x16d2c6(_0x2e387b)},kbqjP:function(_0x33b836,_0x2fd375,_0x4d6061,_0x4025f6){return _0x33b836(_0x2fd375,_0x4d6061,_0x4025f6)},dujkW:_0x9bce("0x8e"),LLIzM:function(_0x24a5a5,_0x5e2e5c){return _0x24a5a5(_0x5e2e5c)},FCAob:function(_0x22f44a,_0x38fc2b,_0x30b973,_0x1c68e6){return _0x22f44a(_0x38fc2b,_0x30b973,_0x1c68e6)},hErhB:_0x9bce("0x8f"),DSPkE:function(_0x3462e5,_0x373a67){return _0x3462e5(_0x373a67)},xTDSD:function(_0xb84098,_0x4d7935){return _0xb84098(_0x4d7935)},Uevag:function(_0x511f0f,_0x1771e9){return _0x511f0f(_0x1771e9)},mLSfu:_0x9bce("0x90"),SVXut:function(_0x572260,_0x104101){return _0x572260(_0x104101)},oRiyB:_0x9bce("0x91"),Mcwod:function(_0x5f5c1a,_0x5c2230){return _0x5f5c1a(_0x5c2230)},GNoob:function(_0x3b1348,_0x22325b,_0x4a3e5e){return _0x3b1348(_0x22325b,_0x4a3e5e)},sPnFc:_0x9bce("0x92"),RXNhh:function(_0x56b885,_0x172285){return _0x56b885(_0x172285)},EVVhY:_0x9bce("0x93"),enfKX:"setupNormalOffset",zDusy:function(_0x185ba4,_0x1183f8){return _0x185ba4(_0x1183f8)},HoAop:_0x9bce("0x94"),rIuzg:function(_0x10b432,_0x1e3b94){return _0x10b432(_0x1e3b94)},PBhrW:function(_0x558d6b,_0x4a654b){return _0x558d6b(_0x4a654b)},PCQmQ:function(_0x12495c,_0x3785dd){return _0x12495c(_0x3785dd)},eTzMt:_0x9bce("0x95"),GoPNq:function(_0x5b5ce3,_0x238987){return _0x5b5ce3(_0x238987)},aobFz:_0x9bce("0x96"),nuHOi:function(_0x2416c3,_0x4d04c5){return _0x2416c3+_0x4d04c5},lONGb:"/api?type=download&file=",fqkWP:function(_0x578840,_0xdb1174){return _0x578840(_0xdb1174)},HNUeO:_0x9bce("0x97"),wMzEA:function(_0x523a72,_0xe48a38){return _0x523a72(_0xe48a38)},sLBbl:function(_0x3b8866,_0x16563b){return _0x3b8866==_0x16563b},VozfI:function(_0x3c127d,_0x518dfb){return _0x3c127d(_0x518dfb)},TKbHG:function(_0x427e23,_0x5cc883,_0x51364f,_0x53f0be){return _0x427e23(_0x5cc883,_0x51364f,_0x53f0be)},ZcSTq:"exportAsTIFF",VBWAf:function(_0x39198f,_0x4544eb){return _0x39198f(_0x4544eb)},xmLkT:function(_0x31e1f4,_0x5679a2){return _0x31e1f4==_0x5679a2},qEmLy:function(_0xec1448,_0x3a79ec,_0x69a03a,_0x2f2cd5){return _0xec1448(_0x3a79ec,_0x69a03a,_0x2f2cd5)},buTao:_0x9bce("0x98"),Iueoe:function(_0x52f08a,_0x565221){return _0x52f08a(_0x565221)},rxYgi:_0x9bce("0x99"),oHPtZ:function(_0x1d3d52,_0x213178){return _0x1d3d52(_0x213178)},gnnEV:function(_0x1d63e4,_0xf1e1e6,_0x53f218,_0x25a776){return _0x1d63e4(_0xf1e1e6,_0x53f218,_0x25a776)},gZWQU:_0x9bce("0x9a"),THpYO:function(_0xf40119,_0x49a330){return _0xf40119(_0x49a330)},sAhEI:_0x9bce("0x9b"),qLZdk:function(_0x42dfd9,_0x30b7a1){return _0x42dfd9(_0x30b7a1)},DJpPG:_0x9bce("0x9c"),xHGvJ:function(_0x1a3e6a,_0x34448a){return _0x1a3e6a(_0x34448a)},wYINO:function(_0x23a822,_0x21528e){return _0x23a822(_0x21528e)},nUacI:function(_0x32bc0d,_0x10b9a5){return _0x32bc0d(_0x10b9a5)},EBahc:function(_0x4909c0,_0x135de0){return _0x4909c0(_0x135de0)},venmi:_0x9bce("0x9d"),ONxvK:function(_0x1954bc,_0x4adc60){return _0x1954bc(_0x4adc60)},UlzLQ:function(_0x12e088,_0x14e23c){return _0x12e088(_0x14e23c)},cvcui:function(_0x163d66,_0x593c89,_0x5cfb0c,_0x4b9571){return _0x163d66(_0x593c89,_0x5cfb0c,_0x4b9571)},CNFcq:"readHTML",ZnBIR:function(_0x2432bf,_0x3d33f4){return _0x2432bf(_0x3d33f4)},sohNQ:function(_0x58130f,_0x241a8e){return _0x58130f(_0x241a8e)},pazjQ:_0x9bce("0x9e"),iGVys:function(_0xf7043c,_0x3ba476){return _0xf7043c(_0x3ba476)},sxVsS:function(_0x5def7c,_0x9e8b52){return _0x5def7c(_0x9e8b52)},XSbUb:function(_0x4ba455,_0x33024f){return _0x4ba455+_0x33024f},zzHQX:_0x9bce("0x9f"),hqhzw:function(_0x13f5d0,_0x2693a2){return _0x13f5d0(_0x2693a2)},Ugjrg:function(_0x80dc55,_0x278ac0){return _0x80dc55==_0x278ac0},veBbr:_0x9bce("0xa0"),PIPtM:function(_0x44d4c0,_0x51791f){return _0x44d4c0(_0x51791f)},cmaSP:"setDefaultPrinter",VcoAx:function(_0x1cc113,_0x399ba9){return _0x1cc113(_0x399ba9)},VgsOJ:function(_0x25593c,_0x1cae1b){return _0x25593c(_0x1cae1b)},yiYiL:function(_0x3e319a,_0x17aa86,_0x57566c,_0x2eda89){return _0x3e319a(_0x17aa86,_0x57566c,_0x2eda89)},GFUsA:"openFile",FRuvw:function(_0x9be336,_0x1e876b){return _0x9be336(_0x1e876b)},ubVvE:function(_0x4dcae3,_0x45230e){return _0x4dcae3(_0x45230e)},yGHJp:_0x9bce("0xa1"),ZDBLB:function(_0x1a1d65,_0xaaed21){return _0x1a1d65(_0xaaed21)},WSIie:_0x9bce("0xa2"),mxbVu:_0x9bce("0xa3"),xIjrw:_0x9bce("0xa4"),VGzgC:_0x9bce("0xa5"),FuOrm:function(_0x413ab4,_0x173773,_0x14bc8b,_0x57f4c8){return _0x413ab4(_0x173773,_0x14bc8b,_0x57f4c8)},KdmRm:function(_0x499e43,_0x33d918){return _0x499e43+_0x33d918},hDuvs:function(_0x366fac,_0x16f879){return _0x366fac+_0x16f879},hqRxt:function(_0x35015f,_0xe02341){return _0x35015f(_0xe02341)},AGNlr:function(_0x13cc04,_0x5a1c50,_0x1b3879,_0x5c1a29){return _0x13cc04(_0x5a1c50,_0x1b3879,_0x5c1a29)},XjGsB:_0x9bce("0xa6"),kzWkg:function(_0x38ebf1,_0x36f223){return _0x38ebf1(_0x36f223)},xbXJe:"findJCPs",gBozA:function(_0x2ee416,_0xf05ae){return _0x2ee416||_0xf05ae},dvFyu:function(_0x3d5121,_0x4b83b4){return _0x3d5121(_0x4b83b4)},KYKDY:function(_0x1c9db6,_0x5f2dd0){return _0x1c9db6<_0x5f2dd0},SJqwp:_0x9bce("0xa7"),LWSRF:function(_0xdf221b,_0x545b5c){return _0xdf221b+_0x545b5c},TcmLv:_0x9bce("0xa8")};function _0x5c4d60(_0x1ad20e){}function _0x2e341e(_0x3f51b3,_0x3b052d,_0x24e6ed,_0x48b429){try{if(_0x3b052d&&_0x21602a[_0x9bce("0xa9")](typeof _0x3b052d,_0x21602a[_0x9bce("0xaa")])){_0x3b052d[_0x9bce("0xab")]=_0x21602a[_0x9bce("0xac")](_0x3d6cbb,"");_0x3b052d=_0x21602a.rlpER(JSONstringify,_0x3b052d)}_0x21602a[_0x9bce("0xad")](T,_0x3f51b3,_0x21602a.tlZue(_0x3b052d,null),_0x24e6ed||null,function(_0x4892f0,_0x17ea84){var _0x3b052d=_0x21602a[_0x9bce("0xae")](V,_0x21602a.tlZue(_0x4892f0,"{}"));if(_0x48b429){_0x3b052d=_0x21602a[_0x9bce("0xaf")](typeof _0x3b052d[_0x9bce("0xb0")],_0x21602a[_0x9bce("0xb1")])?"":_0x3b052d[_0x9bce("0xb0")]}_0x24e6ed&&_0x24e6ed(_0x3b052d,_0x4892f0,_0x17ea84)})}catch(_0x36c544){_0x21602a.rlpER(_0x5c4d60,_0x36c544)}}function _0x37f160(_0x2110c8,_0x15239b){return _0x2110c8.getElementById(_0x15239b)}function _0x737188(_0x17835a){var _0x572323="";var _0x2a39d6=_0x17835a[_0x9bce("0xb2")];for(var _0x1bd2a3=0;_0x21602a[_0x9bce("0xb3")](_0x1bd2a3,_0x2a39d6.length);_0x1bd2a3++){var _0x2da28c=_0x2a39d6[_0x1bd2a3];try{var _0x12e9a0=_0x2da28c[_0x9bce("0xb4")];if(_0x12e9a0){for(var _0x21f30c=0;_0x21602a.YHnoH(_0x21f30c,_0x12e9a0[_0x9bce("0xb5")]);_0x21f30c++){_0x572323+=_0x12e9a0[_0x21f30c]["cssText"]||""}}else{if(_0x2da28c[_0x9bce("0xb6")]){_0x572323+=_0x2da28c.cssText}}}catch(_0x18e7a8){}}return(_0x572323+"")["replace"](/[\s]*\n/gm,"")}function _0x40a3da(_0xc6340a,_0x26812f,_0x5d5be4){if(_0xc6340a[_0x9bce("0xb7")]){_0x26812f[_0x9bce("0xb8")](_0x21602a[_0x9bce("0xb9")],_0x21602a[_0x9bce("0xba")])}return _0x26812f[_0x9bce("0xbb")]||function(_0x3a9a31){var _0x1f7012=_0x21602a.qAHGd[_0x9bce("0xbc")]("|"),_0x4e6a91=0;while(!![]){switch(_0x1f7012[_0x4e6a91++]){case"0":var _0x635c68=_0xc6340a[_0x9bce("0xbd")](_0x21602a[_0x9bce("0xbe")]),_0x4e9982;continue;case"1":_0x635c68=null;continue;case"2":return _0x4e9982;case"3":_0x635c68.appendChild(_0x3a9a31.cloneNode(!![]));continue;case"4":_0x4e9982=_0x635c68.innerHTML;continue}break}}(_0x26812f)}var _0x269531;function _0x2fd8cd(_0x378a88,_0x5b99eb){var _0x465f15={Tarfr:function(_0x39d12f,_0x2fe321,_0x4e8bde){return _0x39d12f(_0x2fe321,_0x4e8bde)},mKnxO:function(_0x25448e,_0x5f22bb){return _0x25448e+_0x5f22bb},mfZTk:function(_0x35f8d5,_0x252e85){return _0x21602a[_0x9bce("0xbf")](_0x35f8d5,_0x252e85)},MmFxM:_0x9bce("0x48"),PEPYV:function(_0x1afa1c,_0x3226dd){return _0x21602a.aMBLi(_0x1afa1c,_0x3226dd)}};var _0x5ec6e2=_0x5b99eb[_0x9bce("0xc0")]||![];if(typeof _0x378a88[_0x9bce("0xc1")]!=_0x21602a[_0x9bce("0xb1")]){if(_0x5ec6e2){var _0x548062=_0x21602a[_0x9bce("0xc2")][_0x9bce("0xbc")]("|"),_0x533326=0;while(!![]){switch(_0x548062[_0x533326++]){case"0":_0x17e46e=_0x378a88[_0x9bce("0xc3")](_0x21602a[_0x9bce("0xc4")]);continue;case"1":for(var _0x4e675c=0;_0x21602a.dUvzj(_0x4e675c,_0x17e46e[_0x9bce("0xb5")]);_0x4e675c++){var _0x3a3408=_0x17e46e[_0x4e675c];_0x3a3408[_0x9bce("0xb8")](_0x21602a[_0x9bce("0xc5")],_0x3a3408.options[_0x3a3408[_0x9bce("0xc6")]][_0x9bce("0xc7")])}continue;case"2":_0x17e46e=_0x378a88[_0x9bce("0xc3")](_0x21602a[_0x9bce("0xc8")]);continue;case"3":var _0x3b1d6a=_0x5ec6e2[_0x9bce("0xc9")]||![];continue;case"4":for(var _0x4e675c=0;_0x21602a[_0x9bce("0xca")](_0x4e675c,_0x17e46e.length);_0x4e675c++){var _0x3a3408=_0x17e46e[_0x4e675c];if(_0x3a3408.type==_0x21602a[_0x9bce("0xcb")]||_0x21602a[_0x9bce("0xcc")](_0x3a3408[_0x9bce("0x15")],_0x21602a[_0x9bce("0xcd")])){if(_0x3a3408[_0x9bce("0x44")]){_0x3a3408[_0x9bce("0xb8")](_0x21602a.EvwZT,_0x3a3408.checked)}else{_0x3a3408[_0x9bce("0xce")]("checked")}}else{_0x3a3408[_0x9bce("0xb8")](_0x21602a.hmQWb,_0x3a3408.value)}}continue;case"5":for(var _0x4e675c=0;_0x4e675c<_0x17e46e[_0x9bce("0xb5")];_0x4e675c++){var _0x3a3408=_0x17e46e[_0x4e675c];_0x3a3408[_0x9bce("0xcf")]=_0x3a3408[_0x9bce("0x45")][_0x9bce("0xd0")]("\x0a",_0x21602a[_0x9bce("0xd1")])}continue;case"6":var _0x17e46e=_0x378a88[_0x9bce("0xc3")](_0x9bce("0xd2"));continue}break}}var _0x34eff9="";var _0x49e650={style:_0x5b99eb.importStyle||_0x737188(_0x378a88)};if(_0x5b99eb[_0x9bce("0xd3")]){for(var _0x4e675c=0;_0x21602a[_0x9bce("0xca")](_0x4e675c,_0x5b99eb[_0x9bce("0xd3")][_0x9bce("0xb5")]);_0x4e675c++){var _0x48496e=_0x5b99eb.pages[_0x4e675c];if(_0x21602a[_0x9bce("0xd4")](typeof _0x48496e[_0x9bce("0xd5")],_0x9bce("0xd6"))){_0x48496e=_0x21602a[_0x9bce("0xd7")](_0x37f160,_0x378a88,_0x48496e)}_0x34eff9+=_0x21602a[_0x9bce("0xd8")](_0x21602a[_0x9bce("0xd9")](_0x21602a.GPvXS(_0x21602a[_0x9bce("0xda")]+_0x21602a[_0x9bce("0xdb")](_0x4e675c,1),"\x27>"),_0x21602a[_0x9bce("0xdc")](_0x40a3da,_0x378a88,_0x48496e,_0x5ec6e2)),_0x9bce("0xdd"))}}else{if(_0x5b99eb.jobPages){if(!_0x5b99eb[_0x9bce("0xde")]){var _0x3f0739=_0x21602a[_0x9bce("0xdf")]["split"]("|"),_0x1f8228=0;while(!![]){switch(_0x3f0739[_0x1f8228++]){case"0":_0x5b99eb[_0x9bce("0xde")]=0;continue;case"1":var _0x4e675c=0;continue;case"2":_0x269531=_0x5b99eb[_0x9bce("0x77")]||null;continue;case"3":while(!![]){var _0x48496e=_0x21602a[_0x9bce("0xe0")](_0x37f160,_0x378a88,_0x21602a[_0x9bce("0xdb")]((_0x5b99eb.pagePrefix||"")+_0x21602a[_0x9bce("0xe1")],_0x21602a[_0x9bce("0xe2")](_0x4e675c,1)));if(!_0x48496e){break}_0x4e675c++}continue;case"4":_0x5b99eb.bb=_0x4e675c;continue}break}}for(var _0x4e675c=0;_0x21602a[_0x9bce("0xe3")](_0x4e675c,_0x5b99eb.jobPages);_0x4e675c++){var _0x48496e=_0x37f160(_0x378a88,_0x21602a[_0x9bce("0xe4")](_0x21602a[_0x9bce("0xe5")](_0x5b99eb.pagePrefix||"",_0x9bce("0x48")),_0x21602a[_0x9bce("0xe5")](_0x21602a[_0x9bce("0xe6")](_0x4e675c,_0x5b99eb.jobBase),1)));if(!_0x48496e){break}_0x34eff9+=_0x21602a[_0x9bce("0xe7")](_0x40a3da,_0x378a88,_0x48496e,_0x5ec6e2)}if(_0x5b99eb.done){_0x5b99eb.done=function(){var _0x48496e=_0x465f15[_0x9bce("0xe8")](_0x37f160,_0x378a88,_0x465f15[_0x9bce("0xe9")](_0x465f15[_0x9bce("0xea")](_0x5b99eb[_0x9bce("0xeb")]||"",_0x465f15[_0x9bce("0xec")]),_0x465f15.mfZTk(_0x465f15[_0x9bce("0xed")](_0x4e675c,_0x5b99eb[_0x9bce("0xde")]),1)));if(!_0x48496e&&_0x269531){_0x269531()}else{_0x5b99eb[_0x9bce("0xde")]=_0x465f15[_0x9bce("0xed")](_0x5b99eb.jobBase,_0x5b99eb.jobPages);_0x5b99eb[_0x9bce("0xee")]=document;_0xccd808[_0x9bce("0xef")](_0x5b99eb,![])}}}}else{var _0x4e675c=0;while(!![]){var _0x48496e=_0x21602a[_0x9bce("0xf0")](_0x37f160,_0x378a88,_0x21602a[_0x9bce("0xf1")](_0x5b99eb[_0x9bce("0xeb")]||"",_0x21602a[_0x9bce("0xe1")])+(_0x4e675c+1));if(!_0x48496e){break}_0x34eff9+=_0x21602a[_0x9bce("0xe7")](_0x40a3da,_0x378a88,_0x48496e,_0x5ec6e2);_0x4e675c++}_0x49e650[_0x9bce("0xf2")]=!![]}}if(_0x5ec6e2){_0x49e650[_0x9bce("0xc0")]=_0x34eff9}else{_0x49e650[_0x9bce("0xd3")]=_0x34eff9}return _0x49e650}else{return _0x378a88}}function _0x1c2c9a(_0x10839a){_0x10839a[_0x9bce("0xee")]=_0x49590b(_0x10839a);if(_0x10839a[_0x9bce("0xf3")]&&_0x10839a[_0x9bce("0xf3")][_0x9bce("0xf4")]["innerHTML"]){_0x21602a[_0x9bce("0xf5")](_0x504b53,_0x10839a[_0x9bce("0xf3")][_0x9bce("0xf4")]);_0x10839a[_0x9bce("0xf3")][_0x9bce("0xf4")]=_0x10839a[_0x9bce("0xf3")][_0x9bce("0xf4")][_0x9bce("0xcf")]}if(_0x10839a[_0x9bce("0xf6")]&&_0x10839a[_0x9bce("0xf6")][_0x9bce("0xf4")][_0x9bce("0xcf")]){_0x504b53(_0x10839a.header[_0x9bce("0xf4")]);_0x10839a[_0x9bce("0xf6")][_0x9bce("0xf4")]=_0x10839a[_0x9bce("0xf6")][_0x9bce("0xf4")][_0x9bce("0xcf")]}return _0x10839a}function _0x4ce8de(_0x3835c5,_0x12f283){var _0x5a0917=_0x21602a.bLxSy[_0x9bce("0xbc")]("|"),_0x45a4b0=0;while(!![]){switch(_0x5a0917[_0x45a4b0++]){case"0":var _0x453b45=function(){if(!![]||_0x2bee35[_0x9bce("0xf7")](event[_0x9bce("0xf8")][_0x9bce("0x25")]||"",_0x2bee35[_0x9bce("0xf9")])){_0x4eb6f4[event.srcElement[_0x9bce("0xfa")]]=event[_0x9bce("0xf8")][_0x9bce("0xfb")]["document"];_0x272685--;if(_0x2bee35.cZUac(_0x272685,0)){if(_0x54d27f){_0x3835c5[_0x9bce("0xee")]=_0x4eb6f4[0]}_0x2bee35[_0x9bce("0xfc")](_0x12f283)}}};continue;case"1":var _0x2bee35={JKYRi:function(_0x5bdfc7,_0x3e4bf1){return _0x21602a[_0x9bce("0xfd")](_0x5bdfc7,_0x3e4bf1)},YajZk:_0x9bce("0xfe"),cZUac:function(_0x2758fd,_0x4b1b6c){return _0x21602a.gQKJt(_0x2758fd,_0x4b1b6c)},ldNQv:function(_0x14c929){return _0x14c929()}};continue;case"2":var _0x272685=0;continue;case"3":if(_0x21602a.ASkVz(typeof _0x4eb6f4.push,_0x21602a[_0x9bce("0xb1")])){for(var _0x274e03=0;_0x21602a[_0x9bce("0xff")](_0x274e03,_0x4eb6f4[_0x9bce("0xb5")]);_0x274e03++){if(_0x4eb6f4[_0x274e03]["substring"]){var _0x320de0=_0x9bce("0x100")[_0x9bce("0xbc")]("|"),_0x27f47c=0;while(!![]){switch(_0x320de0[_0x27f47c++]){case"0":var _0x116f30=document[_0x9bce("0xbd")](_0x21602a[_0x9bce("0x101")]);continue;case"1":_0x116f30[_0x9bce("0xfa")]=_0x274e03;continue;case"2":_0x272685++;continue;case"3":_0x4ed7ac[_0x9bce("0x102")](_0x116f30);continue;case"4":_0x116f30[_0x9bce("0x103")]=_0x4eb6f4[_0x274e03];continue;case"5":if(_0x116f30.attachEvent){_0x116f30[_0x9bce("0x104")](_0x21602a.qJpNi,_0x453b45)}else{_0x116f30[_0x9bce("0x20")]=_0x453b45}continue}break}}}}else{if(_0x54d27f){_0x3835c5[_0x9bce("0xee")]=_0x4eb6f4[0]}_0x21602a[_0x9bce("0x105")](_0x12f283)}continue;case"4":if(_0x4eb6f4[_0x9bce("0xd5")]){_0x54d27f=!![];_0x4eb6f4=[_0x4eb6f4]}continue;case"5":var _0x4ed7ac=document[_0x9bce("0xc1")](_0x21602a.oWCxP);continue;case"6":var _0x54d27f=![];continue;case"7":var _0x4eb6f4=_0x3835c5[_0x9bce("0xee")];continue;case"8":if(!_0x4ed7ac){var _0x4b00bb=_0x21602a[_0x9bce("0x106")][_0x9bce("0xbc")]("|"),_0x3a8707=0;while(!![]){switch(_0x4b00bb[_0x3a8707++]){case"0":_0x4ed7ac=document.createElement(_0x9bce("0x3e"));continue;case"1":_0x4ed7ac[_0x9bce("0x107")][_0x9bce("0x6d")]=_0x9bce("0x108");continue;case"2":_0x4ed7ac.id=_0x21602a[_0x9bce("0x109")];continue;case"3":_0x4ed7ac.style[_0x9bce("0x10a")]=_0x21602a[_0x9bce("0x10b")];continue;case"4":_0x4ed7ac[_0x9bce("0x107")][_0x9bce("0x10c")]=_0x21602a[_0x9bce("0x10d")];continue;case"5":document[_0x9bce("0x10e")][_0x9bce("0x102")](_0x4ed7ac);continue}break}}else{_0x4ed7ac.innerHTML=""}continue}break}}function _0x504b53(_0x5e4001){var _0x32c722=[_0x21602a[_0x9bce("0x10f")],_0x21602a.dObsG,_0x21602a[_0x9bce("0x110")],_0x21602a.boVqc,_0x21602a[_0x9bce("0x111")],_0x21602a.gEfdK,_0x21602a[_0x9bce("0x112")],_0x21602a[_0x9bce("0x113")],_0x21602a[_0x9bce("0x114")],"border-collapse",_0x9bce("0x115"),_0x21602a.AnhrC,_0x21602a[_0x9bce("0x116")],_0x21602a[_0x9bce("0x117")],_0x21602a[_0x9bce("0x118")],_0x21602a[_0x9bce("0x119")],_0x9bce("0x11a"),_0x21602a[_0x9bce("0x11b")],_0x21602a.gBLDm,_0x21602a[_0x9bce("0x11c")],_0x21602a[_0x9bce("0x11d")],_0x21602a[_0x9bce("0x11e")],_0x9bce("0x11f"),_0x9bce("0x120"),_0x21602a[_0x9bce("0x121")],_0x21602a[_0x9bce("0x122")],_0x21602a[_0x9bce("0x123")],_0x21602a[_0x9bce("0x124")],"text-transform",_0x21602a[_0x9bce("0x125")],_0x21602a[_0x9bce("0x126")],_0x9bce("0x127"),_0x21602a[_0x9bce("0x128")],_0x21602a.yTlRC,_0x21602a[_0x9bce("0x129")],_0x21602a.mjmez,_0x21602a[_0x9bce("0x12a")],_0x21602a[_0x9bce("0x12b")],_0x21602a[_0x9bce("0x12c")],_0x21602a.yiYim,_0x21602a[_0x9bce("0x12d")],_0x21602a[_0x9bce("0x12e")],_0x9bce("0x12f"),_0x21602a[_0x9bce("0x130")],_0x21602a[_0x9bce("0x131")],_0x21602a[_0x9bce("0x132")],_0x21602a[_0x9bce("0x133")],_0x21602a[_0x9bce("0x134")],_0x21602a[_0x9bce("0x135")],_0x21602a[_0x9bce("0x136")],_0x9bce("0x10a"),_0x21602a[_0x9bce("0x137")],_0x9bce("0x138"),_0x9bce("0x139"),_0x21602a.fzFFQ,_0x21602a[_0x9bce("0x13a")],_0x9bce("0x13b"),_0x21602a[_0x9bce("0x13c")],_0x21602a[_0x9bce("0x13d")]];var _0x16b2f4=_0x5e4001[_0x9bce("0xc3")]("*");for(var _0x2dc190=0;_0x21602a[_0x9bce("0xff")](_0x2dc190,_0x16b2f4[_0x9bce("0xb5")]);_0x2dc190++){var _0x4c4494=_0x16b2f4[_0x9bce("0x13e")](_0x2dc190);if(_0x21602a[_0x9bce("0x13f")](_0x4c4494.tagName,_0x21602a[_0x9bce("0x140")])){_0x4c4494[_0x9bce("0x103")]=_0x4c4494[_0x9bce("0x103")]}var _0xc5af92=(_0x4c4494[_0x9bce("0x141")](_0x9bce("0x107"))||"")[_0x9bce("0xbc")](";");for(var _0x555384=0;_0x21602a[_0x9bce("0x142")](_0x555384,_0x32c722[_0x9bce("0xb5")]);_0x555384++){var _0x480d0c=_0x32c722[_0x555384];var _0x41a963=null;if(_0x4c4494[_0x9bce("0x143")]){_0x41a963=_0x4c4494[_0x9bce("0x143")][_0x480d0c]}else{if(window[_0x9bce("0x144")]){if(window[_0x9bce("0x144")][_0x9bce("0x145")]){_0x41a963=window[_0x9bce("0x144")](_0x4c4494,null)[_0x9bce("0x145")](_0x480d0c)}else{_0x41a963=window[_0x9bce("0x144")](_0x4c4494)[_0x480d0c]}}}if(_0x41a963){_0x4c4494.style[_0x480d0c]=_0x41a963}}}}function _0x49590b(_0x51c63d){var _0x4bc39d=_0x51c63d.documents,_0x54c3f3=null;if(_0x21602a[_0x9bce("0xd4")](typeof _0x4bc39d[_0x9bce("0x146")],_0x21602a.nDJNr)){_0x54c3f3=[];for(var _0x573962=0;_0x21602a.xUDrz(_0x573962,_0x4bc39d[_0x9bce("0xb5")]);_0x573962++){_0x54c3f3.push(_0x21602a[_0x9bce("0xf0")](_0x2fd8cd,_0x4bc39d[_0x573962],_0x51c63d))}return _0x54c3f3}else{return _0x2fd8cd(_0x4bc39d,_0x51c63d)}}function _0x652f73(_0x5b8e36){var _0x3ab991=_0x21602a[_0x9bce("0xf1")](_0x21602a[_0x9bce("0xf1")](_0x21602a[_0x9bce("0xf1")](_0x21602a.yvLmK(_0x21602a.blnaO,_0x21602a[_0x9bce("0x147")](_0x737188,_0x5b8e36[_0x9bce("0x148")])),"</style></head><body>"),_0x21602a[_0x9bce("0xf0")](_0x40a3da,_0x5b8e36.ownerDocument,_0x5b8e36)),_0x21602a[_0x9bce("0x149")]);return _0x3ab991}var _0x51ce90=[];for(var _0x2f18cc=0;_0x21602a[_0x9bce("0x142")](_0x2f18cc,256);_0x2f18cc++){_0x51ce90[_0x2f18cc]=_0x21602a.hDuvs(_0x21602a.KYKDY(_0x2f18cc,16)?"0":"",_0x2f18cc[_0x9bce("0x14a")](16))}function _0x1134cf(){var _0x33ac3f=_0x21602a.sjjpE(Math.random(),4294967295)|0;var _0x28902f=_0x21602a[_0x9bce("0x14b")](Math[_0x9bce("0x14c")]()*4294967295,0);var _0x13e2f2=_0x21602a[_0x9bce("0x14b")](_0x21602a[_0x9bce("0x14d")](Math[_0x9bce("0x14c")](),4294967295),0);var _0x50cde3=Math[_0x9bce("0x14c")]()*4294967295|0;return _0x21602a[_0x9bce("0x14e")](_0x21602a[_0x9bce("0x14f")](_0x21602a[_0x9bce("0x14f")](_0x21602a[_0x9bce("0x14f")](_0x21602a[_0x9bce("0x150")](_0x21602a[_0x9bce("0x150")](_0x21602a[_0x9bce("0x151")](_0x21602a[_0x9bce("0x151")](_0x21602a[_0x9bce("0x151")](_0x21602a[_0x9bce("0x152")](_0x21602a[_0x9bce("0x152")](_0x21602a[_0x9bce("0x153")](_0x21602a.kzNNA(_0x21602a[_0x9bce("0x154")](_0x21602a[_0x9bce("0x154")](_0x21602a.pfXgW(_0x21602a.pfXgW(_0x51ce90[_0x33ac3f&255],_0x51ce90[_0x21602a[_0x9bce("0x155")](_0x21602a[_0x9bce("0x156")](_0x33ac3f,8),255)])+_0x51ce90[_0x21602a[_0x9bce("0x157")](_0x33ac3f>>16,255)],_0x51ce90[_0x21602a[_0x9bce("0x158")](_0x21602a[_0x9bce("0x156")](_0x33ac3f,24),255)]),"-"),_0x51ce90[_0x21602a[_0x9bce("0x158")](_0x28902f,255)]),_0x51ce90[_0x21602a[_0x9bce("0x156")](_0x28902f,8)&255]),"-"),_0x51ce90[_0x21602a[_0x9bce("0x159")](_0x21602a.unqnc(_0x28902f,16),15)|64]),_0x51ce90[_0x21602a.yKDOJ(_0x28902f>>24,255)]),"-"),_0x51ce90[_0x21602a.RqRNU(_0x13e2f2&63,128)]),_0x51ce90[_0x21602a[_0x9bce("0x15a")](_0x21602a[_0x9bce("0x15b")](_0x13e2f2,8),255)]),"-"),_0x51ce90[_0x13e2f2>>16&255]),_0x51ce90[_0x21602a.axpIV(_0x21602a[_0x9bce("0x15b")](_0x13e2f2,24),255)]),_0x51ce90[_0x50cde3&255])+_0x51ce90[_0x21602a.THStc(_0x50cde3,8)&255],_0x51ce90[_0x50cde3>>16&255]),_0x51ce90[_0x21602a.axpIV(_0x21602a[_0x9bce("0x15c")](_0x50cde3,24),255)])}function _0x1c1a17(_0x211963){for(p in _0x211963){return ![]}return !![]}function _0x47f228(_0x28150c){var _0x41f9c7=[_0x21602a.HbEIL,_0x21602a[_0x9bce("0x15d")],_0x9bce("0x15e"),_0x21602a[_0x9bce("0x15f")]];for(var _0x2f18cc=0;_0x2f18cc<_0x41f9c7[_0x9bce("0xb5")];_0x2f18cc++){var _0x493f3d=_0x41f9c7[_0x2f18cc];if(_0x28150c[_0x493f3d]){_0x28150c[_0x493f3d]=_0x21602a[_0x9bce("0x160")](_0x4a4645,_0x28150c[_0x493f3d],![],_0x21602a.oWJnN(_0x2f18cc,0));_0x28150c._hasCallback=!![]}}if(_0x28150c[_0x9bce("0x161")]&&_0x28150c.dragDesigner["ok"]){_0x28150c[_0x9bce("0x161")]["ok"]=_0x21602a.Jicnp(_0x4a4645,_0x28150c[_0x9bce("0x161")]["ok"]);_0x28150c[_0x9bce("0x162")]=!![]}}var _0x3afa83;var _0x35783d;var _0x31bc48=[];_0x31bc48[3]=_0x21602a[_0x9bce("0x163")](as,_0x52d204)+_0x21602a.SJqwp;_0x31bc48[4]=_0x21602a[_0x9bce("0x164")](as+_0x52d204,_0x21602a[_0x9bce("0x165")]);var _0x2a5797={};var _0x3d36b0=0;var _0x3d6cbb;var _0x4adde8;function _0x2336d3(){var _0xc7b0c7={hGPLm:_0x9bce("0x166"),XHEpF:function(_0x1098cd){return _0x21602a.NPwfa(_0x1098cd)},xafpd:function(_0x1fa816,_0x589c94,_0x472f73,_0x29b315){return _0x21602a[_0x9bce("0x160")](_0x1fa816,_0x589c94,_0x472f73,_0x29b315)},dDibj:function(_0x3fb21d,_0x4f752d){return _0x21602a[_0x9bce("0x167")](_0x3fb21d,_0x4f752d)},APAbC:_0x21602a[_0x9bce("0x168")]};_0x21602a[_0x9bce("0xf0")](setTimeout,function(){var _0x5edc09={lwVFk:_0xc7b0c7.hGPLm,WyosR:function(_0x1c8163){return _0xc7b0c7[_0x9bce("0x169")](_0x1c8163)}};_0xc7b0c7.xafpd(_0x2e341e,_0xc7b0c7[_0x9bce("0x16a")](_0x31bc48[1],_0xc7b0c7[_0x9bce("0x16b")]),{},function(_0x5c18f9,_0x3178ea,_0x49e9b5){if(_0x49e9b5!=200||_0x5c18f9[_0x5edc09.lwVFk]){_0x1b5bc6=![];return}_0x5edc09[_0x9bce("0x16c")](_0x2336d3)})},30000)}function _0x44d4f2(){_0x4adde8=!![];_0x2e341e(_0x21602a.nTuvq(_0x31bc48[1],_0x9bce("0x16d")),{},function(_0xf0e700,_0x3fca20,_0x5d8694){if(_0x21602a[_0x9bce("0x16e")](_0x5d8694,200)||_0xf0e700[_0x21602a[_0x9bce("0x16f")]]){_0x1b5bc6=![];return}try{if(_0xf0e700[_0x9bce("0x170")]){_0x2a5797[_0xf0e700[_0x9bce("0x170")]]["apply"](null,_0xf0e700.params||[_0xf0e700[_0x9bce("0x171")]]);if(_0x21602a[_0x9bce("0x16e")](_0xf0e700[_0x9bce("0x170")][_0x9bce("0xb")](_0x21602a[_0x9bce("0x172")]),0)){delete _0x2a5797[_0xf0e700[_0x9bce("0x170")]]}}}catch(_0x5df0d3){}if(_0x21602a[_0x9bce("0x173")](_0x1c1a17,_0x2a5797)){_0x4adde8=![]}else{_0x44d4f2()}})}var _0x1b5bc6=![];var _0x3a599f=![];var _0x58ad08=[];function _0x5eb958(){var _0x312b27="1|3|2|0|4"[_0x9bce("0xbc")]("|"),_0x4a8116=0;while(!![]){switch(_0x312b27[_0x4a8116++]){case"0":if(_0x12f36b){_0x3cfe02[_0x9bce("0x174")]=_0x15fb76;_0x21752b=_0x21602a.nTuvq(_0x21602a[_0x9bce("0x175")]+_0x12f36b,"&")}continue;case"1":var _0x2a7580={QqqBf:function(_0x50947a,_0x44a83e,_0x2f9895){return _0x50947a(_0x44a83e,_0x2f9895)},wUukE:_0x21602a[_0x9bce("0x176")],hhZxB:function(_0x171b2c,_0x5692f9,_0xcdc06a){return _0x21602a.fUBID(_0x171b2c,_0x5692f9,_0xcdc06a)},Awiuc:function(_0x133691,_0x467fa7){return _0x21602a[_0x9bce("0x177")](_0x133691,_0x467fa7)},dFTBS:function(_0x497f7c,_0x4f3d25){return _0x21602a[_0x9bce("0x178")](_0x497f7c,_0x4f3d25)},YbUKs:"\x20杰表云打印（JCP）未安装或未运行.",tniZT:function(_0x749a8f,_0x5c6f3b){return _0x21602a[_0x9bce("0x179")](_0x749a8f,_0x5c6f3b)},hMSnr:function(_0x571e14,_0x249352){return _0x21602a[_0x9bce("0x17a")](_0x571e14,_0x249352)},luXlO:_0x21602a[_0x9bce("0x17b")],kSglj:function(_0x1b53e3,_0x5da104){return _0x1b53e3(_0x5da104)},aAuZe:function(_0x35350a,_0x42f72a){return _0x21602a[_0x9bce("0x17c")](_0x35350a,_0x42f72a)},kqCqd:_0x9bce("0x17d"),mPdZV:function(_0x4d609f,_0x3c2820){return _0x21602a[_0x9bce("0x17a")](_0x4d609f,_0x3c2820)},eSRWa:function(_0x353036,_0x87e3ec){return _0x353036+_0x87e3ec},DFEaw:_0x21602a[_0x9bce("0x17e")],XvCXe:function(_0x4e1771,_0x1ab085){return _0x21602a[_0x9bce("0x17f")](_0x4e1771,_0x1ab085)},RItEv:function(_0x3403cd,_0x32bfe9){return _0x21602a[_0x9bce("0x17f")](_0x3403cd,_0x32bfe9)},vKnhG:function(_0x125fb1,_0x439856){return _0x21602a[_0x9bce("0x17f")](_0x125fb1,_0x439856)},SPluS:function(_0x353adf,_0x2d682b){return _0x353adf+_0x2d682b},bcNbX:_0x21602a.SDQje,abcPV:function(_0xeb1879,_0x14d536){return _0x21602a[_0x9bce("0x180")](_0xeb1879,_0x14d536)},hMbEd:function(_0x255540,_0x4f38a4){return _0x21602a.BjyMc(_0x255540,_0x4f38a4)},GgdKJ:function(_0x12d2fd){return _0x21602a[_0x9bce("0x181")](_0x12d2fd)},WxLXD:function(_0x216fc9,_0x55294a){return _0x21602a.gsSOa(_0x216fc9,_0x55294a)},KSruG:function(_0x38a761,_0x2d0997){return _0x21602a[_0x9bce("0x182")](_0x38a761,_0x2d0997)},cJbUj:_0x21602a[_0x9bce("0x16f")]};continue;case"2":var _0x21752b="";continue;case"3":var _0x3cfe02={method:_0x21602a[_0x9bce("0x183")],version:2,lic:JCP[_0x9bce("0x2b")]||"",base:document[_0x9bce("0x184")]};continue;case"4":_0x2e341e(_0x21602a[_0x9bce("0x185")](_0x21602a[_0x9bce("0x186")](_0x21602a[_0x9bce("0x187")](_0x21602a[_0x9bce("0x187")](as,_0x52d204),ar),_0x21602a[_0x9bce("0x188")]),_0x21752b),_0x3cfe02,function(_0x407d14,_0x1f87ab,_0x348890){var _0x5eaf49={rKeYM:function(_0x84415a,_0x452a93,_0x2d31a9){return _0x2a7580[_0x9bce("0x189")](_0x84415a,_0x452a93,_0x2d31a9)},tfwfR:function(_0x483218,_0x130c76,_0x407854,_0x43e4dd){return _0x483218(_0x130c76,_0x407854,_0x43e4dd)},evSCx:function(_0x581b78,_0x246757){return _0x581b78+_0x246757},Odkbk:_0x2a7580[_0x9bce("0x18a")],nsyuW:"getVersion",tccPw:function(_0x5d5626,_0x7e2f0e){return _0x5d5626!=_0x7e2f0e},CDAoB:function(_0x232ee1,_0x4a3c36,_0x28a01d){return _0x2a7580[_0x9bce("0x18b")](_0x232ee1,_0x4a3c36,_0x28a01d)},mXbEi:function(_0x133389,_0x16da3f){return _0x2a7580[_0x9bce("0x18c")](_0x133389,_0x16da3f)}};if(_0x2a7580[_0x9bce("0x18d")](_0x348890,200)){JCP[_0x9bce("0x2b")]=null;var _0x54032b=_0x2a7580[_0x9bce("0x18e")];if(!_0x5f4803[_0x9bce("0x18f")]){if(_0x2a7580[_0x9bce("0x190")](_0x52d204,ap)){_0x2a7580.Awiuc(alert,_0x54032b=_0x2a7580.hMSnr(_0x2a7580.luXlO,_0x52d204));return _0x2a7580[_0x9bce("0x191")](_0x5c4d60,_0x54032b)}if(JCP[_0x9bce("0x192")]){if(JCP[_0x9bce("0x192")][_0x9bce("0x193")]){JCP.setup[_0x9bce("0x193")]()}else{if(!_0x3a599f){if(JCP.setup[_0x9bce("0x194")]){_0x54032b=JCP.setup[_0x9bce("0x194")]}_0x2a7580.aAuZe(alert,_0x54032b);if(JCP.setup[_0x9bce("0x94")]){_0x3a599f=!![];document[_0x9bce("0x195")][_0x9bce("0x196")]=JCP[_0x9bce("0x192")]["download"];var _0x1e9b98=function(){_0x5eaf49.tfwfR(_0x2e341e,_0x5eaf49.evSCx(_0x5eaf49[_0x9bce("0x197")](as,_0x52d204)+ar,_0x5eaf49[_0x9bce("0x198")]),{method:_0x5eaf49[_0x9bce("0x199")]},function(_0x5f05cb,_0x40a08c,_0x245f9e){if(_0x5f05cb[_0x9bce("0xb0")]){_0x5a6f85(null)}else{_0x5eaf49.rKeYM(setTimeout,_0x1e9b98,3000)}})};setTimeout(_0x1e9b98,10000)}}}}else{alert(_0x54032b)}}return _0x2a7580[_0x9bce("0x19a")](_0x5c4d60,_0x54032b)}else{if(JCP[_0x9bce("0x2b")]){JCP.lic=""}if(_0x407d14[_0x2a7580.kqCqd]){_0x1b5bc6=!![];_0x3d6cbb=_0x407d14[_0x2a7580[_0x9bce("0x19b")]];_0x31bc48[0]=_0x2a7580[_0x9bce("0x19c")](_0x2a7580[_0x9bce("0x19d")](_0x2a7580[_0x9bce("0x19d")](_0x2a7580[_0x9bce("0x19e")](as,_0x52d204),ar)+_0x2a7580[_0x9bce("0x19f")],_0x3d6cbb)+_0x9bce("0x1a0"),_0x21752b);_0x31bc48[1]=_0x2a7580[_0x9bce("0x19e")](_0x2a7580[_0x9bce("0x1a1")](_0x2a7580[_0x9bce("0x1a1")](_0x2a7580[_0x9bce("0x1a1")](_0x2a7580[_0x9bce("0x1a1")](_0x2a7580.RItEv(as,_0x52d204),ar),_0x2a7580[_0x9bce("0x19f")]),_0x3d6cbb),"&"),_0x21752b);_0x31bc48[2]=_0x2a7580.vKnhG(_0x2a7580[_0x9bce("0x1a2")](_0x2a7580[_0x9bce("0x1a2")](as,_0x52d204),ar),_0x2a7580[_0x9bce("0x1a3")]);_0x31bc48[3]=_0x2a7580[_0x9bce("0x1a4")](_0x2a7580[_0x9bce("0x1a5")](_0x2a7580.hMbEd(as,_0x52d204),ar),_0x2a7580.wUukE);_0xccd808[_0x9bce("0xab")]=_0x3d6cbb;_0x2a7580[_0x9bce("0x1a6")](_0x2336d3);_0x2a7580[_0x9bce("0x1a6")](_0x44d4f2);if(JCP[_0x9bce("0x192")][_0x9bce("0x1a7")]&&JCP[_0x9bce("0x192")][_0x9bce("0x1a7")]!=_0x407d14[_0x9bce("0x1a7")]){var _0x1e9b98=function(){_0x2e341e(_0x31bc48[3],{method:_0x5eaf49[_0x9bce("0x199")]},function(_0x2ead3f,_0x4e8f21,_0x44293a){if(_0x5eaf49.tccPw(_0x2ead3f[_0x9bce("0xb0")],JCP[_0x9bce("0x192")]["version"])){_0x5eaf49.CDAoB(setTimeout,_0x1e9b98,3000)}else{_0x5eaf49[_0x9bce("0x1a8")](_0x5a6f85,null)}})};_0x2a7580[_0x9bce("0x1a6")](getJCP)["update"](JCP[_0x9bce("0x192")][_0x9bce("0x94")],JCP[_0x9bce("0x192")]["version"]);_0x2a7580.hhZxB(setTimeout,_0x1e9b98,3000)}else{while(_0x58ad08[_0x9bce("0xb5")]){_0x58ad08[_0x9bce("0x1a9")]()()}}}else{_0x58ad08[_0x9bce("0xb5")]=0;_0x2a7580[_0x9bce("0x1aa")](alert,_0x407d14[_0x9bce("0x166")]);return _0x2a7580[_0x9bce("0x1ab")](_0x5c4d60,_0x407d14[_0x2a7580[_0x9bce("0x1ac")]])}}});continue}break}}function _0x5a6f85(_0x3575cd){var _0x465f36={rUUSg:function(_0x22023d){return _0x21602a[_0x9bce("0x181")](_0x22023d)}};_0x3575cd&&_0x58ad08[_0x9bce("0x146")](_0x3575cd);if(_0x21602a[_0x9bce("0x1ad")](_0x58ad08[_0x9bce("0xb5")],1)||!_0x3575cd){if(!JCP[_0x9bce("0x2b")]){X(function(){_0x465f36.rUUSg(_0x5eb958)},_0x52d204)}else{_0x21602a[_0x9bce("0x181")](_0x5eb958)}}}function _0x4a4645(_0x52143f,_0x5a2f29,_0x5e46eb){if(_0x52143f){var _0x41a66e=_0x5e46eb?_0x21602a.qgLIQ:_0x21602a[_0x9bce("0x1ae")]+_0x3d36b0++;_0x2a5797[_0x41a66e]=!_0x5a2f29?_0x52143f:function(_0x117c71){_0x117c71=_0x21602a[_0x9bce("0x1af")](eval,"("+_0x117c71+")");_0x21602a.dwUJL(_0x52143f,_0x117c71)};return _0x21602a[_0x9bce("0x187")](_0x21602a[_0x9bce("0x1b0")](_0x3d6cbb,":"),_0x41a66e)}else{return""}}function _0x5ea152(_0x166b94){if(!_0x1b5bc6){_0x21602a.qugNm(_0x5a6f85,_0x166b94)}else{_0x21602a[_0x9bce("0x1b1")](_0x166b94)}}function _0x265e84(_0x3c78c7,_0x40e5b6,_0x1833ea){if(_0x21602a[_0x9bce("0x178")](_0x1833ea,200)||_0x3c78c7[_0x21602a[_0x9bce("0x16f")]]){if(_0x21602a[_0x9bce("0x1b2")](_0x1833ea,200)&&(_0x21602a[_0x9bce("0x1b2")](_0x3c78c7[_0x21602a.dTSwT],1003)||_0x3c78c7[_0x21602a.dTSwT]==_0x21602a[_0x9bce("0x1b3")])){var _0x27498c=_0x3c78c7.ec||0;if(_0x21602a.sWxvR(_0x27498c,3)){_0x21602a[_0x9bce("0x1b4")](alert,_0x9bce("0x1b5"))}else{if(_0x21602a[_0x9bce("0x1b6")](_0x27498c,4)){alert(_0x21602a.fDDqV)}else{if(_0x21602a[_0x9bce("0x1b6")](_0x27498c,6)){_0x21602a[_0x9bce("0x1b4")](alert,_0x21602a[_0x9bce("0x1b7")])}else{if(_0x21602a.uBNrz(_0x27498c,500)){alert(_0x21602a[_0x9bce("0x1b8")](_0x21602a.LUrmD,_0x3c78c7[_0x9bce("0x1b9")]))}else{if(_0x21602a[_0x9bce("0x1ba")](_0x27498c,501)){_0x21602a[_0x9bce("0x1b4")](alert,_0x21602a[_0x9bce("0x1bb")])}else{if(_0x27498c==502){_0x21602a.AOcSi(alert,_0x21602a[_0x9bce("0x1bc")])}else{if(_0x21602a[_0x9bce("0x1ba")](_0x27498c,503)){_0x21602a[_0x9bce("0x1bd")](alert,_0x21602a[_0x9bce("0x1b8")]("授权到期,\x20",_0x3c78c7[_0x9bce("0x1b9")]))}else{if(_0x21602a[_0x9bce("0x1be")](_0x27498c,504)){_0x21602a[_0x9bce("0x1bd")](alert,_0x21602a[_0x9bce("0x1b8")](_0x21602a.ROqga,_0x3c78c7[_0x9bce("0x1b9")]))}else{if(_0x27498c==505){_0x21602a[_0x9bce("0x1bf")](alert,_0x21602a[_0x9bce("0x1b8")](_0x21602a.hOVzy,_0x3c78c7[_0x9bce("0x1b9")])+_0x21602a[_0x9bce("0x1c0")])}}}}}}}}}_0x2a5797={};au=""}else{if(_0x21602a[_0x9bce("0x1be")](_0x1833ea,200)&&_0x3c78c7[_0x21602a[_0x9bce("0x16f")]]){_0x21602a[_0x9bce("0x1bf")](alert,_0x21602a[_0x9bce("0x1c1")]("错误:",_0x3c78c7[_0x21602a[_0x9bce("0x16f")]]))}}_0x1b5bc6=![];return}}function _0x2d7234(_0x4148f6,_0x34a20a,_0x4b53c3){!_0x4adde8&&_0x21602a[_0x9bce("0x1c2")](_0x44d4f2);_0x2e341e(_0x31bc48[_0x4148f6]+(_0x34a20a||""),_0x4b53c3,_0x265e84)}var _0x2ca7fd=!![];var _0x5f4803={};var _0xccd808=null;return(_0xccd808={initialize:function(){return this},options:function(_0x34495c){if(_0x34495c){_0x5f4803=_0x34495c;return this}else{return _0x5f4803}},print:function(_0x129684,_0x4633fb){_0x21602a[_0x9bce("0x1c3")](_0x5ea152,function(){_0x129684=_0x21602a[_0x9bce("0x1c3")](_0x1c2c9a,_0x129684);_0x47f228(_0x129684);_0x21602a[_0x9bce("0x160")](_0x2d7234,1,null,{method:_0x9bce("0xef"),params:[_0x129684,_0x4633fb?!![]:![]]})})},printPreview:function(_0x2f2766,_0x1e4134){var _0x3ae868={EojYl:function(_0xd53e9,_0x1493e1){return _0x21602a[_0x9bce("0x1c3")](_0xd53e9,_0x1493e1)},NmvJn:function(_0x920984,_0xb831cf,_0x2f493a,_0x1f734e){return _0x920984(_0xb831cf,_0x2f493a,_0x1f734e)},immQW:_0x21602a[_0x9bce("0x1c4")]};_0x21602a[_0x9bce("0x1c3")](_0x5ea152,function(){_0x2f2766=_0x3ae868.EojYl(_0x1c2c9a,_0x2f2766);_0x3ae868.EojYl(_0x47f228,_0x2f2766);_0x3ae868[_0x9bce("0x1c5")](_0x2d7234,1,null,{method:_0x3ae868.immQW,params:[_0x2f2766,_0x1e4134?!![]:![]]})})},getVersion:function(_0x10a57a){var _0x56781d={lwwDm:function(_0x40f25a,_0x2fa43e,_0x4753c6,_0x1ca14){return _0x21602a.WqwHn(_0x40f25a,_0x2fa43e,_0x4753c6,_0x1ca14)},IJBco:_0x21602a[_0x9bce("0x1c6")],JyeOc:function(_0x2e91b1,_0x1fb83e){return _0x21602a.NRPuW(_0x2e91b1,_0x1fb83e)}};_0x21602a.ebGDj(_0x5ea152,function(){_0x56781d[_0x9bce("0x1c7")](_0x2d7234,0,_0x56781d[_0x9bce("0x1c8")],{method:_0x9bce("0x1c9"),event:_0x56781d[_0x9bce("0x1ca")](_0x4a4645,_0x10a57a)})})},getDefaultPrinter:function(_0x5aa63a){var _0x4153ac={aQLZH:_0x21602a[_0x9bce("0x1cb")]};_0x21602a.ebGDj(_0x5ea152,function(){_0x2d7234(0,null,{method:_0x4153ac.aQLZH,event:_0x4a4645(_0x5aa63a)})})},getPrinterCapability:function(_0x2660fb,_0x3bdb92,_0x5d8e64){var _0x227606={FinHW:function(_0x160bd4,_0x1b1d82){return _0x21602a.siIdM(_0x160bd4,_0x1b1d82)},KsSFp:function(_0x3e0f3b,_0x27a973){return _0x3e0f3b+_0x27a973},RzibI:function(_0x4869a8,_0x4b5e6d){return _0x21602a[_0x9bce("0x1c1")](_0x4869a8,_0x4b5e6d)},lQRwD:function(_0x20463d,_0x4537bb){return _0x21602a.siIdM(_0x20463d,_0x4537bb)}};var _0x1f5eb4=function(_0x1b1c96){_0x1b1c96=_0x227606[_0x9bce("0x1cc")](eval,_0x227606[_0x9bce("0x1cd")](_0x227606[_0x9bce("0x1ce")]("(",_0x1b1c96),")"));_0x227606.lQRwD(_0x5d8e64,_0x1b1c96[_0x9bce("0xb0")])};_0x21602a[_0x9bce("0x1cf")](_0x5ea152,function(){_0x2d7234(0,null,{method:_0x21602a.bLRbX,params:[_0x2660fb,_0x3bdb92],event:_0x21602a[_0x9bce("0x1d0")](_0x4a4645,_0x1f5eb4)})})},about:function(){var _0x267e3f={lGhnp:function(_0x16d852,_0x4ca280,_0x51bdf6,_0x599dd0){return _0x21602a.WqwHn(_0x16d852,_0x4ca280,_0x51bdf6,_0x599dd0)}};_0x21602a[_0x9bce("0x1d1")](_0x5ea152,function(){_0x267e3f[_0x9bce("0x1d2")](_0x2d7234,1,"tq=1&",{method:_0x9bce("0x1d3")})})},exit:function(){_0x21602a[_0x9bce("0x1d4")](_0x5ea152,function(){_0x21602a[_0x9bce("0x1d5")](_0x2d7234,1,null,{method:_0x21602a[_0x9bce("0x1d6")]})})},emptyCallback:function(){},getPrinters:function(_0x391c1e){_0x21602a[_0x9bce("0x1d7")](_0x5ea152,function(){_0x21602a[_0x9bce("0x1d8")](_0x2d7234,0,null,{method:_0x21602a[_0x9bce("0x1d9")],event:_0x21602a[_0x9bce("0x1da")](_0x4a4645,_0x391c1e)})})},getPrinterJobs:function(_0x232f5f,_0x232dc9){_0x21602a[_0x9bce("0x1d7")](_0x5ea152,function(){_0x21602a[_0x9bce("0x1d8")](_0x2d7234,0,null,{method:_0x21602a.JNZHi,params:[_0x232f5f],event:_0x21602a[_0x9bce("0x1d7")](_0x4a4645,_0x232dc9)})})},isPrinterError:function(_0x591e97,_0xb654f4){_0x21602a[_0x9bce("0x1d7")](_0x5ea152,function(){_0x2d7234(0,null,{method:_0x21602a.WcThR,params:[_0x591e97],event:_0x21602a[_0x9bce("0x1d7")](_0x4a4645,_0xb654f4)})})},getPapers:function(_0x4c47f6,_0x3d7e91){_0x21602a[_0x9bce("0x1d7")](_0x5ea152,function(){_0x21602a[_0x9bce("0x1db")](_0x2d7234,0,null,{method:_0x21602a[_0x9bce("0x1dc")],params:[_0x4c47f6],event:_0x4a4645(_0x3d7e91)})})},getCaptureSources:function(_0x506957){_0x21602a[_0x9bce("0x1dd")](_0x5ea152,function(){_0x21602a[_0x9bce("0x1db")](_0x2d7234,1,null,{method:_0x21602a[_0x9bce("0x1de")],event:_0x4a4645(_0x506957,!![])})})},getCaptureSources:function(_0x46d894){var _0x1d16f8={NVXgs:_0x21602a[_0x9bce("0x1de")]};_0x5ea152(function(){_0x2d7234(1,null,{method:_0x1d16f8[_0x9bce("0x1df")],event:_0x4a4645(_0x46d894,!![])})})},aH:function(_0x65fd8d,_0x4d76d6){_0x21602a.VPxlX(_0x5ea152,function(){_0x2d7234(1,null,{method:"aH",event:_0x4a4645(_0x4d76d6,!![])})})},capture:function(_0x1d65ac,_0x14ee80){var _0x55b1e7={bFEym:function(_0x215073,_0x272059){return _0x215073(_0x272059)}};_0x21602a[_0x9bce("0x1e0")](_0x5ea152,function(){_0x21602a.EgLVs(_0x2d7234,1,null,{method:_0x21602a[_0x9bce("0x1e1")],params:[_0x21602a[_0x9bce("0x1e2")](_0x1d65ac,""),{}],event:_0x21602a[_0x9bce("0x1dd")](_0x4a4645,function(_0x2b9660){_0x55b1e7[_0x9bce("0x1e3")](_0x14ee80,_0x2b9660)})})})},isCustomPaperSupported:function(_0x16c58d,_0x3b72f4){var _0x21249d={WMElr:function(_0x5820c0,_0x50d6e5,_0x1cd255,_0xcab597){return _0x5820c0(_0x50d6e5,_0x1cd255,_0xcab597)},cgWjd:_0x21602a.Ubfjq,tvogl:function(_0x9c8137,_0x44cae3){return _0x21602a[_0x9bce("0x1e4")](_0x9c8137,_0x44cae3)}};_0x21602a[_0x9bce("0x1e5")](_0x5ea152,function(){_0x21249d[_0x9bce("0x1e6")](_0x2d7234,0,null,{method:_0x21249d[_0x9bce("0x1e7")],params:[_0x16c58d],event:_0x21249d.tvogl(_0x4a4645,_0x3b72f4)})})},addPaper:function(_0x341ede,_0x2cedd3,_0x518c38,_0x19fe5b,_0x27749b){_0x21602a.LLIzM(_0x5ea152,function(){_0x21602a[_0x9bce("0x1e8")](_0x2d7234,0,null,{method:_0x21602a.dujkW,params:[_0x341ede,_0x2cedd3,_0x518c38,_0x19fe5b],event:_0x21602a[_0x9bce("0x1e9")](_0x4a4645,_0x27749b)})})},isImplemented:function(_0x2587b8,_0x39f0ba){var _0x4c872c={CEjJi:function(_0xd86c5b,_0x60dd16,_0x31134d,_0x5b25c3){return _0x21602a[_0x9bce("0x1e8")](_0xd86c5b,_0x60dd16,_0x31134d,_0x5b25c3)}};_0x5ea152(function(){_0x4c872c.CEjJi(_0x2d7234,0,null,{method:_0x9bce("0x1ea"),params:[_0x2587b8],event:_0x4a4645(_0x39f0ba)})})},getLocalMacAddress:function(_0xfd9aab){var _0x13e7af={yvKSz:function(_0x4c5645,_0xc640,_0x33c3e1,_0x425811){return _0x4c5645(_0xc640,_0x33c3e1,_0x425811)},PVBKa:function(_0x7d53d6,_0x2bb296){return _0x21602a[_0x9bce("0x1e9")](_0x7d53d6,_0x2bb296)}};_0x21602a[_0x9bce("0x1e9")](_0x5ea152,function(){_0x13e7af[_0x9bce("0x1eb")](_0x2d7234,0,null,{method:_0x9bce("0x1ec"),event:_0x13e7af[_0x9bce("0x1ed")](_0x4a4645,_0xfd9aab)})})},getCPUSerialNo:function(_0x5bf40a){var _0x4fcc32={HjhPi:function(_0x51e507,_0x3bf2d8,_0x5d2d77,_0x5cf473){return _0x21602a.FCAob(_0x51e507,_0x3bf2d8,_0x5d2d77,_0x5cf473)},dGJrv:_0x21602a[_0x9bce("0x1ee")],ApNfc:function(_0x5d144b,_0x103b6){return _0x21602a[_0x9bce("0x1e9")](_0x5d144b,_0x103b6)}};_0x21602a[_0x9bce("0x1e9")](_0x5ea152,function(){_0x4fcc32[_0x9bce("0x1ef")](_0x2d7234,0,null,{method:_0x4fcc32[_0x9bce("0x1f0")],event:_0x4fcc32.ApNfc(_0x4a4645,_0x5bf40a)})})},setOffsetPage:function(_0xfca082,_0x269283){var _0x2220b3={dmxMV:function(_0x45b553,_0x4bc016,_0x389df3,_0x13bd4b){return _0x45b553(_0x4bc016,_0x389df3,_0x13bd4b)},dcYYh:function(_0x6c00b,_0xb9815c){return _0x21602a[_0x9bce("0x1f1")](_0x6c00b,_0xb9815c)}};_0x21602a.DSPkE(_0x5ea152,function(){_0x2220b3.dmxMV(_0x2d7234,0,null,{method:_0x9bce("0x1f2"),params:[_0xfca082],event:_0x2220b3[_0x9bce("0x1f3")](_0x4a4645,_0x269283)})})},isInstalled:function(_0xa9e8bd,_0xa98f3){var _0x673f1b={AaGyO:function(_0x3a5e72,_0xf869bb,_0x4a3005,_0x91f83b){return _0x3a5e72(_0xf869bb,_0x4a3005,_0x91f83b)},LsOGe:"isInstalled",TviJy:function(_0x554413,_0x373bc8){return _0x21602a.xTDSD(_0x554413,_0x373bc8)}};_0x21602a[_0x9bce("0x1f4")](_0x5ea152,function(){_0x673f1b[_0x9bce("0x1f5")](_0x2d7234,0,null,{method:_0x673f1b[_0x9bce("0x1f6")],params:[_0xa9e8bd],event:_0x673f1b[_0x9bce("0x1f7")](_0x4a4645,_0xa98f3)})})},setDragCSS:function(_0x56f746,_0x5b8622,_0x1ad568){var _0x49582c={hsFvk:_0x21602a.mLSfu,MOlPr:function(_0x37cd9a,_0xb07488){return _0x21602a[_0x9bce("0x1f4")](_0x37cd9a,_0xb07488)}};_0x21602a[_0x9bce("0x1f8")](_0x5ea152,function(){_0x2d7234(0,null,{method:_0x49582c.hsFvk,params:[_0x56f746,_0x5b8622],event:_0x49582c[_0x9bce("0x1f9")](_0x4a4645,_0x1ad568)})})},clearSettings:function(_0x108963,_0x3b1ef3){var _0x4179f6={UzfRO:_0x21602a[_0x9bce("0x1fa")],cKwID:function(_0x19a130,_0x3452d8){return _0x21602a[_0x9bce("0x1fb")](_0x19a130,_0x3452d8)}};_0x21602a[_0x9bce("0x1fb")](_0x5ea152,function(){_0x2d7234(0,null,{method:_0x4179f6[_0x9bce("0x1fc")],params:[_0x108963],event:_0x4179f6.cKwID(_0x4a4645,_0x3b1ef3)})})},getSettingsIds:function(_0x297284){var _0x48f954={IzYPG:function(_0x1ecbb7,_0x46de9b,_0x567d94,_0x5ad1af){return _0x1ecbb7(_0x46de9b,_0x567d94,_0x5ad1af)},imHxM:function(_0xddf654,_0x3cc5bd,_0x5d653f){return _0x21602a[_0x9bce("0x1fd")](_0xddf654,_0x3cc5bd,_0x5d653f)}};_0x5ea152(function(){_0x48f954.IzYPG(_0x2d7234,0,null,{method:_0x9bce("0x1fe"),event:_0x48f954[_0x9bce("0x1ff")](_0x4a4645,_0x297284,!![])})})},printTIFF:function(_0x383465,_0x3c1e4d,_0x597181,_0x1d0e02){var _0x2f155a={fNZYT:_0x21602a.sPnFc,fcAGo:function(_0x135a7a,_0xa97656){return _0x21602a.RXNhh(_0x135a7a,_0xa97656)}};_0x21602a[_0x9bce("0x200")](_0x5ea152,function(){_0x2d7234(1,null,{method:_0x2f155a.fNZYT,params:[_0x383465,_0x3c1e4d,_0x597181],event:_0x2f155a[_0x9bce("0x201")](_0x4a4645,_0x1d0e02)})})},printDocument:function(_0x2851ad,_0xd9edbe,_0x5df665){var _0x42f71b={NGWOz:function(_0x1a1d38,_0x25ed43){return _0x21602a[_0x9bce("0x200")](_0x1a1d38,_0x25ed43)},ckptH:function(_0x2a552f,_0x274e82){return _0x21602a[_0x9bce("0x200")](_0x2a552f,_0x274e82)}};_0x5ea152(function(){_0x42f71b.NGWOz(_0x47f228,_0xd9edbe);_0xd9edbe[_0x9bce("0x192")]=JCP[_0x9bce("0x192")][_0x9bce("0x94")];_0x2d7234(1,null,{method:_0x9bce("0x202"),params:[_0x2851ad,_0xd9edbe],event:_0x42f71b.ckptH(_0x4a4645,_0x5df665)})})},exportAsExcel:function(_0x1487b2,_0x40fc94,_0x1e92e8,_0x1f050d){var _0x3898d4={HLodU:function(_0x137e42,_0x469001){return _0x21602a[_0x9bce("0x200")](_0x137e42,_0x469001)},YXAeg:function(_0x328bc5,_0x3fbae0,_0xf3f886,_0x491916){return _0x21602a[_0x9bce("0x203")](_0x328bc5,_0x3fbae0,_0xf3f886,_0x491916)},pWvIk:_0x21602a.EVVhY};_0x21602a.RXNhh(_0x5ea152,function(){var _0x2f3d33=_0x3898d4[_0x9bce("0x204")](_0x652f73,_0x1487b2);_0x3898d4.YXAeg(_0x2d7234,1,null,{method:_0x3898d4[_0x9bce("0x205")],params:[_0x2f3d33,_0x40fc94,_0x1e92e8],event:_0x3898d4[_0x9bce("0x204")](_0x4a4645,_0x1f050d)})})},setupNormalOffset:function(_0x4e8bcd,_0x294eaa){_0x5ea152(function(){_0x21602a[_0x9bce("0x203")](_0x2d7234,1,null,{method:_0x21602a.enfKX,params:[_0x4e8bcd],event:_0x21602a[_0x9bce("0x206")](_0x4a4645,_0x294eaa)})})},download:function(_0x41c3bc,_0x44a3a8,_0x4c9833){var _0x14bf2e={gwMMb:function(_0x5986cd,_0x14f0c9,_0x28b24d,_0x1280b8){return _0x21602a[_0x9bce("0x203")](_0x5986cd,_0x14f0c9,_0x28b24d,_0x1280b8)},EVzAZ:_0x21602a[_0x9bce("0x207")],lHuOq:function(_0x279c60,_0x213e69){return _0x21602a[_0x9bce("0x208")](_0x279c60,_0x213e69)}};_0x21602a.PBhrW(_0x5ea152,function(){_0x14bf2e[_0x9bce("0x209")](_0x2d7234,0,null,{method:_0x14bf2e[_0x9bce("0x20a")],params:[_0x41c3bc,_0x44a3a8],event:_0x14bf2e[_0x9bce("0x20b")](_0x4a4645,_0x4c9833)})})},printToImage:function(_0x13ce5f,_0x249a8f,_0x1af0e6){_0x21602a[_0x9bce("0x20c")](_0x5ea152,function(){_0x13ce5f=_0x21602a.PCQmQ(_0x1c2c9a,_0x13ce5f);_0x21602a[_0x9bce("0x20d")](_0x47f228,_0x13ce5f);_0x21602a[_0x9bce("0x203")](_0x2d7234,1,null,{method:_0x21602a[_0x9bce("0x20e")],params:[_0x13ce5f,_0x249a8f],event:_0x21602a.GoPNq(_0x4a4645,_0x1af0e6)})})},exportAsImage:function(_0x3d24c7,_0x306d06,_0x4732ad){var _0x500a56={rlHgK:function(_0x336451,_0x5dbc68){return _0x21602a.nuHOi(_0x336451,_0x5dbc68)},KeKgq:_0x21602a.lONGb,DpGUT:function(_0x300e10,_0x429d13){return _0x21602a[_0x9bce("0x20f")](_0x300e10,_0x429d13)}};if(_0x52d204==an){_0x5ea152(function(){_0x3d24c7=_0x1c2c9a(_0x3d24c7);_0x21602a.FCAob(_0x2d7234,1,null,{method:_0x21602a.aobFz,params:[_0x3d24c7,_0x306d06],event:_0x4a4645(function(_0x1cfbfd){var _0x54965f=_0x500a56[_0x9bce("0x210")](_0x500a56[_0x9bce("0x210")](_0x500a56.rlHgK(_0x500a56.rlHgK(as,_0x52d204),ar),_0x500a56[_0x9bce("0x211")]),_0x1cfbfd);_0x500a56.DpGUT(_0x4732ad,_0x54965f)})})})}else{getJCP(an)["exportAsImage"](_0x3d24c7,_0x306d06,_0x4732ad)}},exportAsPDF:function(_0x1e1791,_0x446393){if(_0x21602a[_0x9bce("0x212")](_0x52d204,an)){_0x21602a.wMzEA(_0x5ea152,function(){var _0x5ef722={BgfDC:function(_0x1e02f3,_0x94eb40){return _0x21602a[_0x9bce("0x213")](_0x1e02f3,_0x94eb40)},tMewv:_0x21602a[_0x9bce("0x214")],ugfHW:function(_0x2b214b,_0x4b88a9){return _0x21602a[_0x9bce("0x20f")](_0x2b214b,_0x4b88a9)}};_0x1e1791=_0x21602a[_0x9bce("0x20f")](_0x1c2c9a,_0x1e1791);_0x21602a.FCAob(_0x2d7234,1,null,{method:_0x21602a.HNUeO,params:[_0x1e1791],event:_0x21602a[_0x9bce("0x215")](_0x4a4645,function(_0x95f3fa){var _0x4de26d=_0x5ef722[_0x9bce("0x216")](_0x5ef722[_0x9bce("0x216")](_0x5ef722.BgfDC(_0x5ef722[_0x9bce("0x216")](as,_0x52d204),ar),_0x5ef722.tMewv),_0x95f3fa);_0x5ef722[_0x9bce("0x217")](_0x446393,_0x4de26d)})})})}else{_0x21602a[_0x9bce("0x215")](getJCP,an)["exportAsPDF"](_0x1e1791,_0x446393)}},exportAsTIFF:function(_0x554c30,_0x5d8968){var _0x157800={XRbxL:function(_0xd54a17,_0x438de4){return _0x21602a.nuHOi(_0xd54a17,_0x438de4)},WALpL:_0x21602a[_0x9bce("0x214")],VNmyH:function(_0x26482c,_0x41d5ea){return _0x21602a.VozfI(_0x26482c,_0x41d5ea)},okdIH:function(_0x56e2db,_0x3e84d4,_0x2967ef,_0x50afcc){return _0x21602a[_0x9bce("0x218")](_0x56e2db,_0x3e84d4,_0x2967ef,_0x50afcc)},wiQIz:_0x21602a[_0x9bce("0x219")],nLjLZ:function(_0x40bf3e,_0x83f84e){return _0x21602a[_0x9bce("0x21a")](_0x40bf3e,_0x83f84e)}};if(_0x21602a[_0x9bce("0x21b")](_0x52d204,an)){_0x5ea152(function(){_0x554c30=_0x157800[_0x9bce("0x21c")](_0x1c2c9a,_0x554c30);_0x157800[_0x9bce("0x21d")](_0x2d7234,1,null,{method:_0x157800.wiQIz,params:[_0x554c30],event:_0x157800[_0x9bce("0x21e")](_0x4a4645,function(_0x24289e){var _0x2a3adf=_0x157800[_0x9bce("0x21f")](_0x157800[_0x9bce("0x21f")](as+_0x52d204+ar,_0x157800.WALpL),_0x24289e);_0x157800.VNmyH(_0x5d8968,_0x2a3adf)})})})}else{_0x21602a[_0x9bce("0x21a")](getJCP,an)[_0x9bce("0x220")](_0x554c30,_0x5d8968)}},configUpdate:function(_0x1ef452,_0x2438da,_0x2b6f3f){var _0x3e280f={rnfMd:function(_0x537ae1,_0x3bd675,_0x34b2ec,_0x594516){return _0x21602a[_0x9bce("0x221")](_0x537ae1,_0x3bd675,_0x34b2ec,_0x594516)},lARBF:_0x21602a[_0x9bce("0x222")],lKFrc:function(_0x47bdd1,_0xc7c691){return _0x21602a.Iueoe(_0x47bdd1,_0xc7c691)}};_0x21602a[_0x9bce("0x223")](_0x5ea152,function(){_0x3e280f.rnfMd(_0x2d7234,2,null,{method:_0x3e280f[_0x9bce("0x224")],params:[_0x1ef452,_0x2438da],event:_0x3e280f.lKFrc(_0x4a4645,_0x2b6f3f)})})},update:function(_0x376c71,_0xe7500a,_0x579fb6){_0x21602a[_0x9bce("0x225")](_0x5ea152,function(){_0x2d7234(2,null,{method:_0x21602a[_0x9bce("0x226")],params:[_0x376c71,_0xe7500a],event:_0x4a4645(_0x579fb6)})})},getFonts:function(_0x2f75b0){_0x21602a[_0x9bce("0x227")](_0x5ea152,function(){_0x21602a.gnnEV(_0x2d7234,0,null,{method:_0x21602a[_0x9bce("0x228")],event:_0x4a4645(_0x2f75b0)})})},copy:function(_0x57c977,_0x31e24d,_0x5ebd27){_0x21602a[_0x9bce("0x229")](_0x5ea152,function(){_0x2d7234(0,null,{method:_0x21602a[_0x9bce("0x22a")],params:[_0x57c977,_0x31e24d],event:_0x21602a.THpYO(_0x4a4645,_0x5ebd27)})})},copied:function(_0x5b542f,_0x5a9275){var _0x58d2aa={omFsv:function(_0x3f8134,_0x3fe2f,_0x1d0028,_0x5ef9b8){return _0x21602a[_0x9bce("0x22b")](_0x3f8134,_0x3fe2f,_0x1d0028,_0x5ef9b8)},YEZpd:_0x21602a[_0x9bce("0x22c")],DIoxz:function(_0x496006,_0x44fa21){return _0x21602a.qLZdk(_0x496006,_0x44fa21)}};_0x21602a[_0x9bce("0x22d")](_0x5ea152,function(){_0x58d2aa[_0x9bce("0x22e")](_0x2d7234,0,null,{method:_0x58d2aa.YEZpd,params:[_0x5b542f],event:_0x58d2aa.DIoxz(_0x4a4645,_0x5a9275)})})},writeString:function(_0x58c366,_0x20c40e,_0x452c47,_0x27ea0a){var _0x333f47={TtTxg:function(_0x5f10e8,_0x395750,_0x4f2a79,_0x5633b3){return _0x5f10e8(_0x395750,_0x4f2a79,_0x5633b3)},aupot:function(_0x4aa329,_0x3d592d){return _0x21602a[_0x9bce("0x22f")](_0x4aa329,_0x3d592d)}};_0x21602a.wYINO(_0x5ea152,function(){_0x333f47[_0x9bce("0x230")](_0x2d7234,0,null,{method:_0x9bce("0x231"),params:[_0x58c366,_0x20c40e,_0x452c47],event:_0x333f47.aupot(_0x4a4645,_0x27ea0a)})})},writeBase64:function(_0x1e6fa6,_0x3b7d42,_0x4955a6){_0x21602a[_0x9bce("0x232")](_0x5ea152,function(){_0x21602a[_0x9bce("0x22b")](_0x2d7234,0,null,{method:_0x9bce("0x233"),params:[_0x1e6fa6,_0x3b7d42],event:_0x21602a[_0x9bce("0x234")](_0x4a4645,_0x4955a6)})})},readString:function(_0x546052,_0x30cd40,_0x5a2d87){_0x21602a[_0x9bce("0x235")](_0x5ea152,function(){_0x2d7234(0,null,{method:_0x21602a.venmi,params:[_0x546052,_0x30cd40],event:_0x21602a[_0x9bce("0x236")](_0x4a4645,_0x5a2d87)})})},readBase64:function(_0x7d4d06,_0xe87e1){var _0x186e44={CTLIm:function(_0x46092d,_0x346290,_0x12a359,_0x282c0b){return _0x21602a[_0x9bce("0x22b")](_0x46092d,_0x346290,_0x12a359,_0x282c0b)},BhDZF:function(_0x2b748e,_0x51fa70){return _0x21602a[_0x9bce("0x235")](_0x2b748e,_0x51fa70)}};_0x21602a[_0x9bce("0x235")](_0x5ea152,function(){_0x186e44[_0x9bce("0x237")](_0x2d7234,0,null,{method:_0x9bce("0x238"),params:[_0x7d4d06],event:_0x186e44.BhDZF(_0x4a4645,_0xe87e1)})})},readHTML:function(_0x4619c2,_0x5d15af,_0x3fb9d7){_0x21602a[_0x9bce("0x239")](_0x5ea152,function(){_0x21602a[_0x9bce("0x23a")](_0x2d7234,0,null,{method:_0x21602a[_0x9bce("0x23b")],params:[_0x4619c2,_0x5d15af],event:_0x21602a[_0x9bce("0x23c")](_0x4a4645,_0x3fb9d7)})})},chooseFile:function(_0x3ddb38,_0x1bd61b,_0x26e838,_0x187e73){var _0xfb2185={hPxNI:function(_0x18dd9c,_0xd59dee,_0x2ab4b4,_0xc251fa){return _0x21602a[_0x9bce("0x23a")](_0x18dd9c,_0xd59dee,_0x2ab4b4,_0xc251fa)},xHzwm:_0x21602a[_0x9bce("0x23d")],RKSLR:function(_0xef7481,_0x2a544f){return _0x21602a[_0x9bce("0x23e")](_0xef7481,_0x2a544f)}};_0x21602a[_0x9bce("0x23f")](_0x5ea152,function(){_0xfb2185[_0x9bce("0x240")](_0x2d7234,1,null,{method:_0xfb2185[_0x9bce("0x241")],params:[_0x3ddb38,_0x1bd61b,_0x26e838],event:_0xfb2185[_0x9bce("0x242")](_0x4a4645,_0x187e73)})})},showPageSetupDialog:function(_0x1334a0){var _0x17ffd8={ydimt:function(_0x3c14b8,_0x1d1dda){return _0x21602a[_0x9bce("0x23f")](_0x3c14b8,_0x1d1dda)},okkHn:function(_0x2bd96f,_0x992ad8){return _0x21602a.XSbUb(_0x2bd96f,_0x992ad8)},RJGIQ:function(_0x137a25,_0x544a13){return _0x21602a[_0x9bce("0x243")](_0x137a25,_0x544a13)},kQeke:function(_0x55d030,_0x1fb27a){return _0x55d030(_0x1fb27a)}};var _0xd366d7=function(_0x567e8d){_0x17ffd8[_0x9bce("0x244")](_0x1334a0,_0x567e8d?eval(_0x17ffd8[_0x9bce("0x245")](_0x17ffd8[_0x9bce("0x246")]("(",_0x567e8d),")")):null)};_0x5ea152(function(){_0x2d7234(0,null,{method:_0x9bce("0x247"),event:_0x17ffd8[_0x9bce("0x248")](_0x4a4645,_0xd366d7)})})},getLastSettings:function(_0x5977a5,_0x5e50b6){_0x21602a[_0x9bce("0x249")](_0x5ea152,function(){_0x21602a[_0x9bce("0x23a")](_0x2d7234,0,null,{method:_0x21602a[_0x9bce("0x24a")],params:[_0x5977a5],event:_0x21602a[_0x9bce("0x249")](_0x4a4645,_0x5e50b6)})})},getAbsoluteURL:function(_0x295f15,_0x3a9a5f,_0x2b160){var _0x578fb0=_0x3a9a5f[_0x9bce("0xbc")]("/"),_0x232f9b=_0x295f15[_0x9bce("0xbc")]("/");_0x578fb0[_0x9bce("0x24b")]();for(var _0x2f18cc=0;_0x21602a[_0x9bce("0x142")](_0x2f18cc,_0x232f9b[_0x9bce("0xb5")]);_0x2f18cc++){if(_0x21602a[_0x9bce("0x24c")](_0x232f9b[_0x2f18cc],".")){continue}if(_0x21602a[_0x9bce("0x24c")](_0x232f9b[_0x2f18cc],"..")){_0x578fb0.pop()}else{_0x578fb0[_0x9bce("0x146")](_0x232f9b[_0x2f18cc])}}(_0x2b160||this[_0x9bce("0x24d")])["call"](this,_0x578fb0[_0x9bce("0x24e")]("/"))},setLastSettings:function(_0x20b7f3,_0x5e51b4,_0x4ff22d){_0x21602a.PIPtM(_0x5ea152,function(){_0x21602a[_0x9bce("0x23a")](_0x2d7234,0,null,{method:_0x21602a[_0x9bce("0x24f")],params:[_0x20b7f3,_0x5e51b4],event:_0x4a4645(_0x4ff22d)})})},setDefaultPrinter:function(_0x35f6b7,_0x4a8d02){var _0x4e62bf={NnXcj:_0x21602a.cmaSP,LuvRb:function(_0x56d3bc,_0xf5f4cd){return _0x21602a[_0x9bce("0x250")](_0x56d3bc,_0xf5f4cd)}};_0x21602a.VgsOJ(_0x5ea152,function(){_0x2d7234(0,null,{method:_0x4e62bf[_0x9bce("0x251")],params:[_0x35f6b7],event:_0x4e62bf[_0x9bce("0x252")](_0x4a4645,_0x4a8d02)})})},openFile:function(_0x552b74,_0x292254){_0x21602a[_0x9bce("0x253")](_0x5ea152,function(){_0x21602a[_0x9bce("0x254")](_0x2d7234,1,null,{method:_0x21602a[_0x9bce("0x255")],params:[_0x552b74],event:_0x21602a[_0x9bce("0x256")](_0x4a4645,_0x292254)})})},getPrinterInfo:function(_0x32d3e6,_0x34202f){_0x21602a[_0x9bce("0x257")](_0x5ea152,function(){_0x2d7234(0,null,{method:_0x21602a[_0x9bce("0x258")],params:[_0x32d3e6],event:_0x4a4645(_0x34202f)})})},showHTMLDialog:function(_0x398b4f,_0x473560,_0x2e5620,_0x3f4f4e){_0x21602a[_0x9bce("0x257")](_0x5ea152,function(){var _0x86bb67=[];if(_0x473560){_0x86bb67[_0x9bce("0x146")](_0x9bce("0x259")+_0x473560)}if(_0x2e5620){_0x86bb67[_0x9bce("0x146")](_0x21602a[_0x9bce("0x25a")]+_0x2e5620)}if(!_0x3f4f4e){_0x86bb67[_0x9bce("0x146")](_0x9bce("0x25b"))}_0x21602a[_0x9bce("0x254")](_0x2d7234,1,null,{method:_0x21602a[_0x9bce("0x25c")],params:[0,_0x398b4f,_0x86bb67[_0x9bce("0x24e")](";")]})})},getPrinterStatus:function(_0x36ae94,_0x5b8d0a,_0x32fed0){var _0x49626c={lpoCr:function(_0x578bd2,_0x179e78,_0x350ae4,_0x276584){return _0x21602a[_0x9bce("0x254")](_0x578bd2,_0x179e78,_0x350ae4,_0x276584)},UKznc:_0x21602a.xIjrw};_0x5ea152(function(){_0x49626c[_0x9bce("0x25d")](_0x2d7234,0,null,{method:_0x49626c.UKznc,params:[_0x36ae94,_0x5b8d0a],event:_0x4a4645(_0x32fed0)})})},nothing:function(){},setPrintBackground:function(_0x533b69,_0x5b70e3){_0x5ea152(function(){_0x2d7234(0,null,{method:_0x9bce("0x25e"),params:[_0x533b69],event:_0x4a4645(_0x5b70e3)})})},getMessage:function(_0x5c6743){var _0x37d8b3={uxVZS:function(_0x3518a7,_0x2fac9d){return _0x21602a[_0x9bce("0x257")](_0x3518a7,_0x2fac9d)},vWNsc:function(_0x2d4694,_0x5e2b32){return _0x21602a.KdmRm(_0x2d4694,_0x5e2b32)},wLaob:function(_0x38b9bc,_0x48b5ea){return _0x21602a[_0x9bce("0x163")](_0x38b9bc,_0x48b5ea)}};_0x21602a.hqRxt(_0x5ea152,function(){_0x2a5797[_0x21602a.VGzgC]=function(_0x2e2178){_0x2e2178=_0x37d8b3[_0x9bce("0x25f")](eval,_0x37d8b3[_0x9bce("0x260")](_0x37d8b3.wLaob("(",_0x2e2178),")"));_0x37d8b3.uxVZS(_0x5c6743,_0x2e2178)};_0x21602a.FuOrm(_0x2d7234,3,null,{method:_0x9bce("0x261")})})},postMessage:function(_0x5aff48,_0x219ac1){var _0x49ae49={fnIQy:_0x21602a[_0x9bce("0x262")],SHIGa:function(_0x47d71c,_0x47b5ea,_0x4a9409,_0x120194){return _0x21602a.AGNlr(_0x47d71c,_0x47b5ea,_0x4a9409,_0x120194)},tkdiR:_0x21602a[_0x9bce("0x263")]};_0x21602a.kzWkg(_0x5ea152,function(){_0x219ac1=JSON.stringify({event:_0x49ae49[_0x9bce("0x264")],data:_0x219ac1});_0x49ae49[_0x9bce("0x265")](_0x2d7234,3,null,{method:_0x49ae49.tkdiR,params:[_0x5aff48,_0x219ac1]})})},findJCPs:function(_0x3e9677,_0x14e157){_0x21602a[_0x9bce("0x266")](_0x5ea152,function(){_0x2e341e(_0x31bc48[3],{method:_0x21602a[_0x9bce("0x267")],seconds:_0x21602a[_0x9bce("0x268")](_0x14e157,5)},_0x3e9677,!![])})},aB:function(_0x16f058,_0x2fa253,_0x52d382){_0x21602a[_0x9bce("0x269")](_0x5ea152,function(){_0x21602a[_0x9bce("0xad")](_0x2e341e,_0x31bc48[4],{method:"aB",aY:_0x16f058,aO:_0x2fa253},_0x52d382,!![])})}})[_0x9bce("0x26a")]()}var av={};function getJCP(e,d,c){var a={pXpvv:function(f,g){return f+g},ybexC:function(f,g){return f||g},osubC:function(g,f){return g||f},pIURa:function(g,f){return g||f}};e=e||ap;var b=a[_0x9bce("0x26b")](e,a[_0x9bce("0x26c")](d,""));if(!av[b]){av[b]=new v(e,a.osubC(d,""),a.pIURa(c,""))}return av[b]}function L(){var a={zPpkW:function(b){return b()}};a.zPpkW(getJP)[_0x9bce("0x88")]()}var JSONstringify=JSON[_0x9bce("0x26d")]||function(){var c={MfvcR:function(m,l){return m<l},tBANa:function(m,l){return m+l},cfgFD:function(l,m){return l+m},vEaNI:function(l,m){return l+m},anndZ:function(m,l){return m+l},FybVA:function(l,m){return l+m},wzkDN:function(l,m){return l+m},mHCSz:function(m,l){return m(l)},TlqEx:function(m,l){return m===l},RNhhG:_0x9bce("0x26e"),DaLqW:function(m,l){return m+l},AZNjZ:_0x9bce("0x26f"),ZyioE:_0x9bce("0x270"),ZWlqH:"number",TXWAt:"null",JLEsI:_0x9bce("0x271"),bWQax:_0x9bce("0x3c"),FPmhf:_0x9bce("0x272"),pWWXL:function(m,l){return m===l},neWPn:function(l,m){return l+m},eYbNI:function(m,l){return m+l},SGFXA:function(m,l){return m<l},TCZUm:function(m,l){return m===l},hhUHt:function(l,m){return l+m},AmeUW:function(l,m,n){return l(m,n)},UqKsC:function(m,l){return m===l},BIIFk:function(l,m){return l+m},mRtoL:function(l,m){return l+m},qARIb:function(m,l){return m+l},YDQgA:function(l,m){return l+m},LuLPS:function(l,m){return l+m},tCIsv:_0x9bce("0x273"),QylJl:_0x9bce("0x274"),fNxRu:function(m,l){return m!==l},FicUo:function(m,l){return m!==l},obtRO:function(l,m){return l!==m},wKWgI:function(m,l,n){return m(l,n)},USGZZ:function(m,l){return m!==l}};var d=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function h(l){return c[_0x9bce("0x275")](l,10)?c.tBANa("0",l):l}function a(){return this[_0x9bce("0x276")]()}if(c[_0x9bce("0x277")](typeof Date.prototype["ba"],c[_0x9bce("0x278")])){Date.prototype["ba"]=function(){return isFinite(this[_0x9bce("0x276")]())?c.cfgFD(c[_0x9bce("0x279")](c.vEaNI(c[_0x9bce("0x27a")](c[_0x9bce("0x27a")](c[_0x9bce("0x27b")](c[_0x9bce("0x27c")](c.wzkDN(this[_0x9bce("0x27d")]()+"-"+h(this[_0x9bce("0x27e")]()+1),"-"),h(this[_0x9bce("0x27f")]())),"T"),c.mHCSz(h,this[_0x9bce("0x280")]())),":"),h(this[_0x9bce("0x281")]()))+":",c[_0x9bce("0x282")](h,this["getUTCSeconds"]())),"Z"):null};Boolean[_0x9bce("0x283")]["ba"]=a;Number[_0x9bce("0x283")]["ba"]=a;String.prototype["ba"]=a}var b;var j;var e;var g;function f(l){d[_0x9bce("0x284")]=0;return d[_0x9bce("0x285")](l)?c[_0x9bce("0x286")]("\x22"+l[_0x9bce("0xd0")](d,function(n){var m=e[n];return c[_0x9bce("0x287")](typeof m,_0x9bce("0x270"))?m:c[_0x9bce("0x288")]("\x5cu",c[_0x9bce("0x288")](c[_0x9bce("0x289")],n[_0x9bce("0x28a")](0)[_0x9bce("0x14a")](16))[_0x9bce("0x28b")](-4))}),"\x22"):c[_0x9bce("0x286")](c[_0x9bce("0x286")]("\x22",l),"\x22")}function k(t,x){var l=c[_0x9bce("0x28c")][_0x9bce("0xbc")]("|"),u=0;while(!![]){switch(l[u++]){case"0":var z;continue;case"1":var q;continue;case"2":var o;continue;case"3":var w=b;continue;case"4":switch(typeof s){case c[_0x9bce("0x28d")]:return c.mHCSz(f,s);case c[_0x9bce("0x28e")]:return isFinite(s)?String(s):c[_0x9bce("0x28f")];case c[_0x9bce("0x290")]:case"null":return c[_0x9bce("0x282")](String,s);case c.bWQax:if(!s){return c[_0x9bce("0x28f")]}b+=j;o=[];if(c[_0x9bce("0x287")](Object[_0x9bce("0x283")][_0x9bce("0x14a")][_0x9bce("0x291")](s),_0x9bce("0x292"))){var m=c[_0x9bce("0x293")]["split"]("|"),r=0;while(!![]){switch(m[r++]){case"0":n=s[_0x9bce("0xb5")];continue;case"1":for(z=0;c[_0x9bce("0x275")](z,n);z+=1){o[z]=k(z,s)||c[_0x9bce("0x28f")]}continue;case"2":b=w;continue;case"3":q=c[_0x9bce("0x294")](o[_0x9bce("0xb5")],0)?"[]":b?c[_0x9bce("0x286")](c[_0x9bce("0x295")](c[_0x9bce("0x295")](c[_0x9bce("0x296")]("[\x0a"+b,o[_0x9bce("0x24e")](",\x0a"+b)),"\x0a"),w),"]"):c.eYbNI("["+o.join(","),"]");continue;case"4":return q}break}}if(g&&typeof g===c[_0x9bce("0x297")]){n=g.length;for(z=0;c[_0x9bce("0x298")](z,n);z+=1){if(c[_0x9bce("0x299")](typeof g[z],c.ZyioE)){y=g[z];q=k(y,s);if(q){o.push(c[_0x9bce("0x29a")](c[_0x9bce("0x29a")](f(y),b?":\x20":":"),q))}}}}else{for(y in s){if(Object.prototype["hasOwnProperty"]["call"](s,y)){q=c[_0x9bce("0x29b")](k,y,s);if(q){o[_0x9bce("0x146")](c[_0x9bce("0x29a")](f(y)+(b?":\x20":":"),q))}}}}q=c[_0x9bce("0x29c")](o.length,0)?"{}":b?c[_0x9bce("0x29d")](c[_0x9bce("0x29e")](c[_0x9bce("0x29e")](c.qARIb("{\x0a",b),o[_0x9bce("0x24e")](c.YDQgA(",\x0a",b)))+"\x0a",w),"}"):c[_0x9bce("0x29f")]("{"+o[_0x9bce("0x24e")](","),"}");b=w;return q}continue;case"5":var n;continue;case"6":var s=x[t];continue;case"7":var y;continue;case"8":if(c[_0x9bce("0x29c")](typeof g,c.tCIsv)){s=g[_0x9bce("0x2a0")](x,t,s)}continue;case"9":if(s&&c[_0x9bce("0x29c")](typeof s,_0x9bce("0x3c"))&&typeof s.ba===c.tCIsv){s=s.ba(t)}continue}break}}if(c[_0x9bce("0x2a1")](typeof JSON.stringify,_0x9bce("0x273"))){e={"\b":"\x5cb","\t":"\x5ct","\n":"\x5cn","\f":"\x5cf","\r":"\x5cr",'"':"\x5c\x22","\\":"\x5c\x5c"};JSON[_0x9bce("0x26d")]=function(q,n,m){var o=c[_0x9bce("0x2a2")][_0x9bce("0xbc")]("|"),l=0;while(!![]){switch(o[l++]){case"0":b="";continue;case"1":if(n&&c[_0x9bce("0x2a3")](typeof n,"function")&&(c.FicUo(typeof n,c.bWQax)||c[_0x9bce("0x277")](typeof n[_0x9bce("0xb5")],c.ZWlqH))){throw new Error("JSON.stringify")}continue;case"2":if(c[_0x9bce("0x29c")](typeof m,c.ZWlqH)){for(r=0;c[_0x9bce("0x298")](r,m);r+=1){j+="\x20"}}else{if(c[_0x9bce("0x29c")](typeof m,c[_0x9bce("0x28d")])){j=m}}continue;case"3":return c[_0x9bce("0x2a4")](k,"",{"":q});case"4":g=n;continue;case"5":var r;continue;case"6":j="";continue}break}}}return JSON[_0x9bce("0x26d")]}();var ao=null;function showLoading(b){var c={MVmrm:"img",vmohV:"http://print.jatools.com/jcp/0.99/image/loading1.gif",kmqlV:_0x9bce("0x2a5")};if(!ao){ao=document[_0x9bce("0xbd")](c[_0x9bce("0x2a6")]);ao[_0x9bce("0x103")]=c[_0x9bce("0x2a7")];ao[_0x9bce("0x107")][_0x9bce("0x2a8")]=c[_0x9bce("0x2a9")]}ao[_0x9bce("0x107")][_0x9bce("0x6b")]=_0x9bce("0x2aa");var a=document[_0x9bce("0xc1")](b);a[_0x9bce("0x2ab")][_0x9bce("0x2ac")](ao,a[_0x9bce("0x2ad")])}function hideLoading(){if(ao){ao[_0x9bce("0x107")][_0x9bce("0x6b")]=_0x9bce("0x2ae")}}if((document[_0x9bce("0x2af")]||"")[_0x9bce("0xb")](_0x9bce("0x2b0"))>-1){(function(){var c={hJJcX:_0x9bce("0x2b1"),NaDCq:"https://hm.baidu.com/hm.js?d741f9d5528ec69713548d20a69531cf"};var b=document[_0x9bce("0xbd")](c[_0x9bce("0x2b2")]);b[_0x9bce("0x103")]=c[_0x9bce("0x2b3")];var a=document[_0x9bce("0xc3")](c.hJJcX)[0];a[_0x9bce("0x2ab")][_0x9bce("0x2ac")](b,a)}())}function MxtDropDown(a){this.id=Math.floor(Math.random()*100000000);if(a.id!=undefined){this.id=a.id}this.onchange=a.onchange;if(this.onchange==undefined){this.onchange=function(){}}this.disabled=SeeUtils.getAttrEl(this.id,"disabled");this.isExpand=a.isExpand;this.expandValue=a.expandValue;this.top=a.top;this.init()}function mouseenterDown(c,g){if(g=="disabled"||g=="true"){return}SeeUtils.setElWidth(c+"_dropdown_content",SeeUtils.getElWidth(c)-2);SeeUtils.showEl(c+"_dropdown_content");SeeUtils.setElWidth(c+"_dropdown_content_iframe",SeeUtils.getElWidth(c));SeeUtils.showEl(c+"_dropdown_content_iframe");var e=SeeUtils.getElOffest(c).top;var h=SeeUtils.getElHeight(c+"_dropdown_content");var b=SeeUtils.getDocumentHeight();if(b==0){b=parseInt(document.documentElement.clientHeight)}SeeUtils.setElHeight(c+"_dropdown_content_iframe",h+3);if((e+h)>b){SeeUtils.setElHeight(c+"_dropdown_content",b-e-SeeUtils.getElHeight(this));SeeUtils.cssByJson(c+"_dropdown_content",{overflow:"auto"});SeeUtils.setElHeight(c+"_dropdown_content_iframe",b-e-SeeUtils.getElHeight(this))}var a=document.getElementById(c+"_dropdown_content");if(a.getAttribute("fixChildWidth")==null&&a.scrollWidth>a.clientWidth){var f=SeeUtils.getElByTag(a,"a");for(var d=0;d<f.length;d++){SeeUtils.cssByJson(f[d],{width:a.scrollWidth+"px"})}a.setAttribute("fixChildWidth","yes")}}function mouseleavelDown(a){SeeUtils.hideEl(a+"_dropdown_content");SeeUtils.hideEl(a+"_dropdown_content_iframe")}MxtDropDown.prototype.init=function(){try{$("#"+this.id).attrObj("_dropdown",this)}catch(k){}var c=SeeUtils.getElByTag(this.id,"option");if(c.length==0){return void (0)}var g="";if(this.disabled=="disabled"||this.disabled=="true"){g="common_button_disable"}var a="";a+="<div id='"+this.id+"_dropdown' onmouseenter='mouseenterDown(\""+this.id+'","'+this.disabled+"\")' onmouseleave='mouseleavelDown(\""+this.id+"\")' class='common_drop_list common_drop_list_dropdown'>";a+="<div id = '"+this.id+"_dropdown_title'class='common_drop_list_title'>";a+="<a href='javascript:void(0)' class='common_drop_list_select common_button  "+g+"' style='*margin-top:-1px;'>";a+="<table width='100%' height='100%' cellpadding='0' cellspacing='0' class='ellipsis_table'>";a+="<tbody>";a+="<tr>";a+="<td id = '"+this.id+"_dropdown_text' class='common_drop_list_text font_size12'>";if(this.isExpand&&this.expandValue==null&&c.length>1){a+=c[1].innerHTML}else{if(this.isExpand&&this.expandValue){var s=document.getElementById(this.id);var j=s.selectedIndex;var b=s.options[j].text;a+=b}else{a+=c[0].innerHTML}}a+="</td>";a+="<td class='align_right' width='20'>";a+="<em></em>";a+="</td>";a+="</tr>";a+="</tbody>";a+="</table>";a+="</a>";a+="</div>";a+="<iframe id='"+this.id+"_dropdown_content_iframe' frameborder='0' style='position:absolute; z-index:1000;background:#fff;display:none;'>";a+="</iframe>";var h=0;h=document.body.clientHeight-this.top-30;h<1?h=document.body.offsetHeight-this.top-30:"";var f=(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0)&&/msie 8\.0/i.test(navigator.userAgent)||(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0)&&/msie 7\.0/i.test(navigator.userAgent);if(f){var s=document.getElementById(this.id);if(s.options.length*30>=h){h=h<1?h="":"height:"+h+"px;"}else{h=h<1?h="":""}}else{h=h<1?h="":"max-height:"+h+"px;"}a+="<div id='"+this.id+"_dropdown_content' class='common_drop_list_content common_drop_list_content_action' style=' "+h+" position:absolute;z-index:1000;background:#fff;display:none;overflow:auto'>";function o(e,t){if(this.isExpand&&this.expandValue==null&&t===1){return"class='common_drop_a_select'"}else{if(this.isExpand&&this.expandValue===e){return"class='common_drop_a_select'"}else{return""}}}var r=this;for(var n=0;n<c.length;n++){var l=c[n];var m=SeeUtils.getAttrEl(l,"value");var q=l.text;a+="<a style='word-break:keep-all;white-space:nowrap' "+o(m,n)+" tar='"+r.id+"' href='javascript:void(0)' value='";a+=m;a+="' title='"+q+"'";a+="'>";a+=q;a+="</a>"}a+="</div>";a+="</div>";SeeUtils.insertAfter(a,this.id);SeeUtils.cssByJson(this.id+"_dropdown",{width:"100%",position:"relative"});SeeUtils.hideEl(this.id);var d=SeeUtils.eachByTag(SeeUtils.getElObj(this.id+"_dropdown_content"),"a",function(e,w){if(e.parentNode==null||e.parentNode.parentNode==null){return void (0)}var t=SeeUtils.getByClass(e.parentNode.parentNode,".common_drop_list_text");if(t.length==0){return void (0)}var u=t[0];var x=e.parentNode;SeeUtils.addEvent(e,"click",function(A){var z=A||window.event;var y=z.target||z.srcElement;if(y.parentNode.querySelector(".common_drop_a_select")){y.parentNode.querySelector(".common_drop_a_select").className="";y.className="common_drop_a_select"}var E=SeeUtils.getAttrEl(y,"title");var B=SeeUtils.getAttrEl(y,"value");var D=SeeUtils.getAttrEl(y,"tar");E=E.replace(/</g,"&lt;").replace(/>/g,"&gt;");u.innerHTML=E;SeeUtils.setElVal(D,B);SeeUtils.hideEl(x);SeeUtils.hideEl(r.id+"_dropdown_content_iframe");r.onchange()})})};MxtDropDown.prototype.setValue=function(b){if(b){SeeUtils.setElVal(this.id,b);var e=null;var d=SeeUtils.getElByTag(this.id+"_dropdown_content","a");for(var a=0;a<d.length;a++){var l=SeeUtils.getAttrEl(d[a],"value");if(l===b){e=d[a];break}}if(e==null){return void (0)}if(e.parentNode==null||e.parentNode.parentNode==null){return void (0)}var c=SeeUtils.getByClass(e.parentNode.parentNode,".common_drop_list_text");if(c.length==0){return void (0)}var k=c[0];var j=e.parentNode;var h=SeeUtils.getAttrEl(e,"title");var g=SeeUtils.getAttrEl(e,"value");var f=SeeUtils.getAttrEl(e,"tar");k.innerHTML=h;SeeUtils.setElVal(f,g);SeeUtils.hideEl(j)}};function _MxtDropDown(b,a){var c=b;var e=c.id;var d={};if(e==""){e=Math.floor(Math.random()*100000000);d.id=e;SeeUtils.attrEl(b,"id",e)}else{d.id=e}d.top=a.top;d.isExpand=a.isExpand||null;d.expandValue=a.expandValue||null;new MxtDropDown(d)}(function(a){a.fn.dropdown=function(){this.each(function(){var b=this;var d=b.id;var c={};if(d==""){d=Math.floor(Math.random()*100000000);c.id=d;SeeUtils.attrEl(this,"id",d)}else{c.id=d}new MxtDropDown(c)})};a.dropdown=function(b){if(b&&b.id){return new MxtDropDown(b)}else{return}}})(jQuery);function searchBtnClick(b,e){var d=b.getReturnValue();var a=(!!window.ActiveXObject||"ActiveXObject" in window);if(d&&d.condition&&d.condition=="barcode"){if(!a){$.alert($.i18n("form.barcode.only.suport.ie.lable"));return}var c=d.value;if(openBarCodePort(c.qType,c.comType)){$.infor($.i18n("common.barcode.ready.label"))}}else{e.searchHandler()}}function goSearchCtl(r,d){r=SeeUtils.extend({id:Math.floor(Math.random()*100000000),conditionText:$.i18n("searchbox.condition.js"),conditionDateText:$.i18n("searchbox.conditionDateText.js"),conditionSpecText:$.i18n("searchbox.conditionSpecText.js"),onchange:function(){},dialog:null},r);var B={getReturnValue:function(){var I=SeeUtils.getElVal(r.id);var ad;var K;var Q=false;if(r.conditions&&r.conditions.length>0){for(var aa=0;aa<r.conditions.length;aa++){var R=r.conditions[aa];var M=R.value;var J=R.id;var ac=R.type;var Z=R.validate?true:false;var j;if(I==M){if(ac=="selectPeople"){ad=[];ad[0]=SeeUtils.getElVal(J+"_txt");ad[1]=SeeUtils.getElVal(J)}else{if(ac=="datemulti"){var ab=R.ifFormat;ad=[];ad[0]=SeeUtils.getElVal("from_"+J);ad[1]=SeeUtils.getElVal("to_"+J);if(ab=="%Y-%m-%d"){var g=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01])$/}else{var g=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01]) (0\d{1}|1\d{1}|2[0-3]):([0-5]\d{1})$/}if((!g.test(ad[0])||!g.test(ad[1]))&&ad[0]!=""&&ad[1]!=""){Q=true;if(r.dialog){r.dialog.close()}r.dialog=$.alert(r.conditionDateText);return null}if(ad[0]!=""&&ad[1]!=""&&ad[0]>ad[1]){if(r.dialog){r.dialog.close()}r.dialog=$.alert($.i18n("validate.endDate.early.startDate.js"));return null}}else{if(ac=="custom"){ad=R.getValue?R.getValue(J):SeeUtils.getElVal(J)}else{if(ac=="select"){var O=document.getElementsByTagName("select");for(var P=0;P<O.length;P++){if(O[P].getAttribute("id")===J){var Y=O[P];var N=Y.selectedIndex;var S=Y.options[N].text;var W=Y.options[N].value;ad=Y.options[N].value}}}else{ad=SeeUtils.getElVal(J);if(Z){j=/[!@#$%^&*()<>]/;if(j.test(ad)){Q=true;SeeUtils.getElObj(J).focus()}}}}}}K=ac;break}}}if(Q){if(r.dialog){r.dialog.close()}r.dialog=$.alert(r.conditionSpecText);return null}else{return{type:K,condition:I,value:ad}}},clearCondition:function(){var j=SeeUtils.getElByTag(SeeUtils.getElObj(r.id+"_dropdown_content"),"a");for(var g=0;g<j.length;g++){var J=j[g];var I=SeeUtils.getAttrEl(J,"value");if(I==""){SeeUtils.executeClick(J)}}},setCondition:function(g,M,K){var P;var Q;var O;for(var I=0;I<r.conditions.length;I++){var J=r.conditions[I];var R=J.value;var N=J.id;var j=J.type;if(N==g){P=R;Q=j;O=J;break}}SeeUtils.eachByTag(r.id+"_dropdown_content","a",function(Y,S){var W=SeeUtils.getAttrEl(Y,"value");if(W==P){SeeUtils.executeClick(Y)}});if(Q=="input"){SeeUtils.setElVal(g,M)}else{if(Q=="select"){SeeUtils.eachByTag(g+"_dropdown_content","a",function(W,S){var Y=SeeUtils.getAttrEl(W,"value");if(Y==M){SeeUtils.executeClick(W)}})}else{if(Q=="datemulti"){SeeUtils.setElVal("from_"+g,M);SeeUtils.setElVal("to_"+g,K)}else{if(Q=="selectPeople"){SeeUtils.setElVal(N+"_txt",M);SeeUtils.setElVal(N,K)}}}}},hideSearchBox:function(){SeeUtils.hideEl(r.id+"_ul")},showSearchBox:function(){SeeUtils.showEl(r.id+"_ul")},hideItem:function(Q,J){var K;for(var M=0;M<r.conditions.length;M++){if(r.conditions[M].id==Q){K=r.conditions[M].value}}var I=SeeUtils.getElByTag(r.id+"_conditions","a");for(var R=0;R<I.length;R++){var j=I[R];if(SeeUtils.getAttrEl(j,"value")==K){SeeUtils.hideEl(j)}}if(J){SeeUtils.text(r.id+"_dropdown_text",r.conditionText);var g=SeeUtils.getElByTag(r.id,"option");if(g.length>0){SeeUtils.attrEl(g[0],"selected",true)}var P=SeeUtils.getElByTag(r.id+"_ul","li");var O=P.length;for(var M=0;M<P.length;M++){var N=P[M];if(!(M==0||M==(O-1))){if(!SeeUtils.hasClass(N,"hidden")){SeeUtils.addClass(N,"hidden")}}if(M==(O-1)){SeeUtils.addClass(N,"margin_l_5")}}}},showItem:function(K){var J;for(var j=0;j<r.conditions.length;j++){if(r.conditions[j].id==K){J=r.conditions[j].value}}var I=SeeUtils.getElByTag(r.id+"_conditions","a");for(var g=0;g<I.length;g++){var M=I[g];if(SeeUtils.getAttrEl(M,"value")==J){SeeUtils.showEl(M)}}}};var t="<ul id='"+r.id+"_ul' class='common_search common_search_condition clearfix' style='_display:inline'><li class='searchLicommon' id='"+r.id+"_conditions' style='width:120px'><select id='"+r.id+"' class='common_drop_down w100b'><option id='"+r.id+"_default' value=''>"+r.conditionText+"</option></select></li></ul>";SeeUtils.appendTo(t,d);r.inputs=[];r.selects=[];if(r.conditions&&r.conditions.length>0){for(var A=0;A<r.conditions.length;A++){var E=false;var e=r.conditions[A];var F=null;var D=e.type;var f=e.value;var c=e.text;var s=e.id;var H=e.name;var l=null;var h=e.click;if(SeeUtils.isIE8||SeeUtils.isIE9){var k=document.createElement("option");k.setAttribute("value",f);k.innerText=c;SeeUtils.getElObj(r.id).appendChild(k)}else{var b='<option value="'+f+'">'+c+"</option>";SeeUtils.appendTo(b,r.id)}var n;if(D=="selectPeople"){var z="<li id='"+f+"_container' class='searchLicommon common_search_input condition_text hidden'><input id='"+s+"' name='"+H+"' value='' class='search_input searchInputComp comp' comp=\""+e.comp+"\" type='text'></li>";r.inputs.push(e);SeeUtils.appendTo(z,r.id+"_ul")}else{if(D=="input"){if(e.maxLength){var y=" maxlength='"+e.maxLength+"'"}else{var y=""}var z="<li id='"+f+"_container' class='searchLicommon common_search_input condition_text hidden'><input id='"+s+"' name='"+H+"' value='' class='search_input' style='*margin-top:-1px;' type='text' "+y+"></li>";r.inputs.push(e);SeeUtils.appendTo(z,r.id+"_ul")}else{if(D=="datemulti"){var q=e.ifFormat!=undefined?e.ifFormat:"%Y-%m-%d %H:%M";var z="<li id='"+f+"_container' class='searchLicommon typeDatemulti condition_text hidden margin_lr_5'><input id='from_"+s+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/><span class='padding_lr_5'>-</span><input id='to_"+s+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/></li>";if(e.dateTime&&e.dateTime==true){E=true}F=s;SeeUtils.appendTo(z,r.id+"_ul")}else{if(D=="select"){var a="";a+="<select id='"+s+"' name='"+H+"' class='w100b common_drop_down'>";if(e.items){for(var x=0;x<e.items.length;x++){var o=e.items[x];a+="<option value='"+o.value+"'>"+o.text+"</option>"}}a+="</select>";r.selects.push(e);l=$(a);if(e.codecfg){l.attr("codecfg",e.codecfg)}var z="<li style='width: 100px;' id='"+f+"_container' class='searchLicommon condition_text margin_lr_5 hidden'>"+a+"</li>";SeeUtils.appendTo(z,r.id+"_ul")}else{if(D=="custom"){var z="<li style='width: 120px' id='"+f+"_container' class='searchLicommon common_search_input condition_text hidden'>"+e.customHtml+"</li>";SeeUtils.appendTo(z,r.id+"_ul")}}}}}if(h!=undefined){SeeUtils.addEvent(s,"click",h)}if(l){l.codeoption()}if(F!=null){calendarCtl({ifFormat:q,showsTime:E,cache:false},document.getElementById("from_"+F));calendarCtl({ifFormat:q,showsTime:E},document.getElementById("to_"+F))}if(SeeUtils.getSizeByClass(".searchInputComp")>0){$(".searchInputComp").comp()}}}var w="<li class='searchLicommon margin_l_5 search_btn' ><a class='common_button  search_buttonHand' style='*margin-top:-1px;' href='javascript:void(0)'><em></em></a></li>";SeeUtils.appendTo(w,document.getElementById(r.id+"_ul"));var G=SeeUtils.getByClass(document,".common_drop_down");for(var u=0;u<G.length;u++){var m=G[u];_MxtDropDown(m,r)}SeeUtils.eachAllSonElsByClass(".common_search",function(g){SeeUtils.addEvent(g,"keydown",function(K){var I=K||window.event;var j=I.target||I.srcElement;if(I.keyCode==13){var J=SeeUtils.getByClass(document,".search_btn");SeeUtils.eachByClass(document,".search_btn",function(M){SeeUtils.executeClick(M)});if(I.stopPropagation){I.stopPropagation()}I.cancelBubble=true;return false}})});SeeUtils.eachByTag(r.id+"_dropdown_content","a",function(j,g){SeeUtils.addEvent(j,"click",function(J){var R=J||window.event;var S=R.target||R.srcElement;var M=SeeUtils.getAttrEl(S,"value");for(var W=0;W<r.selects.length;W++){var Y=r.selects[W];if(Y!=null){var K=Y.id;if(AssertUtils.isNotEmpty(K)){var O=SeeUtils.getElByTag(K+"_dropdown_content","a");if(O.length>0){SeeUtils.executeClick(O[0])}}}}for(var Q=0;Q<r.inputs.length;Q++){var I=r.inputs[Q];SeeUtils.attrEl(I.id,"value","");if(SeeUtils.getAttrEl(I.id,"type")=="hidden"){SeeUtils.attrEl(I.id+"_txt","value","");SeeUtils.removeAttrEl(I.id+"_txt","title")}}if(F){SeeUtils.getElObj("from_"+F).value="";SeeUtils.getElObj("to_"+F).value=""}var P=SeeUtils.getByClass(document,".condition_text");for(var N=0;N<P.length;N++){var S=P[N];SeeUtils.addClass(S,"hidden")}SeeUtils.removeClass(M+"_container","hidden");if(M!=""){SeeUtils.removeClass(SeeUtils.getFirstElByClass(".search_btn"),"margin_l_5")}else{SeeUtils.addClass(SeeUtils.getFirstElByClass(".search_btn"),"margin_l_5")}});SeeUtils.addEvent(j,"click",r.onchange)});SeeUtils.eachByClass(document,".search_btn",function(g){SeeUtils.addEvent(g,"click",function(){searchBtnClick(B,r)})});this.p=r;this.g=B;return this}function goSearchCtlNoEl(s){s=SeeUtils.extend({id:Math.floor(Math.random()*100000000),conditionText:$.i18n("searchbox.condition.js"),conditionDateText:$.i18n("searchbox.conditionDateText.js"),conditionSpecText:$.i18n("searchbox.conditionSpecText.js"),onchange:function(){},isExpand:false,expandValue:null,top:7,left:null,right:null,bottom:null,dialog:null},s);var F={getReturnValue:function(){var M=SeeUtils.getElVal(s.id);var ag;var O;var W=false;if(s.conditions&&s.conditions.length>0){for(var ad=0;ad<s.conditions.length;ad++){var Y=s.conditions[ad];var P=Y.value;var N=Y.id;var ac=Y.validate?true:false;var j;var af=Y.type;if(M==P){if(af=="selectPeople"){ag=[];ag[0]=SeeUtils.getElVal(N+"_txt");ag[1]=SeeUtils.getElVal(N)}else{if(af=="datemulti"){var ae=Y.ifFormat;ag=[];ag[0]=SeeUtils.getElVal("from_"+N);ag[1]=SeeUtils.getElVal("to_"+N);if(ae=="%Y-%m-%d"){var g=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01])$/}else{var g=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01]) (0\d{1}|1\d{1}|2[0-3]):([0-5]\d{1})$/}if((!g.test(ag[0])||!g.test(ag[1]))&&ag[0]!=""&&ag[1]!=""){W=true;if(s.dialog){s.dialog.close()}s.dialog=$.alert(s.conditionDateText);return null}if(ag[0]!=""&&ag[1]!=""&&ag[0]>ag[1]){if(s.dialog){s.dialog.close()}s.dialog=$.alert($.i18n("validate.endDate.early.startDate.js"));return null}}else{if(af=="barcode"){ag={};ag.qType=SeeUtils.getElVal(N+"_qType");ag.comType=SeeUtils.getElVal(N+"_comType")}else{if(af=="custom"||af=="customPanel"){ag=Y.getValue?Y.getValue(N):SeeUtils.getElVal(N)}else{if(af=="select"){var R=document.getElementsByTagName("select");for(var S=0;S<R.length;S++){if(R[S].getAttribute("id")===N){var ab=R[S];var Q=ab.selectedIndex;var Z=ab.options[Q].text;var aa=ab.options[Q].value;ag=ab.options[Q].value}}}else{ag=SeeUtils.getElVal(N);if(ac){j=/[!@#$%^&*()<>]/;if(j.test(ag)){W=true;SeeUtils.getElObj(N).focus()}}}}}}}O=af;break}}}if(W){if(s.dialog){s.dialog.close()}s.dialog=$.alert(s.conditionSpecText);return null}else{return{type:O,condition:M,value:ag}}},clearCondition:function(){var g=SeeUtils.getElByTag(SeeUtils.getElObj(s.id+"_dropdown_content"),"a");SeeUtils.eachByTag(s.id+"_dropdown_content","a",function(N,j){var M=SeeUtils.getAttrEl(N,"value");if(M==""){SeeUtils.executeClick(N)}})},setCondition:function(g,P,O){var S;var W;var R;for(var M=0;M<s.conditions.length;M++){var N=s.conditions[M];var Y=N.value;var Q=N.id;var j=N.type;if(Q==g){S=Y;W=j;R=N;break}}SeeUtils.eachByTag(s.id+"_dropdown_content","a",function(ab,Z){var aa=SeeUtils.getAttrEl(ab,"value");if(aa==S){SeeUtils.executeClick(ab)}});if(W=="input"){SeeUtils.setElVal(g,P)}else{if(W=="select"){SeeUtils.eachByTag(g+"_dropdown_content","a",function(aa,Z){var ab=SeeUtils.getAttrEl(aa,"value");if(ab==P){SeeUtils.executeClick(aa)}})}else{if(W=="datemulti"){SeeUtils.setElVal("from_"+g,P);SeeUtils.setElVal("to_"+g,O)}else{if(W=="selectPeople"){SeeUtils.setElVal(Q+"_txt",P);SeeUtils.setElVal(Q,O)}}}}},hideSearchBox:function(){SeeUtils.hideEl(s.id+"_ul")},showSearchBox:function(){SeeUtils.showEl(s.id+"_ul")},hideItem:function(W,N){var O;for(var P=0;P<s.conditions.length;P++){if(s.conditions[P].id==W){O=s.conditions[P].value}}var M=SeeUtils.getElByTag(s.id+"_conditions","a");for(var Y=0;Y<M.length;Y++){var j=M[Y];if(SeeUtils.getAttrEl(j,"value")==O){SeeUtils.hideEl(j)}}if(N){var g=SeeUtils.getElByTag(s.id,"option");if(g.length>0){SeeUtils.attrEl(g[0],"selected",true)}SeeUtils.text(s.id+"_dropdown_text",s.conditionText);var S=SeeUtils.getElByTag(s.id+"_ul","li");var R=S.length;for(var P=0;P<S.length;P++){var Q=S[P];if(!(P==0||P==(R-1))){if(!SeeUtils.hasClass(Q,"hidden")){SeeUtils.addClass(Q,"hidden")}}if(P==(R-1)){SeeUtils.addClass(Q,"margin_l_5")}}}},showItem:function(O){var N;for(var j=0;j<s.conditions.length;j++){if(s.conditions[j].id==O){N=s.conditions[j].value}}var M=SeeUtils.getElByTag(s.id+"_conditions","a");for(var g=0;g<M.length;g++){var P=M[g];if(SeeUtils.getAttrEl(P,"value")==N){SeeUtils.showEl(P)}}}};var E="position: absolute;z-index:599;";if(s.top!=null){E+="top:"+s.top+"px;"}if(s.left!=null){E+="left:"+s.left+"px;"}if(s.right!=null){E+="right:"+s.right+"px;"}if(s.bottom!=null){E+="bottom:"+s.bottom+"px;"}var u="<ul id='"+s.id+"_ul' class='common_search common_search_condition clearfix' style='"+E+"_display:inline;'><li id='"+s.id+"_conditions' style='width:120px'><select id='"+s.id+"' class='common_drop_down w100b'><option id='"+s.id+"_default' value=''>"+s.conditionText+"</option></select></li></ul>";SeeUtils.appendToBody(u);s.inputs=[];s.selects=[];if(SeeUtils.getSizeByClass(".common_toolbar_box")==1){var q=$(".common_toolbar_box").parent().attrObj("toolbarObj");if(q){q.setPage()}}if(s.conditions&&s.conditions.length>0){for(var D=0;D<s.conditions.length;D++){var H=false;var e=s.conditions[D];var G=e.type;var I=null;var f=e.value;var c=e.text;var t=e.id;var K=e.name;var l=null;var h=e.click;var y=e.readonly;var k=document.createElement("option");k.setAttribute("value",f);var d="hidden";if(s.isExpand&&s.expandValue==null&&D==0){d="";k.setAttribute("selected","selected")}else{if(s.isExpand&&s.expandValue!=null&&s.expandValue==f){d="";k.setAttribute("selected","selected")}}k.innerHTML=c;SeeUtils.appendTo(k,s.id);var n;if(G=="selectPeople"){var B="<li id='"+f+"_container' class='common_search_input condition_text "+d+"'><input id='"+t+"' name='"+K+"' value='' class='search_input searchInputComp comp' comp=\""+e.comp+"\" type='text'></li>";s.inputs.push(e);SeeUtils.appendTo(B,s.id+"_ul")}else{if(G=="input"){if(e.maxLength){var A=" maxlength='"+e.maxLength+"'"}else{var A=""}s.inputs.push(e);var B="<li id='"+f+"_container' class='common_search_input condition_text "+d+"'><input id='"+t+"' name='"+K+"' value='' class='search_input' style='*margin-top:-1px;' type='text' "+A+"></li>";SeeUtils.appendTo(B,s.id+"_ul")}else{if(G=="datemulti"){var r=e.ifFormat!=undefined?e.ifFormat:"%Y-%m-%d %H:%M";var B="<li id='"+f+"_container' class='typeDatemulti condition_text "+d+" margin_lr_5'><input id='from_"+t+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/><span class='padding_lr_5'>-</span><input id='to_"+t+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/></li>";if(e.dateTime&&e.dateTime==true){H=true}I=t;SeeUtils.appendTo(B,s.id+"_ul")}else{if(G=="select"){var a="";a+="<select id='"+t+"' name='"+K+"' class='w100b common_drop_down'>";if(e.items){for(var z=0;z<e.items.length;z++){var o=e.items[z];a+="<option value='"+o.value+"'>"+escapeStringToHTML(o.text)+"</option>"}}a+="</select>";s.selects.push(e);l=$(a);if(e.codecfg){l.attr("codecfg",e.codecfg)}var B="<li style='width: 100px;' id='"+f+"_container' class='condition_text margin_lr_5 "+d+"'>"+a+"</li>";SeeUtils.appendTo(B,s.id+"_ul")}else{if(G=="barcode"){}else{if(G=="custom"){var B="<li style='' id='"+f+"_container' class='common_search_input condition_text "+d+"'>"+e.customHtml+"</li>";SeeUtils.appendTo(B,s.id+"_ul")}else{if(G=="customPanel"){B="<li style='width: 120px' id='"+f+"_container' class='common_search_input condition_text "+d+"'><div class='common_txtbox_wrap'><input id='"+t+"_ids' type='hidden'><input id='"+t+"' name='"+K+"' "+(y==undefined?"":y)+" value='' class='search_input' style='*margin-top:-1px;' type='text'></div></li>";SeeUtils.appendTo(B,s.id+"_ul")}}}}}}}if(h!=undefined){SeeUtils.addEvent(t,"click",h)}if(l){l.codeoption()}if(I!=null){calendarCtl({ifFormat:r,showsTime:H,cache:false},document.getElementById("from_"+I));calendarCtl({ifFormat:r,showsTime:H},document.getElementById("to_"+I))}if(SeeUtils.getSizeByClass(".searchInputComp")>0){$(".searchInputComp").comp()}if(G=="customPanel"){(function(g){SeeUtils.addEvent(g.id,"click",function(){var j=$.dialog({id:g.id+"_panel",width:g.panelWidth,height:g.panelHeight,type:"panel",html:g.customHtml,targetId:g.id,shadow:false,panelParam:{show:false,margins:true},buttons:[{id:"wewew",text:$.i18n("common.button.ok.label"),handler:function(){g.customHandler(j);j.close()}}]});j.currentTarget={};j.currentTarget.id=j.id;if(g.customLoadHandler!=null){g.customLoadHandler(g.id)}})})(e)}}}var x="<li class='margin_l_5 search_btn' style='*margin-top:-1px;'><a class='common_button  search_buttonHand' href='javascript:void(0)'><em></em></a></li>";var b=document.getElementById(s.id+"_ul");SeeUtils.appendTo(x,b);var J=SeeUtils.getByClass(b,".common_drop_down");for(var w=0;w<J.length;w++){var m=J[w];_MxtDropDown(m,s)}SeeUtils.eachAllSonElsByClass(".common_search",function(g){SeeUtils.addEvent(g,"keydown",function(O){var M=O||window.event;var j=M.target||M.srcElement;if(M.keyCode==13){var N=SeeUtils.getByClass(document,".search_btn");SeeUtils.eachByClass(document,".search_btn",function(P){SeeUtils.executeClick(P)});if(M.stopPropagation){M.stopPropagation()}M.cancelBubble=true;return false}})});SeeUtils.eachByTag(s.id+"_dropdown_content","a",function(j,g){SeeUtils.addEvent(j,"click",function(O){var Y=O||window.event;var Z=Y.target||Y.srcElement;var Q=SeeUtils.getAttrEl(Z,"value");if(SeeUtils.hasClass(Z,"common_drop_a_select")===false){SeeUtils.addClass(Z,"common_drop_a_select");SeeUtils.siblings(Z,"a",function(ae){SeeUtils.removeClass(ae,"common_drop_a_select")})}for(var ac=0;ac<s.selects.length;ac++){var ad=s.selects[ac];if(ad!=null){var P=ad.id;if(AssertUtils.isNotEmpty(P)){var R=SeeUtils.getElByTag(P+"_dropdown_content","a");if(R.length>0){SeeUtils.executeClick(R[0])}}}}for(var W=0;W<s.inputs.length;W++){var N=s.inputs[W];SeeUtils.attrEl(N.id,"value","");if(SeeUtils.getAttrEl(N.id,"type")=="hidden"){SeeUtils.attrEl(N.id+"_txt","value","");SeeUtils.removeAttrEl(N.id+"_txt","title")}}try{closeBarCodePort()}catch(aa){}if(I!=null){SeeUtils.getElObj("from_"+I).value="";SeeUtils.getElObj("to_"+I).value=""}SeeUtils.eachByClass(document,".condition_text",function(ae){SeeUtils.addClass(ae,"hidden")});SeeUtils.removeClass(Q+"_container","hidden");if(Q!=""){SeeUtils.removeClass(SeeUtils.getFirstElByClass(".search_btn"),"margin_l_5")}else{SeeUtils.addClass(SeeUtils.getFirstElByClass(".search_btn"),"margin_l_5")}if(Q=="barcode"){var S={};var M=S.qType||"com";var ab=S.comType||"1";SeeUtils.eachByTag(Q+"_container","select",function(af,ag){var ah=af.id;if(!SeeUtils.hasClass(af,"drop_down")){var ae=new MxtDropDown({id:ah});if(ah.indexOf("qType")!=-1){ae.setValue(M)}else{ae.setValue(ab)}SeeUtils.addClass(af,"drop_down")}});setTimeout(function(){searchBtnClick(F,s)},100)}});SeeUtils.addEvent(j,"click",s.onchange)});SeeUtils.eachByClass(document,".search_btn",function(g){SeeUtils.addEvent(g,"click",function(){searchBtnClick(F,s)})});this.p=s;this.g=F;return this}$.fn.searchCondition=function(a){return goSearchCtl(a,$(this).get(0))};$.searchCondition=function(a){return new goSearchCtlNoEl(a,null)};var calendarCtl=function(c,d){var s={firstDay:0,eventName:"click",ifFormat:"%Y-%m-%d",autoFill:true,align:"Bl",range:[1900,2999],singleClick:true,weekNumbers:false,showsTime:false,timeFormat:"24",electric:true,cache:true,showOthers:false,defer:100,minuteStep:5,isClear:true,clearBlank:true,isOutShow:false,isJustShowIcon:false,isShowIcon:true};if(c&&c.isMini){s.isMini=c.isMini}if(c&&c.ifFormat&&c.ifFormat!=s.ifFormat){s.autoFill=false}if(c&&c.minuteStep){s.minuteStep=c.minuteStep}var h=d;if(d!=null&&d.get!=null&&d.get(0)!=null){h=d.get(0)}var b=h.tagName.toLowerCase(),j=h.type;if(b=="input"){if(j=="text"){s.inputField=h}else{if(j=="button"){s.button=h}}}else{s.displayArea=h}var w=SeeUtils.extend(s,c);SeeUtils.getAttrEl(h,"_inited");if(SeeUtils.getAttrEl(h,"_inited")==1){var k=h.nextSibling;if(k!=null){SeeUtils.removeEl(k)}h.removeAttribute("_icoed")}else{SeeUtils.attrEl(h,"_inited",1)}var y=w.inputField;var r=SeeUtils.getElObj(y);if(y&&!y._icoed){var o=-20;if(SeeUtils.hasClass(r.parentNode,"common_txtbox_wrap")){o=-14}var l=-1;if(!SeeUtils.isIE){l=2}if(SeeUtils.isIE){l=2;if(SeeUtils.isIE6||SeeUtils.isIE7){l=6}if(SeeUtils.isIE10||SeeUtils.isIE11){l=0}}var q=document.createElement("span");q.className="calendar_icon_area";q.innerHTML="<span class='calendar_icon' style='left:"+o+"px;top:"+l+"px;position: absolute; font-size:14px;'></span>";if(SeeUtils.isIE){if(SeeUtils.isIE6||SeeUtils.isIE7){q=null;q=document.createElement("span");q.className="calendar_icon hand";q.style.marginLeft="-20px"}}if(!s.isShowIcon){q=null;q=document.createElement("span")}if(s.isOutShow){if(h.tagName.toLowerCase()=="input"){if(h.type.toLowerCase()=="text"){var a=SeeUtils.getParentsByClass(h,".common_txtbox_wrap");if(a.length>0){if((SeeUtils.getElWidth(h)==0||SeeUtils.getElWidth(h)==100)&&SeeUtils.getAttrEl(h,"_widthed")!="true"){SeeUtils.setElWidth(h,"90%")}}else{SeeUtils.setElWidth(h,SeeUtils.getElWidth(h)-18)}}}q=null;q=document.createElement("span");q.className="calendar_icon hand"}q.style.cursor="pointer";SeeUtils.addClass(q,"_autoBtn");SeeUtils.insertAfter(q,y);w.button=q;var e=SeeUtils.getByClass(q,".calendar_icon");if(e!=null&&e.length>0){w.button=e[0]}y._icoed=true;y._autoFill=w.autoFill}if(s.isJustShowIcon){return false}var u=["inputField","displayArea","button"];for(var m in u){if(typeof w[u[m]]=="string"){w[u[m]]=document.getElementById(w[u[m]])}}if(!(w.flat||w.multiple||w.inputField||w.displayArea||w.button)){alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return false}function x(t){var n=t.params;var z=(t.dateClicked||n.electric);if(z&&n.inputField){n.inputField.value=t.date.print(n.ifFormat);if(typeof n.inputField.onchange=="function"){n.inputField.onchange()}$(n.inputField).change()}if(z&&n.displayArea){n.displayArea.innerHTML=t.date.print(n.daFormat)}if(z&&typeof n.onUpdate=="function"){n.onUpdate(t)}if(z&&n.flat){if(typeof n.flatCallback=="function"){n.flatCallback(t)}}if(z&&n.singleClick&&t.dateClicked){t.callCloseHandler()}}if(w.flat!=null){if(typeof w.flat=="string"){w.flat=document.getElementById(w.flat)}if(!w.flat){alert("Calendar.setup:\n  Flat specified but can't find parent.");return false}var g=new Calendar(w.firstDay,w.date,w.onSelect||x);g.showsOtherMonths=w.showOthers;g.showsTime=w.showsTime;g.time24=(w.timeFormat=="24");g.params=w;g.weekNumbers=w.weekNumbers;g.setRange(w.range[0],w.range[1]);g.setDateStatusHandler(w.dateStatusFunc);g.getDateText=w.dateText;g.setClear(w.isClear);g.setClearBlank(w.clearBlank);g.setHeight(w.height);if(w.ifFormat){g.setDateFormat(w.ifFormat)}if(w.inputField&&typeof w.inputField.value=="string"){g.parseDate(w.inputField.value)}g.create(w.flat);g.show()}var f=w.button||w.displayArea||w.inputField;f["on"+w.eventName]=function(){var n=w.inputField||w.displayArea;var z=w.inputField?w.ifFormat:w.daFormat;var E=false;var B=window.calendar;if(n){w.date=Date.parseDate(n.value||n.innerHTML,z)}if(!(B&&w.cache)){window.calendar=B=new Calendar(w.firstDay,w.date,w.onSelect||x,w.onClose||function(F){F.hide()},w.isMini,w.onClear);B.showsTime=w.showsTime;B.time24=(w.timeFormat=="24");B.weekNumbers=w.weekNumbers;E=true}else{if(w.date){B.setDate(w.date)}B.hide()}if(w.multiple){B.multiple={};for(var t=w.multiple.length;--t>=0;){var D=w.multiple[t];var A=D.print("%Y%m%d");B.multiple[A]=D}}B.showsOtherMonths=w.showOthers;B.yearStep=w.step;B.setRange(w.range[0],w.range[1]);B.params=w;B.setDateStatusHandler(w.dateStatusFunc);B.getDateText=w.dateText;B.setClear(w.isClear);B.setClearBlank(w.clearBlank);B.setHeight(w.height);if(B.getDateFormat()!=z){E=true}B.setDateFormat(z);if(B.getDateFormat()=="%Y-%m-%d %H:%M"){B.showsTime=true}else{B.showsTime=false}if(E){B.create()}B.refresh();if(!w.position){B.showAtElement(w.button||w.displayArea||w.inputField,w.align)}else{B.showAt(w.position[0],w.position[1])}return false}};var calendarCtlNoEl=function(g){function k(d,q){if(typeof g[d]=="undefined"){g[d]=q}}k("inputField",null);k("displayArea",null);k("button",null);k("eventName","click");k("ifFormat","%Y-%m-%d");k("daFormat","%Y-%m-%d");k("singleClick",true);k("disableFunc",null);k("dateStatusFunc",g.disableFunc);k("dateTooltipFunc",null);k("dateText",null);k("firstDay",null);k("align","Br");k("range",[1900,2999]);k("weekNumbers",false);k("flat",null);k("flatCallback",null);k("onSelect",null);k("onClose",null);k("onUpdate",null);k("date",null);k("showsTime",false);k("timeFormat","24");k("electric",true);k("step",1);k("position",null);k("cache",false);k("showOthers",false);k("multiple",null);k("returnValue",false);k("autoShow",false);k("dateString",false);k("isClear",true);k("clearBlank",true);k("height",null);var h=["inputField","displayArea","button"];for(var j in h){if(typeof g[h[j]]=="string"){g[h[j]]=document.getElementById(g[h[j]])}}if(!(g.flat||g.multiple||g.inputField||g.displayArea||g.button)){alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return false}function m(t){var s=t.params;var u=(t.dateClicked||s.electric);if(u&&s.inputField){s.inputField.value=t.date.print(s.ifFormat);if(typeof s.inputField.onchange=="function"){s.inputField.onchange()}}if(u&&s.displayArea){if(!s.returnValue){s.displayArea.innerHTML=t.date.print(s.daFormat)}else{s.displayArea.setAttribute("valueStr",t.date.print(s.daFormat))}}if(u&&typeof s.onUpdate=="function"){if(s.returnValue){var d=t.date;var r=d.getTime();var q=new Date(r);s.onUpdate(q.print(s.ifFormat))}else{s.onUpdate(t)}}if(u&&s.flat){if(typeof s.flatCallback=="function"){s.flatCallback(t)}}if(u&&s.singleClick&&t.dateClicked){t.callCloseHandler()}}if(g.flat!=null){if(typeof g.flat=="string"){g.flat=document.getElementById(g.flat)}if(!g.flat){alert("Calendar.setup:\n  Flat specified but can't find parent.");return false}var b=new Calendar(g.firstDay,g.date,g.onSelect||m,g.onClose,g.isMini,g.onClear);b.setDateToolTipHandler(g.dateTooltipFunc);b.showsOtherMonths=g.showOthers;b.showsTime=g.showsTime;b.time24=(g.timeFormat=="24");b.params=g;b.weekNumbers=g.weekNumbers;b.setRange(g.range[0],g.range[1]);b.setDateStatusHandler(g.dateStatusFunc);b.getDateText=g.dateText;b.setClear(g.isClear);b.setClearBlank(g.clearBlank);b.setHeight(g.height);if(g.ifFormat){b.setDateFormat(g.ifFormat)}if(g.inputField&&typeof g.inputField.value=="string"){b.parseDate(g.inputField.value)}b.create(g.flat);b.show();return b}if(g.autoShow){var f=g.inputField||g.displayArea;var n=g.inputField?g.ifFormat:g.daFormat;var e=false;var b=window.calendar;if(f){var a=f.value||g.dateString||f.innerHTML;g.date=Date.parseDate(a,n)}if(!(b&&g.cache)){window.calendar=b=new Calendar(g.firstDay,g.date,g.onSelect||m,g.onClose||function(d){d.hide()},g.isMini,g.onClear);b.setDateToolTipHandler(g.dateTooltipFunc);b.showsTime=g.showsTime;b.time24=(g.timeFormat=="24");b.weekNumbers=g.weekNumbers;e=true}else{if(g.date){b.setDate(g.date)}b.hide()}if(g.multiple){b.multiple={};for(var j=g.multiple.length;--j>=0;){var l=g.multiple[j];var c=l.print("%Y%m%d");b.multiple[c]=l}}b.showsOtherMonths=g.showOthers;b.yearStep=g.step;b.setRange(g.range[0],g.range[1]);b.params=g;b.setDateStatusHandler(g.dateStatusFunc);b.getDateText=g.dateText;b.setDateFormat(n);b.setClear(g.isClear);b.setClearBlank(g.clearBlank);b.setHeight(g.height);if(e){b.create()}b.refresh();if(!g.position){b.showAtElement(g.button||g.displayArea||g.inputField,g.align)}else{b.showAt(g.position[0],g.position[1])}return b}else{var o=g.button||g.displayArea||g.inputField;o["on"+g.eventName]=function(){var r=g.inputField||g.displayArea;var t=g.inputField?g.ifFormat:g.daFormat;var y=false;var w=window.calendar;if(r){var q=r.value||r.innerHTML;g.date=Date.parseDate(q,t)}if(!(w&&g.cache)){window.calendar=w=new Calendar(g.firstDay,g.date,g.onSelect||m,g.onClose||function(d){d.hide()});w.setDateToolTipHandler(g.dateTooltipFunc);w.showsTime=g.showsTime;w.time24=(g.timeFormat=="24");w.weekNumbers=g.weekNumbers;y=true}else{if(g.date){w.setDate(g.date)}w.hide()}if(g.multiple){w.multiple={};for(var s=g.multiple.length;--s>=0;){var x=g.multiple[s];var u=x.print("%Y%m%d");w.multiple[u]=x}}w.showsOtherMonths=g.showOthers;w.yearStep=g.step;w.setRange(g.range[0],g.range[1]);w.params=g;w.setDateStatusHandler(g.dateStatusFunc);w.getDateText=g.dateText;w.setDateFormat(t);w.setClear(g.isClear);w.setClearBlank(g.clearBlank);w.setHeight(g.height);if(y){w.create()}w.refresh();if(!g.position){w.showAtElement(g.button||g.displayArea||g.inputField,g.align)}else{w.showAt(g.position[0],g.position[1])}return false}}return b};$.fn.calendar=function(a){return calendarCtl(a,$(this))};$.calendar=function(a){return calendarCtlNoEl(a,null)};(function(){var fieldTypeValue={string:"string",number:"number",email:"email",telephone:"telephone",mobilePhone:"mobilePhone","0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","8":"0","9":"0","6":"6"};var fieldType="type";var fieldName="name";var maxValue="maxValue";var minValue="minValue";var minLength="minLength";var maxLength="maxLength";var china3char="china3char";var notNull="notNull";var dotNumber="dotNumber";var fieldDiaplayName="displayName";var fieldLen="fieldLen";var nullable="nullable";var isNumber="isNumber";var integerDigits="integerDigits";var decimalDigits="decimalDigits";var isEmail="isEmail";var notNullWithoutTrim="notNullWithoutTrim";var isInteger="isInteger";var max="max";var min="min";var maxEqual="maxEqual";var minEqual="minEqual";var isWord="isWord";var character="avoidChar";var isDeaultValue="isDeaultValue";var deaultValue="deaultValue";var regExp="regExp";var errorMsg="errorMsg";var func="func";$.fn.resetValidate=function(options){var errorClassName="error-form";this.find("."+errorClassName).removeClass(errorClassName).each(function(i,e){var prt=$(e);var es=prt.data("errorIcon");if(es){prt.removeClass("error-form").next().remove();prt.removeAttr("title");prt.removeData("errorIcon");prt.find("input,textarea").unbind("propertychange");prt.css({width:($(this).width()+35)+"px"})}})};function checkValue(obj,options,errorArray){var resultTemp=obj;var resultTempPar=resultTemp.parent();curCheckObj=checkInput(resultTemp,options.checkNull);if(curCheckObj.errorArray){var len=curCheckObj.errorArray.length;if(len>0){showError(resultTempPar,curCheckObj,options,resultTemp);if(!resultTempPar.hasClass("error-form")||resultTemp.attr("comptype")=="calendar"){if(resultTemp.hasClass("comp")){resultTemp.focus(function(){checkval($(this),options)})}}if($.browser.msie&&parseInt($.browser.version)<9){resultTemp.bind("propertychange",function(e){if(e.originalEvent&&e.originalEvent.propertyName=="value"){checkval($(this),options)}})}else{resultTemp.bind("change",function(){checkval($(this),options)})}errorArray.push(curCheckObj.errorArray.join("\r\n"))}}}function MxtCheckForm(form,options){if(typeof form==="string"){form=$("#"+form)}else{form=$(form)}var errorArray=[],curCheckObj=null;var result=[];var focusObj=null;var firstErrorObj=null;if(options&&options.validateHidden){$(".validate",form).add(form).each(function(){if(!this.disabled&&$(this).attr("validate")&&this.tagName.toLowerCase()!="span"&&this.tagName.toLowerCase()!="div"){result.push($(this))}})}else{$(".validate",form).add(form).each(function(){if(!this.disabled&&$(this).is(":visible")&&$(this).attr("validate")&&this.tagName.toLowerCase()!="span"&&this.tagName.toLowerCase()!="div"){result.push($(this))}})}for(var i=0;i<result.length;i++){if(i==0){focusObj=result[0]}checkValue(result[i],options,errorArray);if(firstErrorObj==null&&errorArray.length==1){firstErrorObj=result[i]}result[i]=null}form=null;if(focusObj!=null&&!$(focusObj).is(":visible")){var tempId=focusObj.attr("id");if(tempId!=null){if(!/^field\d{0,5}/.test(tempId)){focusObj.focus()}}else{focusObj.focus()}}if(errorArray.length>0){var errorAlert=options.errorAlert;if(errorAlert){if(top.$("#checkformError").length<=0){$.alert({id:"checkformError",msg:errorArray.join("<br/>")})}}return false}else{return true}}function MxtCheckInput(input){var options={errorIcon:true};if(input==null){return true}var errorArray=[];checkValue(input,options,errorArray);var result=true;if(curCheckObj.errorArray&&curCheckObj.errorArray.length>0){result=false}input=null;return result}function MxtCheckMsg(msg,context){if(msg==null){return}context=context||document.body;if(typeof context==="string"){context=$("#"+context)}else{context=$(context)}for(var elemSelector in msg){addCheckMsg($(elemSelector,context),msg[elemSelector])}context=null}window.MxtCheckForm=MxtCheckForm;window.MxtCheckInput=MxtCheckInput;window.MxtCheckMsg=MxtCheckMsg;window.RemoveCheckMsg=checkval;function checkInput(input,checkIsNull){if(input==null){return{}}var checkObj=getCheckObj(input);var validateflag=input.attr("validateflag");if(validateflag==="false"){return{}}if(checkObj!=null){if(checkObj.errorArray==null){checkObj.errorArray=[]}checkObj.checkNull=checkIsNull;if(checkIsNull){checkNotNull(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkNotNullWithourTrim(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}}checkIsNumber(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsEmail(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsWord(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDefaultValue(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsTelephone(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsMobilePhone(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDate(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDateTime(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDateTimes(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsShorterThanMax(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsLongerThanMin(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkCustomRegExp(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkCustomFunc(checkObj,input);if(checkObj.errorArray.length>0){input=null;return checkObj}}input=null;return checkObj}function checkval(obj,options){if(options==null){var settings={errorIcon:true,errorAlert:false,errorBg:false,validateHidden:false,checkNull:true};options=$.extend(settings,options)}var temp=checkInput(obj,true);var prt=obj.parent();if(!temp.errorArray||(temp.errorArray&&temp.errorArray.length===0)){prt.removeClass("error-form");prt.removeAttr("title");if(prt.data("errorIcon")){prt.removeData("errorIcon");prt.next().remove();if(options.errorIcon){if(obj.attr("comptype")!="calendar"||(obj.attr("comptype")=="calendar"&&options.needfloat==true)){prt.css({width:(prt.width()+35)+"px"});if(obj.hasClass("comp")){obj.width("100%")}}}}if(prt.data("errorBg")){prt.removeData("errorBg");prt.css("background","#fff");if(obj&&!(temp[notNull]||temp[nullable])){$(obj).css("background","#fff")}}}else{showError(prt,temp,options,obj)}}function showError(par,obj,options,objDom){if(options){var _w=par.width();if(options.errorIcon){par.addClass("error-form").attr("title",obj.errorArray.join(""));if(objDom.attr("comptype")!="calendar"||(objDom.attr("comptype")=="calendar"&&obj.needfloat==true)){par.css("float","left")}var es=par.data("errorIcon");if(!es){es=$("<span class='error-title'></span>");par.data("errorIcon",es);par.after(es);if(objDom.attr("comptype")!="calendar"||(objDom.attr("comptype")=="calendar"&&options.needfloat==true)){par.css({width:(_w-35)+"px"})}}es.attr("title",obj.errorArray.join(""))}else{par.addClass("error-form").attr("title",obj.errorArray.join(""))}if(options.errorBg){var bg=par.data("errorBg");if(!bg){if(par.hasClass("common_txtbox_wrap")){par.css("background","#FCDD8B")}if(objDom){$(objDom).css("background","#FCDD8B")}par.data("errorBg",true)}}}else{}}function addCheckMsg(elem,msg){if(elem==null){return}if(typeof msg=="string"){try{msg=eval("({"+msg+"})")}catch(e){return}}var checkObj=getCheckObj(elem);$.extend(checkObj,msg);elem=null}function getCheckObj(input){if(input==null){return{}}var validateflag=input.attr("validateflag");if(validateflag==="false"){return{}}if(input.data("checkObj")){var checkObj=input.data("checkObj");checkObj.errorArray=null;checkObj.value=input.val();return input.data("checkObj")}var checkObj=null,validate=null;input=$(input);validate=input.attr("validate");if(validate==null||$.trim(validate)==""){return{}}else{try{checkObj=eval("({"+validate+"})")}catch(e){checkObj={};var errorMessage=input.attr("name")+$.i18n("validate.notJson.js");addErrorMessage(checkObj,errorMessage,true);input=null;return checkObj}}if(checkObj.name==null){var tempName=checkObj[fieldName]||checkObj[fieldDiaplayName]||input.attr("name");if(tempName){checkObj.name=tempName}else{var errorMessage=$.i18n("validate.notName.js");addErrorMessage(checkObj,errorMessage,true);input=null;return checkObj}}checkObj.value=input.val();input.data("checkObj",checkObj);input=null;return checkObj}function checkNotNull(obj){if(obj==null){return true}if(obj[notNull]||obj[nullable]){if(isNull(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.notNull.js"),true);return false}}return true}function checkNotNullWithourTrim(obj){if(obj==null){return true}if(obj[notNullWithoutTrim]){if(isNull(obj.value,true)){addErrorMessage(obj,obj.name+$.i18n("validate.notNull.js"),true);return false}}return true}function checkIsNumber(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var isNumberFlag=false,isIntegerFlag=false;if(obj[isNumber]||(obj[fieldType]==fieldTypeValue.number)||(obj[fieldType]==fieldTypeValue["1"])||(obj[fieldType]==fieldTypeValue["2"])){isNumberFlag=true;if(isNull(obj.value)){return true}if(!isANumber(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.notNumber.js"));return false}var value=""+$.trim(obj.value);var dotIndex=value.indexOf("."),intdigits=obj[integerDigits],decDigits=obj[decimalDigits];if(decDigits==null){decDigits=obj[dotNumber]}if(intdigits!=null&&isANumber(intdigits)){var intbits=dotIndex>-1?dotIndex:value.length;if(intbits>parseInt(intdigits)){addErrorMessage(obj,obj.name+$.i18n("validate.integerDigits.js",intdigits));return false}}if(decDigits!=null&&isANumber(decDigits)){var decbits=dotIndex>-1?(value.length-1-dotIndex):0;if(decbits>parseInt(decDigits)){addErrorMessage(obj,obj.name+$.i18n("validate.decimalDigits.js",decDigits));return false}}}if(obj[isInteger]){isIntegerFlag=true;if(isNull(obj.value)){return true}if(!isANumber(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.integer.js"));return false}var value=""+obj.value;if(value.indexOf(".")>-1){addErrorMessage(obj,obj.name+$.i18n("validate.integer.decimal.js"));return false}}if(isNumberFlag||isIntegerFlag){if(!checkIsLessThanMax(obj)){return false}if(!checkIsBiggerThanMin(obj)){return false}}return true}function checkIsEmail(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[isEmail]||(obj[fieldType]=="email")){var str=obj.value;if(isNull(str)){return true}else{var result=true;if(str.indexOf("@")==-1){result=false}else{if(str.indexOf("@")==0){result=false}else{if((str.length-str.indexOf("@"))<5){result=false}else{if(str.indexOf(".")==-1){result=false}else{if((str.length-str.indexOf("."))<3){result=false}}}}}if(!result){addErrorMessage(obj,obj.name+$.i18n("validate.email.js"))}return result}}return true}function checkIsWord(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[isWord]||(obj[fieldType]==fieldTypeValue.string)||(obj[fieldType]==fieldTypeValue["0"])||(obj[fieldType]==fieldTypeValue["8"])||(obj[fieldType]==fieldTypeValue["9"])){if(typeof obj.value!="string"){return false}if(obj[character]&&typeof obj[character]=="string"){var value=""+obj.value,chars=obj[character];for(var i=0,len=chars.length;i<len;i++){if(value.indexOf(chars.charAt(i))>-1){addErrorMessage(obj,obj.name+" "+$.i18n("validate.specialhave.js")+obj[character]);return false}}}}return true}function checkIsDefaultValue(obj){if(obj==null){return false}if(isNull(obj.value)){return false}if(obj[isDeaultValue]&&obj[deaultValue]){if($.trim(obj.value)==obj[deaultValue]){addErrorMessage(obj,obj.name+$.i18n("validate.notDefault.js")+"("+obj[deaultValue]+")!");return true}}return false}var telReg=/^\d[-_0-9]{5,}\d$/;function checkIsTelephone(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]=="telephone"){var value=""+obj.value;if(telReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.phoneNumber.js"));return false}}return true}var mobileReg=/\d{11,}/;function checkIsMobilePhone(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]=="mobilePhone"){var value=""+obj.value;if(mobileReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.mobileNumber.js"));return false}}return true}var dateReg=/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29))$/;function checkIsDate(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]==3){var value=""+obj.value;if(dateReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.yyyy.MM.dd.js"));return false}}return true}var datetimeReg=/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29)) (20|21|22|23|[0-1]?\d):[0-5]?\d:[0-5]?\d$/;function checkIsDateTime(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]==4){var value=""+obj.value;if(datetimeReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.yyyy.MM.dd.hh.mm.ss.js"));return false}}return true}var datetimeRegs=/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29)) (20|21|22|23|[0-1]?\d):[0-5]?\d$/;function checkIsDateTimes(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]==5){var value=""+obj.value;if(datetimeRegs.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.yyyy.MM.dd.hh.mm.ss.js"));return false}}return true}function checkIsShorterThanMax(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[maxLength]!=null){if(isANumber(obj[maxLength])){if(obj[isNumber]||(obj[fieldType]==fieldTypeValue.number)||(obj[fieldType]==fieldTypeValue["1"])||(obj[fieldType]==fieldTypeValue["2"])){if(obj.value.length>0){obj.value=obj.value.replace(/\./,"")}if(longerThanSecond(obj.value,obj[maxLength])){addErrorMessage(obj,obj.name+$.i18n("validate.maxLength.js",obj[maxLength]));return false}}else{if(obj[china3char]==true){if(longerThanSecondChina(obj.value,obj[maxLength])){addErrorMessage(obj,obj.name+$.i18n("validate.maxLengthChina.js",obj[maxLength]));return false}}else{if(longerThanSecond(obj.value,obj[maxLength])){addErrorMessage(obj,obj.name+$.i18n("validate.maxLength.js",obj[maxLength]));return false}}}}else{addErrorMessage(obj,obj.name+$.i18n("validate.maxLength.notNumber.js"));return false}}return true}function checkIsLongerThanMin(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[minLength]!=null){if(isANumber(obj[minLength])){if(shorterThanSecond(obj.value,obj[minLength])){addErrorMessage(obj,obj.name+$.i18n("validate.minLength.js")+obj[minLength]+"!");return false}}else{addErrorMessage(obj,obj.name+$.i18n("validate.minLength.notNumber.js"));return false}}return true}function checkIsLessThanMax(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var tempMax=obj[max];if(tempMax==null){tempMax=obj[maxValue]}if(tempMax!=null&&isANumber(tempMax)){value=parseFloat(obj.value);if(obj[maxEqual]==false){if(tempMax<=value){addErrorMessage(obj,obj.name+$.i18n("validate.mustLittle.js")+tempMax+"!");return false}}else{if(tempMax<value){addErrorMessage(obj,obj.name+$.i18n("validate.mustLittleOrEqual.js")+tempMax+"!");return false}}}return true}function checkIsBiggerThanMin(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var tempMin=obj[min];if(tempMin==null){tempMin=obj[minValue]}if(tempMin!=null&&isANumber(tempMin)){value=parseFloat(obj.value);if(obj[minEqual]==false){if(tempMin>=value){addErrorMessage(obj,obj.name+$.i18n("validate.mustBigger.js")+tempMin+"!");return false}}else{if(tempMin>value){addErrorMessage(obj,obj.name+$.i18n("validate.mustBiggerOrEqual.js")+tempMin+"!");return false}}}return true}function checkCustomRegExp(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var customRegExp=obj[regExp];if(customRegExp!=null){if(!new RegExp(customRegExp).test(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.notMatch.js"));return false}}return true}function checkCustomFunc(obj,input){if(obj==null||input==null){input=null;return true}if(typeof obj[func]=="function"){var result=obj[func](input,obj);if(result==null||result==false){addErrorMessage(obj,obj.name+$.i18n("validate.notMatch.js"))}}input=null;return true}function isNull(value,notTrim){if(value==null){return true}else{if(typeof(value)=="string"){value=notTrim==true?$.trim(value):value;if(value==""){return true}}}return false}function isANumber(value){if(typeof value=="string"){value=value}return/^[-+]?\d+([\.]\d+)?$/.test(value)}function longerThanSecond(first,second){if(first!=null&&second!=null&&isANumber(second)){second=parseFloat(second);if(first.length>second){return true}}return false}function longerThanSecondChina(first,second){if(first!=null&&second!=null&&isANumber(second)){second=parseFloat(second);if(getLength(first)>second){return true}}return false}function shorterThanSecond(first,second){if(first!=null&&second!=null&&isANumber(second)){second=parseFloat(second);if(first.length<second){return true}}return false}function getLength(value){if(value==null){return 0}else{if(value==""){return 1}else{var result=0;for(var i=0,len=value.length;i<len;i++){var ch=value.charCodeAt(i);if(ch<256){result++}else{result+=3}}return result}}}function addErrorMessage(obj,errMsg,useSystem){if(obj){if(obj.errorArray==null){obj.errorArray=[]}var customErrorMsg=obj[errorMsg];if(useSystem!=true&&customErrorMsg){obj.errorArray.push(customErrorMsg)}else{obj.errorArray.push(errMsg)}}}$.fn.validate=function(options){var settings={errorIcon:true,errorAlert:false,errorBg:false,validateHidden:false,checkNull:true};options=$.extend(settings,options);return MxtCheckForm(this,options)};$.fn.validateChange=function(obj){var tempElem=this;if(tempElem!=null&&tempElem.size()>0){addCheckMsg(tempElem,obj)}tempElem=null};var invalid=[];$._invalidObj=function(obj){if(obj){invalid.push(obj)}invalid.contains(obj)};$._isInValid=function(obj){if(invalid.contains){return invalid.contains(obj)}return null};$.isNull=isNull;$.isANumber=isANumber})();function MxtColorPanel(a){this.p={id:"MxtColorPanel_"+Math.floor(Math.random()*100000000),targetId:"",colorData:[{model:"#303030",list:["#071111","#1f2627","#353c3d","#4b5354","#636b6c","#7c8485","#0a1011","#1e2223","#323637","#454b4c","#5c6162","#727878","#000000","#1d1d1d","#252525","#3c3c3c","#525252","#6b6b6b"]},{model:"#d7dae0",list:["#e9ecf2","#f2e5fc","#cbe6dd","#c7e9fb","#e3e0ca","#f8e5e1","#d7dae0","#d3e1ff","#9fd6c4","#95cce8","#c8c49e","#dac4bf","#cccccc","#d0c4da","#d0c4da","#d0c4da","#d0c4da","#cea69d"]},{model:"#da0025",list:["#6e0012","#8d0017","#ad001d","#cf0023","#f10025","#ff2c37","#54001d","#710025","#8e0032","#ad2a3f","#cd484a","#eb6360","#43001c","#5e1129","#792a38","#964449","#b45d59","#d17670"]},{model:"#f01800",list:["#4f0006","#6d0004","#8c0001","#ac0000","#cd0000","#ef0000","#380003","#510000","#6e0000","#8b1202","#a9331a","#c84e31","#290002","#3f0200","#591b0b","#733220","#8f4a37","#ac634e"]},{model:"#ff4300",list:["#660003","#850000","#a40000","#c50000","#e61f00","#ff4608","#500000","#6c0000","#891700","#a73511","#c65129","#e56b41","#3c0600","#561e0a","#703420","#8c4c36","#a8654d","#c57f65"]},{model:"#fd6c05",list:["#740000","#920000","#b22600","#d34500","#f26000","#ff7c1c","#5f1300","#7b2c00","#984512","#b65e2b","#d37742","#f2925c","#4f2307","#69391e","#845134","#a06a4c","#bc8363","#d99e7d"]},{model:"#feab07",list:["#713400","#8f4c00","#ad6500","#cb7e00","#eb9900","#ffb317","#4d2600","#683b00","#835300","#a06c13","#bc852f","#da9f49","#472900","#5f3f0b","#7a5723","#96703b","#b18952","#cea36c"]},{model:"#ffc91e",list:["#653d00","#825400","#a06d00","#bd8600","#dca000","#ffbf00","#452a00","#5f4000","#7a5800","#977008","#b38928","#d0a444","#412c00","#5a4206","#745a20","#8f7338","#aa8c50","#c7a669"]},{model:"#93c900",list:["#002800","#003c00","#005500","#1f6e00","#418700","#5ea200","#002300","#173800","#304f00","#496700","#638118","#7d9b34","#122000","#273503","#3d4b1b","#556332","#6f7d49","#889661"]},{model:"#54c300",list:["#003f00","#005700","#007200","#008c00","#18a110","#54c300","#003a00","#1d5100","#386a00","#52841b","#6c9e36","#87ba51","#1f3605","#354d1c","#4d6533","#667f4b","#7f9863","#9ab47c"]},{model:"#00ab62",list:["#002900","#004117","#00592c","#007443","#00905b","#00ab60","#00270e","#003c23","#005338","#006d4f","#266a6d","#44a177","#002215","#0a3829","#234e3f","#3b6756","#54816f","#6d9b83"]},{model:"#00c3c4",list:["#002a2f","#0c404c","#00585c","#007275","#008d8f","#00a8a9","#002526","#003a3c","#005252","#006b6b","#258584","#449f9e","#002122","#0a3736","#244d4d","#3c6665","#557f7e","#6e9998"]},{model:"#009bf0",list:["#002568","#003981","#00509b","#105dbd","#45a6d0","#15a4fa","#002149","#003661","#004c7a","#1e6494","#407eaf","#5c97ca","#001f36","#12334d","#2b4964","#53718b","#5e7b98","#7794b3"]},{model:"#006afe",list:["#000079","#001b95","#002db0","#0041cb","#0058e9","#006aff","#00004a","#001963","#002d7c","#234296","#435ab2","#596cc7","#00002e","#091a45","#022c55","#3b4475","#555b8f","#686ea3"]},{model:"#3f00dd",list:["#00006f","#000084","#1e0098","#3b0dad","#5424c3","#6c39d9","#0f003e","#180052","#2f1763","#422776","#56398a","#6b4b9f","#100025","#1d1035","#2e1f47","#3f2f59","#52416c","#655380"]},{model:"#9025ff",list:["#2a0075","#490090","#6700ab","#8500c7","#a400e4","#bf00ff","#260048","#3d0060","#57007a","#711993","#8d37af","#a74fc8","#20002d","#432847","#491d5b","#412845","#7c4c8e","#9462a6"]},{model:"#ff3ec2",list:["#7f0023","#9e0038","#bd004d","#dd0065","#ff007f","#ff3e98","#5f0023","#7c0039","#98204f","#b53e67","#d45b81","#f1759a","#4a0c24","#64263a","#7e3d50","#995668","#b76a8b","#d1899b"]},{model:"#fe0b6b",list:["#6f0036","#8d004d","#ab0064","#ca007e","#ea0098","#ff21b3","#55002d","#700043","#8c005a","#a92673","#c6468d","#e461a7","#430027","#5d0d3d","#762953","#92426c","#ae5c86","#ca75a0"]}],modelIndex:9,listIndex:null,top:null,left:null,onSuccess:function(){},onChange:function(c){try{console.log("大类: "+c.modelColor+", 小类: "+c.listColor+", modelIndex: "+c.modelIndex+", listIndex: "+c.listIndex)}catch(b){}},onClose:function(){}};$.extend(this.p,a);this.init()}MxtColorPanel.prototype.init=function(){$(".MxtColorPanel").remove();this.createColorGroup();this.setPosition();this.bindClose();this.show()};MxtColorPanel.prototype.createColorGroup=function(){var e=this;var b="";b+='<div id="'+this.p.id+'" class="MxtColorPanel">';b+='<ul class="group_list clearfix">';var a=this.p.colorData;for(var c=0;c<a.length;c++){b+='<li data-index="'+c+'" style="background:'+a[c].model+';"></li>'}b+="</ul>";b+="</div>";var d=$(b);d.find("li").click(function(){d.find("li").removeClass("current");$(this).addClass("current");e.createColorGroupList($(this).attr("data-index"))}).mouseenter(function(){$(this).addClass("hover")}).mouseleave(function(){$(this).removeClass("hover")}).eq(e.p.modelIndex).addClass("current");$("body").append(d);this.createColorGroupList(this.p.modelIndex,true)};MxtColorPanel.prototype.createColorGroupList=function(c,f){var h=this;var g=$("#"+this.p.id);var b="";var a=this.p.colorData[c].list;b+='<ul class="groupItem_list clearfix">';for(var d=0;d<a.length;d++){b+='<li data-modelIndex="'+c+'" data-listIndex="'+d+'" style="background:'+a[d]+';"></li>'}b+="</ul>";var e=$(b);e.find("li").click(function(){var j=$(this).attr("data-modelIndex");var k=$(this).attr("data-listIndex");g.find(".ok").remove();$(this).append("<div class='ok'></div>");h.p.onChange({modelIndex:j,listIndex:k,modelColor:h.p.colorData[j].model,listColor:h.p.colorData[j].list[k]})});if(f&&this.p.listIndex!=null){e.find("li").eq(h.p.listIndex).append("<div class='ok'></div>")}g.find(".groupItem_list").remove();g.prepend(e)};MxtColorPanel.prototype.setPosition=function(){var f=$("#"+this.p.id);var b=300;var d=200;var e=$("#"+this.p.targetId);var c=e.offset().top;var g=e.offset().left;var h=e.width();var a=e.height();var j=0;var k=0;j=c-a-d;k=g+h/2-b/2;this.p.top!=null?j=this.p.top:null;this.p.left!=null?k=this.p.left:null;(k+b)>$(window).width()?k=$(window).width()-b-10:null;(j+d)>$(window).height()?j=$(window).height()-d-10:null;j<0?j=10:null;k<0?k=10:null;f.css({left:k,top:j})};MxtColorPanel.prototype.show=function(){$("#"+this.p.id).show();this.p.onSuccess()};MxtColorPanel.prototype.bindClose=function(){var b=this;var a=false;$("#"+this.p.id).mouseenter(function(){a=false}).mouseleave(function(){a=true});$("#"+this.p.targetId).mouseenter(function(){a=false}).mouseleave(function(){a=true});$(document).click(function(){if(a){$("#"+b.p.id).remove();b.p.onClose()}})};var _initQuerySelectorAll=function(){if(!document.querySelectorAll){document.querySelectorAll=function(b){var c=document.createElement("style"),d=[],a;document.documentElement.firstChild.appendChild(c);document._qsa=[];c.styleSheet.cssText=b+"{x-qsa:expression(document._qsa && document._qsa.push(this))}";window.scrollBy(0,0);c.parentNode.removeChild(c);while(document._qsa.length){a=document._qsa.shift();a.style.removeAttribute("x-qsa");d.push(a)}document._qsa=null;return d}}if(!document.querySelector){document.querySelector=function(a){var b=document.querySelectorAll(a);return(b.length)?b[0]:null}}};var AssertUtils={isString:function(a){return"[object String]"==Object.prototype.toString.call(a)},isFunction:function(a){if(AssertUtils.isNotNull(a)){if(typeof a=="function"){return true}else{return false}}},isObject:function(a){if(a!=null&&typeof a=="object"){return true}else{return false}},isNotNull:function(a){if(a!=null&&typeof a!=undefined&&typeof a!=null){return true}else{return false}},isNotEmpty:function(a){if(a!=null&&typeof a!=undefined&&a!==""){return true}else{return false}},isUrl:function(a){if(typeof a==""&&a.indexOf("/")){return true}else{return false}},isArray:function(a){if(typeof a==="object"&&typeof a.slice==="function"&&typeof a.sort==="function"&&typeof a.length==="number"&&!a.propertyIsEnumerable(a.length)){return true}else{return false}},isNumber:function(a){return(parseFloat(a)==a)}};var SeeUtils={getPageY:function(a){return a.y?a.y:a.pageY},getPageX:function(a){return a.x?a.x:a.pageX},trim:function(f){var d=f.toCharArray();var a=0;var e=d.length;for(var b=0;b<d.length;b++){var g=d[b];if(g==" "){a++}else{break}}if(a==f.length){return""}for(var b=d.length;b>0;b--){var g=d[b-1];if(g==" "){e--}else{break}}return f.substring(a,e)},eventHandler:{},beforeEL:function(b,a){b=SeeUtils.getElObj(b);a=SeeUtils.getElObj(a);$(b).before(a)},afterEL:function(b,a){b=SeeUtils.getElObj(b);a=SeeUtils.getElObj(a);$(b).after(a)},executeCusEvent:function(d,c){if(AssertUtils.isNotEmpty((d))){var b=d.split(";");for(var a=0;a<b.length;a++){if(typeof SeeUtils.eventHandler[b[a]]=="function"){SeeUtils.eventHandler[b[a]](c)}}}},isVisible:function(a){a=SeeUtils.getElObj(a);if(a!=null){if(a.style.display!="none"){return true}}return false},getLabel:function(a){a=SeeUtils.getElObj(a);if(a!=null){return a.innerText}else{return""}},executeMouseenter:function(b){b=SeeUtils.getElObj(b);var a=SeeUtils.getAttrEl(b,"mouseenterid");SeeUtils.executeCusEvent(a,b)},executeMouseleave:function(b){b=SeeUtils.getElObj(b);var a=SeeUtils.getAttrEl(b,"mouseleaveid");SeeUtils.executeCusEvent(a,b)},executeClick:function(a){a=SeeUtils.getElObj(a);SeeUtils.triggerClick(a)},toggleClass:function(a,b){a=SeeUtils.getElObj(a);if(SeeUtils.hasClass(a,b)){SeeUtils.removeClass(a,b)}else{SeeUtils.addClass(a,b)}},triggerClick:function(b){if(b.click){b.click()}else{try{var a=document.createEvent("Event");a.initEvent("click",true,true);b.dispatchEvent(a)}catch(c){}}},isOpera:(navigator.userAgent.indexOf("Opera")>-1),isFF:(navigator.userAgent.indexOf("Firefox")>-1),isSafari:(navigator.userAgent.indexOf("Safari")>-1),isIE:(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:(window.XMLHttpRequest==null&&navigator.userAgent.indexOf("MSIE")>=0),isIE7:(navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")>=0),isIE8:(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0)&&/msie 8\.0/i.test(navigator.userAgent)||(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0)&&/msie 7\.0/i.test(navigator.userAgent),isIE9:(navigator.userAgent.indexOf("MSIE 9.0")>=0&&navigator.userAgent.indexOf("Trident")>=0),isIE10:(navigator.userAgent.indexOf("MSIE 10.0")>=0&&navigator.userAgent.indexOf("Trident")>=0),isIE11:(navigator.userAgent.indexOf("MSIE 11.0")>=0&&navigator.userAgent.indexOf("Trident")>=0||navigator.userAgent.indexOf("rv:11.0")>=0&&navigator.userAgent.indexOf("Trident")>=0),getElObj:function(b,a){if(b!=null){if(a!=null){if(typeof b=="string"||typeof b=="number"){b=a.document.getElementById(b+"")}}else{if(typeof b=="string"||typeof b=="number"){b=document.getElementById(b+"")}}return b}else{return null}},getSizeById:function(b,a){var c=null;if(a!=null){c=a.document.getElementById(b)}else{c=document.getElementById(b)}if(c!=null){return 1}else{return 0}},eachChildren:function(b,a){b=SeeUtils.getElObj(b);if(b!=null){for(var c=0;c<b.children.length;c++){if(a!=null&&AssertUtils.isFunction(a)){a(b.children[c])}}return b.children}return[]},eachAllSonElsByClass:function(f,h){function g(o,m){var l=o.childNodes;for(var k=0;k<l.length;k++){var n=l[k];if(n!=null){m.push(n);g(n,m)}}}var c=[];var b=SeeUtils.getByClass(document,f);for(var d=0;d<b.length;d++){var e=b[d];c.push(e);g(e,c)}for(var a=0;a<c.length;a++){var j=c[a];typeof h=="function"&&h(j,a)}},siblings:function(b,e,f){b=SeeUtils.getElObj(b);if(b==null){return void (0)}var c=[];var a=[];if(!b.parentNode){return c}a=b.parentNode.childNodes;for(var d=0;d<a.length;d++){if(a[d]!=b&&a[d].nodeType===1&&b.tagName===e.toUpperCase()){c.push(a[d]);if(AssertUtils.isFunction(f)){f(a[d])}}}},getSizeByClass:function(c,a){if(a!=null){var b=SeeUtils.getByClass(a.document,c);return b.length}else{return SeeUtils.getByClass(document,c).length}},getFirstElByClass:function(d,b,a){var c=[];if(b!=null){c=SeeUtils.getByClass(b.document,d)}else{if(a==null){a=document}c=SeeUtils.getByClass(a,d)[0]}if(c.length>0){return c[0]}},removeElByClass:function(b,a){if(a!=null){return SeeUtils._removeElByClass(a.document,b)}else{return SeeUtils._removeElByClass(document,b)}},_removeElByClass:function(d,b){var e=[];var c=SeeUtils.getByClass(d,b);if(b.indexOf(".")==0){b=b.substring(1,b.length)}for(var a=0;a<c.length;a++){if(c[a].className!=null&&c[a].className.indexOf(b)>=0){SeeUtils.removeEl(c[a])}}},_getObjType:function(a){try{if(StaticNodeList&&a.constructor==StaticNodeList){return"StaticNodeList"}}catch(b){}switch(a.constructor){case Object:return"Object";break;case Array:return"Array";break;case NodeList:return"NodeList";break;default:return"null";break}},each:function(a,d){var c=SeeUtils._getObjType(a);if(c==="Array"||c==="NodeList"||c==="StaticNodeList"){if(!Array.prototype.every){Array.prototype.every=function(g){if(this===void 0||this===null){throw new TypeError()}var j=Object(this);var e=j.length>>>0;if(typeof g!=="function"){throw new TypeError()}var f=arguments.length>=2?arguments[1]:void 0;for(var h=0;h<e;h++){if(h in j&&!g.call(f,j[h],h,j)){return false}}return true}}[].every.call(a,function(e,f){return d.call(e,f,e)===false?false:true})}else{if(c==="Object"){for(var b in a){if(d.call(a[b],b,a[b])===false){break}}}}},getElByTag:function(b,a){b=SeeUtils.getElObj(b);if(b!=null){var c=b.getElementsByTagName(a);return c}return[]},_getParents:function(c,a,b){if(a!=null){if(SeeUtils.hasClass(a,b)){c.push(a)}}if(a!=null){SeeUtils._getParents(c,a.parentNode,b)}},getParentsByClass:function(c,b){if(b.indexOf(".")==0){b=b.substring(1,b.length)}var a=[];SeeUtils._getParents(a,c,b);return a},_closestEl:function(b,a){if(b!=null){if(b.tagName===a.toUpperCase()){return b}else{return SeeUtils._closestEl(b.parentNode,a)}}return null},_closestElByClass:function(b,a){if(b!=null){if(SeeUtils.hasClass(b,a)){return b}else{return SeeUtils._closestElByClass(b.parentNode,a)}}return null},closestByClass:function(c,b){var a=(b+"").split(".");var b=a[0];if(a.length>0){b=a[1]}c=SeeUtils.getElObj(c);if(c!=null){return SeeUtils._closestElByClass(c.parentNode,b)}return null},closestByTagName:function(b,a){b=SeeUtils.getElObj(b);if(b!=null){if(b.tagName===a.toUpperCase()){return b}return SeeUtils._closestEl(b.parentNode,a)}return null},eachElsByTagAndProp:function(a,c,f,b,e){var j=[];a=SeeUtils.getElObj(a);if(a!=null){var d=SeeUtils.getElByTag(a,c);for(var g=0;g<d.length;g++){var h=d[g];if(SeeUtils.getAttrEl(h,f)===b){j.push(h);if(e!=null&&AssertUtils.isFunction(e)){e(h,g)}}}}return j},getCheckedInpus:function(d){var a=[];d=SeeUtils.getElObj(d);if(d!=null){var e=SeeUtils.getElByTag(d,"input");for(var b=0;b<e.length;b++){var c=e[b];if(c.checked){a.push(c)}}}return a},getNextEl:function(b){var a=null;if(SeeUtils.isIE8){a=b.nextSibling}else{a=b.nextElementSibling}if(a){if(a.nodeType===1){return a}}else{return null}},getPrevEle:function(a){var b=a.previousSibling;if(b){if(b.nodeType===1){return b}if(b.previousSibling){return arguments.callee(b)}}else{return null}},eachBySiblings:function(b,e){var c=[];var a=[];if(!b.parentNode){return c}a=b.parentNode.childNodes;for(var d=0;d<a.length;d++){if(a[d]!=b&&a[d].nodeType===1){c.push(a[d]);if(AssertUtils.isFunction(e)){e(a[d])}}}return c},eachByTag:function(d,b,f){var c=SeeUtils.getElByTag(d,b);for(var e=0;e<c.length;e++){var a=c[e];typeof f=="function"&&f(a,e)}},eachByClass:function(d,b,e){var c=SeeUtils.getByClass(d,b);for(var a=0;a<c.length;a++){typeof e=="function"&&e(c[a],a)}},isElement:function(a){return !!(a&&(a.nodeType==1||a.nodeType==9))},getByClass:function(f,e){f=SeeUtils.getElObj(f);if(f==null){return[]}if(e.indexOf(".")!=0){e="."+e}if(f==null){return[]}if(e.indexOf(".")!=0){e="."+e}if(SeeUtils.isIE8){_initQuerySelectorAll();if(f.querySelectorAll){var c=f.querySelectorAll(e);return c}else{var b=[];var d=new RegExp(" "+e+" ","i");var g=f.getElementsByTagName("*");for(var a=0;a<g.length;a++){if(d.test(" "+g[a].className+" ")){b.push(g[a])}}return b}}else{var c=f.querySelectorAll(e);return c}},hasClass:function(c,b){c=SeeUtils.getElObj(c);if(c==null){return void (0)}if(c.className!=null){var a=c.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"));if(a==null){return false}else{return true}}else{return false}},addClass:function(b,a){b=SeeUtils.getElObj(b);if(b==null){return void (0)}if(!SeeUtils.hasClass(b,a)){b.className+=" "+a}},removeClass:function(c,a){c=SeeUtils.getElObj(c);if(SeeUtils.hasClass(c,a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");c.className=c.className.replace(b," ")}},getInnerWidth:function(a){var b=parseFloat(SeeUtils.getElWidth(a))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingLeft")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingRight")));return b},getOuterWidth:function(a){var b=parseFloat(SeeUtils.getElWidth(a))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"borderLeftWidth")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"borderRightWidth")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingLeft")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingRight")));return b},getInnerHeight:function(a){var b=parseFloat(SeeUtils.getElHeight(a))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingTop")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingBottom")));return b},getOuterHeight:function(a){var b=parseFloat(SeeUtils.getElHeight(a))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"borderTopWidth")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"borderBottomWidth")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingTop")))+parseFloat(SeeUtils.getNumber(SeeUtils.getCss(a,"paddingBottom")));return b},getElWidth:function(b){b=SeeUtils.getElObj(b);if(b!=null&&SeeUtils.isShow(b)){if(b.style.width!=null&&b.style.width.length>0&&b.style.width!="auto"&&(b.style.width+"").indexOf("%")==-1){return parseFloat(b.style.width)}if(parseFloat(SeeUtils._getStyleValue(b,"width"))>0&&SeeUtils._getStyleValue(b,"width").indexOf("%")==-1){return parseFloat(SeeUtils._getStyleValue(b,"width"))}if(b.offsetWidth>0){var a=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"borderLeftWidth"));var g=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"borderRightWidth"));var d=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"paddingLeft"));var h=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"paddingRight"));var f=parseFloat(b.offsetWidth)-parseFloat(a)-parseFloat(g)-parseFloat(d)-parseFloat(h);return parseFloat(f)}return 0}else{if(b!=null){var c=b.getAttribute("style");SeeUtils.attrEl(b,"style","visibility:hidden;display:inline-block !important;"+c);var e=SeeUtils.getElWidth(b);SeeUtils.attrEl(b,"style",c);return Math.ceil(e)}else{return 0}}},getDocumentHeight:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},getDocumentWidth:function(){return document.documentElement.scrollWidth},getStyle:function(b,a){if(window.getComputedStyle){return window.getComputedStyle(b)[a]}else{return b.currentStyle[a]}},getElOffest:function(e){e=SeeUtils.getElObj(e);function g(o){return o!=null&&o==o.window}function b(o){return g(o)?o:o.nodeType===9?o.defaultView||o.parentWindow:false}var c,k,l,h,m,a,f,j={top:0,left:0},d=e,n=d&&d.ownerDocument;if(!n){return}if((k=n.body)===d){return SeeUtils.bodyOffset(d)}c=n.documentElement;if(typeof d.getBoundingClientRect!=="undefined"){j=d.getBoundingClientRect()}l=b(n);h=c.clientTop||k.clientTop||0;m=c.clientLeft||k.clientLeft||0;a=l.pageYOffset||c.scrollTop;f=l.pageXOffset||c.scrollLeft;return{top:j.top+a-h,left:j.left+f-m}},offset:function(c){var b=0,a=0;while(c.offsetParent){b+=c.offsetTop;a+=c.offsetLeft;c=c.offsetParent}return{top:b,left:a}},bodyOffset:function(a){var c=a.offsetTop,b=a.offsetLeft;return{top:c,left:b}},getWidthByClass:function(c,a){var b=SeeUtils.getByClass(a.document,c);if(b.length>0){return SeeUtils.getElWidth(b[0])}else{return 0}},getClassElWidth:function(c,b){var a=SeeUtils.getByClass(document.getElementById(c),b);if(a.length>0){return SeeUtils.getElWidth(a[0])}else{return 0}},getAllWidth:function(d,c){var e=0;var b=SeeUtils.getByClass(document.getElementById(d),c);if(b.length>0){for(var a=0;a<b.length;a++){e+=SeeUtils.getElWidth(b[a])}}return e},_getStyleValue:function(b,a){b=SeeUtils.getElObj(b);if(!b.nodeType){return void (0)}var c=b.ownerDocument.defaultView;if(!c||!c.opener){c=window}if(b.currentStyle){return b.currentStyle[a]}else{if(c.getComputedStyle!=null){return c.getComputedStyle(b)[a]}}},isShow:function(a){a=SeeUtils.getElObj(a);var b=SeeUtils._getStyleValue(a,"display");if(b==="none"){return false}else{return true}},indexByTag:function(e,c,d){var f=SeeUtils.getElByTag(e,c);for(var b=0;b<f.length;b++){var a=f[b];if(a==d){return b}}return -1},getElHeight:function(b){b=SeeUtils.getElObj(b);if(b!=null&&SeeUtils.isShow(b)){if(b.style.height!=null&&b.style.height.length>0&&b.style.height!="auto"&&(b.style.height+"").indexOf("%")==-1){return parseFloat(b.style.height)}if((SeeUtils._getStyleValue(b,"height")+"").indexOf("%")==-1&&parseFloat(SeeUtils._getStyleValue(b,"height"))>0){return parseFloat(SeeUtils._getStyleValue(b,"height"))}if(b.offsetHeight>0){var h=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"borderTopWidth"));var e=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"borderBottomWidth"));var f=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"paddingTop"));var g=SeeUtils.getNumber(SeeUtils._getStyleValue(b,"paddingBottom"));var d=parseFloat(b.offsetHeight)-parseFloat(h)-parseFloat(e)-parseFloat(f)-parseFloat(g);return parseFloat(d)}return 0}else{if(b!=null){var c=b.getAttribute("style");SeeUtils.attrEl(b,"style","visibility:hidden;display:block !important;"+c);var a=SeeUtils.getElHeight(b);SeeUtils.attrEl(b,"style",c);return a}else{return 0}}},setElWidth:function(a,b){a=SeeUtils.getElObj(a);if(a!=null&&AssertUtils.isNotEmpty(b)){if((b+"").indexOf("%")>0||b==="auto"){a.style.width=b}else{if(!isNaN(b)){a.style.width=parseFloat(b)+"px"}}}},innerHTMl:function(a,b){a=SeeUtils.getElObj(a);if(a!=null){if(SeeUtils.isIE8||SeeUtils.isIE9||SeeUtils.isIE10){$(a).html(b)}else{a.innerHTML=b}}},setElHeight:function(b,a){b=SeeUtils.getElObj(b);if(b!=null&&AssertUtils.isNotEmpty(a)){if((a+"").indexOf("%")>0||a==="auto"){b.style.height=a}else{if(parseFloat(a)>=0){b.style.height=parseFloat(a)+"px"}}}},insertAfter:function(e,b){b=SeeUtils.getElObj(b);if(b==null){return void (0)}var c=b.parentNode;if(c.lastChild==b){if(typeof e==="string"){var a=document.createElement("div");a.innerHTML=e;var d=document.createDocumentFragment();while(a.firstChild){d.appendChild(a.firstChild)}c.appendChild(d)}else{c.appendChild(e)}}else{if(typeof e==="string"){var a=document.createElement("div");a.innerHTML=e;var d=document.createDocumentFragment();while(a.firstChild){d.appendChild(a.firstChild)}c.insertBefore(d,b.nextSibling)}else{c.insertBefore(e,b.nextSibling)}}},insertBefore:function(e,b){b=SeeUtils.getElObj(b);if(b==null){return void (0)}var c=b.parentNode;if(typeof e==="string"){var a=document.createElement("div");a.innerHTML=e;var d=document.createDocumentFragment();while(a.firstChild){d.appendChild(a.firstChild)}c.insertBefore(d,b)}else{c.insertBefore(e,b)}},appendToBody:function(c,a){var e=null;if(a!=null){e=a.document.getElementsByTagName("body")}else{e=document.getElementsByTagName("body")}if(typeof c==="string"){var b=document.createElement("div");b.innerHTML=c;var d=document.createDocumentFragment();while(b.firstChild){d.appendChild(b.firstChild)}e[0].appendChild(d);return d}else{e[0].appendChild(c);return c}},getNumber:function(a){a=parseFloat(a);if(AssertUtils.isNumber(a)){return a}else{return 0}},prependToBody:function(b,a,c){var d=null;if(a!=null){d=a.document.getElementsByTagName("body")}else{d=document.getElementsByTagName("body")}if(d[0].childNodes.length>0&&c!==true){if(typeof b==="string"){SeeUtils.prepend(b,d[0])}else{d[0].insertBefore(b,d[0].childNodes[0])}}else{d[0].appendChild(b)}},removeChild:function(a,b){a=SeeUtils.getElObj(a);if(a==null){return void (0)}if(b!=null){a.removeChild(b)}},showHide:function(a,l){var j={BODY:"block"};var e,h=null;function k(r){if(j[r]){return j[r]}var q=SeeUtils.getUUid();var o=SeeUtils.appendToBody("<"+r+" id='"+q+"'>");g=SeeUtils._getStyleValue(q,"display");SeeUtils.removeEl(q);if(g==="none"||g===""){var n=document.createElement("iframe");n.style.frameBorder=0;n.style.width=0;n.style.height=0;SeeUtils.appendToBody(n);if(!h||!e.createElement){h=(e.contentWindow||e.contentDocument).document;h.write("<!doctype html><html><body>");h.close()}d=h.body.appendChild(h.createElement(r));g=SeeUtils._getStyleValue(d,"display");document.body.removeChild(e)}j[r]=g;return g}function b(o,n){o=n||o;return SeeUtils._getStyleValue(o,"display")==="none"}var d,g,m=[],f=0,c=a.length;for(;f<c;f++){d=a[f];if(!d.style){continue}if(l){if(!m[f]&&d.style.display==="none"){d.style.display=""}if(d.style.display===""&&b(d)){m[f]=k(d.nodeName)}}}for(f=0;f<c;f++){d=a[f];if(!d.style){continue}if(!l||d.style.display==="none"||d.style.display===""){d.style.display=l?m[f]||"":"none"}}return a},showEl:function(a){var b=SeeUtils.getElObj(a);if(b!=null){return SeeUtils.showHide([b],true)}},getElVal:function(a){var b=SeeUtils.getElObj(a);if(b!=null){return b.value}},setElVal:function(a,c){var b=SeeUtils.getElObj(a);if(b!=null){b.value=c}},hideEl:function(a){var b=SeeUtils.getElObj(a);if(b!=null){b.style.display="none"}},text:function(a,c){var b=SeeUtils.getElObj(a);if(b!=null){b.innerText=c}},showElByClass:function(c){var b=SeeUtils.getByClass(document,c);if(b.length>0){for(var a=0;a<b.length;a++){SeeUtils.showEl(b[a])}}},hideElByClass:function(d,a){var c=[];if(a!=null){c=SeeUtils.getByClass(a.document,d)}else{c=SeeUtils.getByClass(document,d)}if(c.length>0){for(var b=0;b<c.length;b++){SeeUtils.hideEl(c[b])}}},getElByTagAndIndex:function(e,c,a){var d=SeeUtils.getElByTag(e,c);for(var f=0;f<d.length;f++){var b=d[f];if(parseFloat(a)===f){return b}}return null},removeEl:function(a){a=SeeUtils.getElObj(a);if(a!=null){if(a.parentNode){a.parentNode.removeChild(a)}}},html:function(b,a){b=SeeUtils.getElObj(b);if(b!=null){b.innerHTML=a}},attrByClass:function(d,f,e,a){var c=null;if(a!=null){c=SeeUtils.getByClass(a.document,d)}else{c=SeeUtils.getByClass(document,d)}if(c.length>0){for(var b=0;b<c.length;b++){SeeUtils.attrEl(c[b],f,e)}}},removeAttrEl:function(a,b){a=SeeUtils.getElObj(a);if(a!=null){a.removeAttribute(b)}},attrEl:function(a,c,b){a=SeeUtils.getElObj(a);if(a!=null){a.setAttribute(c,b)}if(a!=null&&c==="value"&&a.tagName==="INPUT"){a.value=b}},getAttrEl:function(a,b){a=SeeUtils.getElObj(a);if(a!=null){return a.getAttribute(b)}},cssByClass:function(e,f,b,a){var d=null;if(a!=null){d=SeeUtils.getByClass(a.document,e)}else{d=SeeUtils.getByClass(document,e)}if(d.length>0){for(var c=0;c<d.length;c++){SeeUtils.css(d[c],f,b)}}},getCss:function(a,d){var c=SeeUtils.getElObj(a);var b=null;if(c!=null){b=c.style[d];if(!AssertUtils.isNotEmpty(b)){b=SeeUtils._getStyleValue(c,d)}}return b},css:function(c,g,b,a){var d=SeeUtils.getElObj(c,a);if(d!=null&&b!=null&&(b+"").indexOf("undefined")<0){b=b+"";if(g=="width"||g=="height"||g=="left"||g=="right"||g=="top"||g=="bottom"||g=="maxWidth"||g=="maxHeight"){if(b!=null&&b.length>0&&b.indexOf("%")<0&&b!="auto"&&b!="none"){b=(b+"").split("px")[0]+"px"}}if(b!=null){try{d.style[g]=b}catch(f){}}}return this},cssByJson:function(c,b,a){var d=SeeUtils.getElObj(c,a);if(d!=null){for(var e in b){SeeUtils.css(c,e,b[e])}}},prepend:function(d,b){var c=SeeUtils.getElObj(b);if(c.childNodes[0]!=null){if(c==null||d==null){return void (0)}if(typeof d==="string"){var a=document.createElement("div");a.innerHTML=d;var e=document.createDocumentFragment();while(a.firstChild){c.insertBefore(a.firstChild,c.childNodes[0])}c.insertBefore(e,c.childNodes[0])}else{c.insertBefore(d,c.childNodes[0])}}else{SeeUtils.appendTo(d,b)}},appendTo:function(d,b){var c=SeeUtils.getElObj(b);if(c==null||d==null){return void (0)}if(typeof d==="string"){var a=document.createElement("div");a.innerHTML=d;var e=document.createDocumentFragment();while(a.firstChild){e.appendChild(a.firstChild)}c.appendChild(e)}else{if(c.nodeType===1||c.nodeType===11){if(d instanceof jQuery){if(d.get(0)!=null){c.appendChild(d.get(0))}}else{c.appendChild(d)}}}},getUUid:function(){function a(){return(((1+Math.random())*65536)|0).toString(16).substring(1)}return("id_"+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())},addEvent:function(b,c,a){b=SeeUtils.getElObj(b);if(b!=null&&typeof b=="object"){if(b.attachEvent){if(c!=null&&c.indexOf("on")<0){c="on"+SeeUtils.changeFirstCharToLow(c)}b.attachEvent(c,a)}else{if(b.addEventListener){b.addEventListener(c,a,false)}}}},removeEvent:function(b,c,a){b=SeeUtils.getElObj(b);if(b==null){return void (0)}if(a==null){a=function(){}}if(b.detachEvent){if(c!=null&&c.indexOf("on")<0){c="on"+SeeUtils.changeFirstCharToLow(c)}b.detachEvent(c,a)}else{if(b.removeEventListener){b.removeEventListener(c,a,false)}}},changeFirstCharToUpp:function(c){var b=c.substring(0,1);var a=c.substring(1);c=b.toUpperCase()+a;return c},changeFirstCharToLow:function(c){if(AssertUtils.isNotEmpty(c)){var b=c.substring(0,1);var a=c.substring(1);c=b.toLowerCase()+a;return c}},getWindowHeight:function(){if(window.innerHeight!=undefined){return window.innerHeight}else{var b=document.body,a=document.documentElement;return Math.min(a.clientHeight,b.clientHeight)}},ready:function(a){if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);a()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState=="complete"){document.detachEvent("onreadystatechange",arguments.callee);a()}})}}},addNodeToHeader:function(b){var a=document.getElementsByTagName("HEAD").item(0);a.appendChild(b)},addCssToHeader:function(a){var c=document.getElementsByTagName("HEAD").item(0);var b=document.createElement("link");b.type="text/css";b.href=a;b.setAttribute("rel","stylesheet");c.appendChild(b)},getHttpRequest:function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else{if(window.ActiveXObject){return new ActiveXObject("MsXml2.XmlHttp")}}},includeJS:function(b,a,e){if((e!=null)&&(!document.getElementById(b))){var d=document.getElementsByTagName("HEAD").item(0);var c=document.createElement("script");c.type="text/javascript";c.id=b;c.text=e;d.appendChild(c)}},ajaxPage:function(b,a){var c=SeeUtils.getHttpRequest();c.onreadystatechange=function(){if(c.readyState==4){SeeUtils.includeJS(b,a,c.responseText)}};c.open("GET",a,false);c.send(null)},addScriptToHeader:function(f,g,b,c){if(b){SeeUtils.ajaxPage(c,f)}else{var e=document.getElementsByTagName("HEAD").item(0);var d=document.createElement("script");d.type="text/javascript";d.src=f;var a=false;if(g!=null){d.onload=d.onreadystatechange=function(){if(!a&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){a=true;g()}}}e.appendChild(d)}},extend:(function(){var c=function(f){var g=Object.prototype.toString;return function(){return g.call(arguments[0])==="[object "+f+"]"}};var a=c("Object"),b=c("Array"),d=c("Boolean");return function e(){var m=0,l=false,j,g,n,f,k;if(d(arguments[0])){m=1;l=arguments[0]}for(k=arguments.length-1;k>m;k--){n=arguments[k-1];f=arguments[k];if(a(f)||b(f)){for(var o in f){j=f[o];if(l&&(a(j)||b(j))){g=a(j)?{}:[];var h=e(l,g,j);n[o]=h}else{n[o]=f[o]}}}else{n=f}}return n}})()};var plist=null;var printObj={};function printCap4(b,e,d){printObj=d;var c=new ArrayList();c.add({dataName:"标题",dataHtml:"",hide:true});c.add({dataName:"发起者信息",dataHtml:"",hide:true});if(AssertUtils.isNotEmpty(b)){c.add({dataName:"正文",dataHtml:b})}else{c.add({dataName:"正文",dataHtml:window.window.location.href,hide:true})}c.add({dataName:"附件",dataHtml:"",hide:true});c.add({dataName:"关联文档",dataHtml:"",hide:true});c.add({dataName:"原协同意见",dataHtml:"",hide:true});c.add({dataName:"发起人附言",dataHtml:"",hide:true});c.add({dataName:"处理人意见区",dataHtml:"",hide:true});plist=c;var a=_ctxPath+"/common/print/captPrintForm.jsp?printType=cap4Print";a+="&printUrl="+b;window.open(a)}function inputChange(b,c,a){this.obj=b;this.color=a;if(b.val()==""){if(!(this.color)){this.color="color_gray"}}this.text=c;if(!(this.text)){this.text="请输入内容"}this.change()}inputChange.prototype.change=function(){with(this){check();obj.focus(function(){if(obj.hasClass(color)){obj.removeClass(color).val("")}});obj.blur(function(){if(obj.val()==""){obj.addClass(color).val(text)}})}};inputChange.prototype.check=function(){with(this){if(obj.val()==""||obj.val()==text){obj.addClass(color).val(text)}else{obj.removeClass(color)}}};SeeUtils.ready(function(){SeeUtils.addEvent("condition","change",function(){var a=SeeUtils.getElVal("condition");SeeUtils.hideElByClass(".condition_text");SeeUtils.showEl(a+"Div")})});function showHide(b,a){b.click(function(){a.toggle()})}function getFirstDateOfWeek(a){var b=new Date(a.getTime());if(a.getDay()==0){b.setDate(a.getDate()-6)}else{b.setDate(a.getDate()-a.getDay()+1)}return b}function getLastDateOfWeek(b){var a=new Date(b.getTime());if(b.getDay()!=0){a.setDate(b.getDate()+6-b.getDay()+1)}return a}var MonHead=[31,28,31,30,31,30,31,31,30,31,30,31];function getLastDateOfMonth(a,b){var c=MonHead[b-1];if(b==2&&IsPinYear(a)){c++}return c}function IsPinYear(a){return(0==a%4&&(a%100!=0||a%400==0))}function mouseBind(d,g,b,c,f,a){function e(o){var n=o||window.e;var l=n.target||n.srcElement;if(l.nodeType==3){l=l.parentNode}var h=d.offset();var k=l.style.height;if(h!=null){var m=g;if(g!=null&&g.get!=null){m=g.get(0)}var q=(o.clientX>h.left&&o.clientX<(h.left+b.width)&&o.clientY<(h.top+b.height)&&o.clientY>(h.top-SeeUtils.getElHeight(m)))||(o.clientX>h.left&&o.clientX<(h.left+d.width())&&o.clientY<(h.top+d.height())&&o.clientY>(h.top-SeeUtils.getElHeight(m)))}if(l!=g&&!q&&l.id!=c){var j=b.hideDialog(f);if(j){SeeUtils.removeEvent(document,"mouseover",e);if(AssertUtils.isNotNull(a)){a()}}}}SeeUtils.addEvent(document,"mouseover",e)}function setAttachmentsLayoutHeight(n){if(SeeUtils.isIE){if(SeeUtils.isIE6){var g=SeeUtils.getByClass(document,"affix_area");for(var j=0;j<g.length;j++){var l=g[j];if(parseFloat(l.style.height)>34){l.style.height=34+"px"}}}}var h=document.getElementById(n.fj_id);var k=document.getElementById(n.wd_id);var m=document.getElementById(n.layout_head_id);var d=document.getElementById(n.layout_body_id);var f=0,e=0,c=0,a=0,b=20;c+=SeeUtils.getClassElWidth(n.fj_id,"attachment_block_number");c+=SeeUtils.getAllWidth(n.fj_id,"attachment_block");a+=SeeUtils.getClassElWidth(n.wd_id,"attachment_block_number");a+=SeeUtils.getAllWidth(n.wd_id,"attachment_block");if(c>SeeUtils.getElWidth(h)){e+=2}else{if(c>b){e+=1}}if(a>SeeUtils.getElWidth(k)){e+=2}else{if(a>b){e+=1}}SeeUtils.setElHeight(m,SeeUtils.getElHeight(d)+e*17);if(AssertUtils.isNotEmpty(SeeUtils.getCss(d,"top"))){SeeUtils.css(d,"top",parseFloat(SeeUtils.getCss(d,"top"))+e*17+"px")}}function set_select_val(a,c){if(SeeUtils.isIE6){setTimeout(function(){a.val(c)},1)}else{try{a.val(c)}catch(b){setTimeout(function(){a.val(c)},1)}}}function _GoTo_Top_ClickFn(b,a){var c=__GoTo_Top_Array__[a];if(c){if($("#content_view_div").length>0){$("#content_view_div").stop().animate({scrollTop:c._nGoToHeight},"fast")}else{if($("#compontentHtml").length>0){$("#compontentHtml").stop().animate({scrollTop:c._nGoToHeight},"fast")}else{$("body").stop().animate({scrollTop:c._nGoToHeight},"fast")}}}}var __GoTo_Top_Array__={};function GoTo_Top(k){if(k==null){var k={}}var j="41px";k.elItemWidth=j;var h=k.id?k.id:"GoTo_Top_"+Math.floor(Math.random()*100000000);var a=SeeUtils.getWindowHeight();var d=k.btnClass?k.btnClass:"GoTo_Top";var m=k.showHeight?k.showHeight:a;var f=k.marginLeft?k.marginLeft:798;this._nGoToHeight=k.nGoToHeight?k.nGoToHeight:0;var l=k.sTitle?k.sTitle:SeeUtils.getLabel("goToTop");if(k.id==="openOtherMenu"){l=SeeUtils.getLabel("proAss")}var e=this;if(d!=null&&d!="goToOtherMenu"&&d!="GoTo_Top2"){var c=document.createElement("iframe");c.className=d+"_iframe";c.setAttribute("scrolling","no");c.setAttribute("border",0);if(d!="GoTo_Top"){c.style.marginLeft=(f/2)+"px"}SeeUtils.prependToBody(c)}var b=document.createElement("a");b.id=h;b.className=d;b.setAttribute("href","javascript:void(0)");b.setAttribute("title",l);if(d!="goToOtherMenu"){SeeUtils.prependToBody(b)}if(k.left!==undefined&&(d==="GoTo_Top"||d==="GoTo_Top2"||d==="goToReply")){b.style.left=k.left+"px"}if(d=="goToReply"){b.style.display="inline";b.style.bottom="18px"}SeeUtils.addEvent(h,"click",function(){_GoTo_Top_ClickFn(this,d)});if(d=="GoTo_Top"){if($("#content_view_div").length>0){$("#content_view_div").scroll(function(){if($(".content_view").scrollTop()>0){SeeUtils.showElByClass(".GoTo_Top");SeeUtils.showElByClass(".GoTo_Top_iframe")}else{SeeUtils.hideElByClass(".GoTo_Top");SeeUtils.hideElByClass(".GoTo_Top_iframe")}})}else{var g=$(window);g.scroll(function(){if(g.scrollTop()>0){SeeUtils.showElByClass(".GoTo_Top");SeeUtils.showElByClass(".GoTo_Top_iframe")}else{SeeUtils.hideElByClass(".GoTo_Top");SeeUtils.hideElByClass(".GoTo_Top_iframe")}})}}__GoTo_Top_Array__[d]=this;if(document.querySelector(".GoTo_Top2")!=null){SeeUtils.showElByClass(".GoTo_Top2");SeeUtils.showElByClass(".GoTo_Top2_iframe")}}GoTo_Top.prototype.setGoToHeight=function(a){this._nGoToHeight=a};function _clearIframeContent(f,d,a,b){if(f===d.type[2]){try{var c=SeeUtils.getElObj("layui-layer-iframe"+a);c.src="about:blank";SeeUtils.eachByClass(b,"layui-layer-content",function(e){SeeUtils.removeChild(e,c)})}catch(g){}}}function __getIframeDialogNumbers(){var d=document.querySelectorAll(".layui-layer");var c=[];for(var b=0;b<d.length;b++){var a=d[b];if(SeeUtils.hasClass(a,"layui-layer-iframe")){c.push(a)}}return c}!function(window,undefined){var winBtnClickName="";"use strict";var isLayui=window.layui&&layui.define,$,win,ready={getPath:function(){var js=document.scripts,script=js[js.length-1],jsPath=script.src;if(script.getAttribute("merge")){return}return jsPath.substring(0,jsPath.lastIndexOf("/seeyon/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]};var layer={v:"3.0.1",ie:function(){var agent=navigator.userAgent.toLowerCase();return(!!window.ActiveXObject||"ActiveXObject" in window)?((agent.match(/msie\s(\d+)/)||[])[1]||"11"):false}(),index:(window.layer&&window.layer.v)?100000:0,path:ready.getPath,config:function(options,fn){options=options||{};layer.cache=ready.config=$.extend({},ready.config,options);layer.path=ready.config.path||layer.path;typeof options.extend==="string"&&(options.extend=[options.extend]);if(ready.config.path){layer.ready()}if(!options.extend){return this}isLayui?layui.addcss("modules/layer/"+options.extend):layer.link("skin/"+options.extend);return this},link:function(href,fn,cssname){if(!layer.path){return}var head=document.getElementsByTagName("head")[0];var link=document.createElement("link");if(typeof fn==="string"){cssname=fn}var app=(cssname||href).replace(/\.|\//g,"");var id="layuicss-"+app,timeout=0;link.rel="stylesheet";link.href=layer.path+href;link.id=id;if(!document.getElementById(id)&&href){head.appendChild(link)}if(typeof fn!=="function"){return}fn()(function poll(){if(++timeout>8*1000/100){return window.console&&console.error("layer.css: Invalid")}parseInt(SeeUtils.getElWidth(id))===1989?fn():setTimeout(poll,100)}())},ready:function(callback){var cssname="skinlayercss",ver="1172";isLayui?layui.addcss("seeyon/common/css/seeyon.ui.layer-debug.css?v="+layer.v+ver,callback,cssname):layer.link("",callback,cssname);return this},alert:function(content,options,yes){var type=typeof options==="function";if(type){yes=options}var otherParams=type?{}:options;if(otherParams==null){otherParams={}}options=SeeUtils.extend({content:content,yes:yes},otherParams);return layer.open(options)},confirm:function(content,options,yes,cancel){var type=typeof options==="function";if(type){cancel=yes;yes=options}var otherParams=type?{}:options;if(otherParams==null){otherParams={}}options=SeeUtils.extend({content:content,btn:ready.btn,yes:yes,btn2:cancel},otherParams);return layer.open(options)},msg:function(content,options,end){var type=typeof options==="function",rskin=ready.config.skin;var skin=(rskin?rskin+" "+rskin+"-msg":"")||"layui-layer-msg";var anim=doms.anim.length-1;if(type){end=options}return layer.open($.extend({content:content,time:3000,shade:false,skin:skin,title:false,closeBtn:false,btn:false,resize:false,end:end},(type&&!ready.config.skin)?{skin:skin+" layui-layer-hui",anim:anim}:function(){options=options||{};if(options.icon===-1||options.icon===undefined&&!ready.config.skin){options.skin=skin+" "+(options.skin||"layui-layer-hui")}return options}()))},load:function(icon,options){if(options==null){options={}}options=SeeUtils.extend({type:3,icon:icon||0,resize:false,shade:0.01},options);return layer.open(options)},tips:function(content,follow,options){if(options==null){options={}}return layer.open(SeeUtils.extend({type:4,content:[content,follow],closeBtn:false,time:3000,shade:false,resize:false,fixed:false,maxWidth:210},options))}};var Class=function(setings){var that=this;that.index=++layer.index;that.config=$.extend({},that.config,ready.config,setings);if(that.config.timeout){setTimeout(function(){document.body?that.creat():setTimeout(function(){that.creat()},50)},that.config.timeout)}else{document.body?that.creat():setTimeout(function(){that.creat()},50)}if(getCtpTop().isOffice||(!getCtpTop().needShowContent)){if(window.navigator.userAgent.indexOf("AppleWebKit")!=-1){setTimeout(function(){that.officeAction(false)},500)}else{that.officeAction(false)}}else{that.officeAction(true)}};Class.pt=Class.prototype;var doms=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close","layui-layer-messageBox"];doms.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"];Class.pt.config={type:0,shade:0.3,fixed:true,move:doms[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:600,maxWidth:360,anim:0,icon:-1,moveType:1,resize:true,scrollbar:true,tips:2,moveOut:true};Class.pt.vessel=function(conType,callback){var that=this,times=that.index,config=that.config;var zIndex=that.config.targetWindow.getMaxZindex(2);var titype=typeof config.title==="object";var ismax=config.maxmin&&(config.type===1||config.type===2);var titleHTML=(config.title?'<div class="layui-layer-title" style="'+(titype?config.title[1]:"")+'">'+(titype?config.title[0]:config.title)+"</div>":"");if(config.nameType!="panel"){that.ifMax()}var layerContent;if(config.layerFrom=="msg"){layerContent="<table width='90%' class='margin_t_20' style='font-size:12px;'><tr><td class='msgbox_content padding_l_10' style='padding-right:15px;'>"+config.content+"</td></tr></table>"}else{if(config.layerFrom=="dialog"){if(config.title){config.btn?config.area[1]=parseInt(config.area[1].split("px")[0])+105+"px":config.area[1]=parseInt(config.area[1].split("px")[0])+55+"px"}layerContent=(config.type==1&&conType?"":(config.content||""))}}config.zIndex=zIndex;var _nextShade="";if(config.nextShade){_nextShade='<div class="layui-layer-shade" id="layui-layer-shade-next'+times+'" style="'+("z-index:"+(zIndex+1)+"; background-color:"+("#fff")+";")+'"></div>'}winBtnClickName="dialogWinBtnClick"+that.index;callback([config.shade?('<div class="layui-layer-shade" id="layui-layer-shade'+times+'" times="'+times+'" notCopyReturnValue="'+config.notCopyReturnValue+'" style="'+("z-index:"+(zIndex)+"; background-color:"+(config.shade[1]||"#000")+"; opacity:"+(config.shade[0]||config.shade)+"; filter:alpha(opacity="+(config.shade[0]*100||config.shade*100)+");")+'"></div>')+_nextShade:"",'<div layType="dialog" class="'+doms[0]+(" layui-layer-"+ready.type[config.type])+(((config.type==0||config.type==2)&&!config.shade)?" layui-layer-border":"")+" "+(config.skin||"")+'" id="'+doms[0]+times+'" type="'+ready.type[config.type]+'" times="'+times+'" showtime="'+config.time+'" notCopyReturnValue="'+config.notCopyReturnValue+'" conType="'+(conType?"object":"string")+'" style="z-index: '+(zIndex+1)+"; width:"+config.area[0]+";height:"+config.area[1]+(config.fixed?"":";position:absolute;")+'">'+(conType&&config.type!=2?"":titleHTML)+'<div id="'+(config.id||"")+'_main" class="layui-layer-content'+((config.type==0&&config.icon!==-1)?" layui-layer-padding":"")+(config.type==3?" layui-layer-loading"+config.icon:"")+'" style="'+(config.nameType=="panel"?"font-size:12px":"")+'">'+(config.type==0&&config.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+config.icon+'"></i>':"")+(config.type==1&&conType?"":(layerContent||""))+'</div><span class="layui-layer-setwin">'+function(){var closebtn=ismax?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";config.closeBtn&&(closebtn+='<a class="layui-layer-ico '+doms[7]+" "+doms[7]+(config.title?config.closeBtn:(config.type==4?"1":"2"))+'"></a>');return closebtn}()+"</span>"+(config.btn?function(){var button="";typeof config.btn==="string"&&(config.btn=[config.btn]);for(var i=0,len=config.btn.length;i<len;i++){var num=config.leftBtns[i];if(num!=null){button+='<a onclick="'+winBtnClickName+'(event,this)" id="layui-layer-btn-'+config.btnId[i]+'" class="'+doms[6]+""+i+" "+(config.btnIsEmphasize[i]?"margin_r_10 common_button common_button_emphasize":"margin_r_10 common_button common_button_gray")+" "+(config.btnDisabled[i]?"common_button_disable":" ")+'" style="margin-left:20px;float:left;'+(config.btnHide[i]?"display:none":"")+'" disableAttr="'+config.btnDisabled[i]+'">'+config.btn[i]+"</a>"}else{button+='<a onclick="'+winBtnClickName+'(event,this)" id="layui-layer-btn-'+config.btnId[i]+'" class="'+doms[6]+""+i+" "+(config.btnIsEmphasize[i]?"margin_r_10 common_button common_button_emphasize":"margin_r_10 common_button common_button_gray")+" "+(config.btnDisabled[i]?"common_button_disable":" ")+'" style="'+(config.btnHide[i]?"display:none":"")+'" disableAttr="'+config.btnDisabled[i]+'">'+config.btn[i]+"</a>"}}var bottomHTML="";if(config.bottomHTML){bottomHTML+="<div class='left display_inline-block padding_l_10 padding_t_5'>"+config.bottomHTML+"</div>"}return'<div class="'+doms[6]+" layui-layer-btn-"+(config.btnAlign||"")+'">'+button+bottomHTML+"</div>"}():"")+"<iframe id='"+config.id+"_iframe_shadow' class='absolute iframe_shadow' style='top:0;width:"+config.area[0]+";height:"+config.area[1]+";border:0;z-index:-1;'></iframe>"+(config.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],titleHTML,$('<div class="layui-layer-move"></div>'));return that};Class.pt.creat=function(){var that=this,config=that.config,times=that.index,nodeIndex,content=config.content,conType=typeof content==="object";if(SeeUtils.getElObj(config.id)){return}if(typeof config.area==="string"){config.area=config.area==="auto"?["",""]:[config.area,""]}if(config.shift){config.anim=config.shift}if(layer.ie==6){config.fixed=false}switch(config.type){case 0:config.btn=("btn" in config)?config.btn:ready.btn[0];layer.closeAll("dialog");break;case 2:var content=config.content=conType?config.content:[config.content||"http://layer.layui.com","auto"];config.content='<iframe scrolling="'+(config.content[1]||"auto")+'" allowtransparency="true" id="'+doms[4]+""+times+'" name="'+doms[4]+""+times+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+config.content[0]+'"></iframe>';break;case 3:delete config.title;delete config.closeBtn;config.icon===-1&&(config.icon===0);layer.closeAll("loading");break;case 4:conType||(config.content=[config.content,"body"]);config.follow=config.content[1];config.content=config.content[0]+'<i class="layui-layer-TipsG"></i>';delete config.title;config.tips=typeof config.tips==="object"?config.tips:[config.tips,true];config.tipsMore||layer.closeAll("tips");break}that.vessel(conType,function(html,titleHTML,moveElem){$("body").focus();SeeUtils.appendToBody(html[0]);conType?function(){(config.type==2||config.type==4)?function(){SeeUtils.appendToBody(html[1])}():function(){if(!content.parents("."+doms[0])[0]){var layerObj=SeeUtils.getElObj(doms[0]+times);if(config.nameType=="panel"){content.data("display",content.css("display")).show().addClass("layui-layer-wrap").wrap(html[1])}else{SeeUtils.prependToBody(html[1]);$("#"+doms[0]+times).find("."+doms[5]).append(content);SeeUtils.eachChildren(SeeUtils.getElObj(doms[0]+times).querySelector("."+doms[5]),function(elObj){SeeUtils.showEl(elObj)})}$(SeeUtils.getElObj(doms[0]+times).querySelector("."+doms[5])).before(titleHTML)}}()}():SeeUtils.appendToBody(html[1]);that.layeroObj=SeeUtils.getElObj(doms[0]+times);if(!document.querySelector(".layui-layer-move")){$("body").append(ready.moveElem=moveElem)}that.layero=$("#"+doms[0]+times);if(config.showTime){var mainObj=SeeUtils.getElObj(config.id+"_main");var tempPHtml=mainObj.querySelector("p").innerText;var tempTime=parseInt(config.time)/1000;if(mainObj.querySelector("p")!=null){mainObj.querySelector("p").innerHTML=tempPHtml+"<span style='color:red;font-size: 16px;'>("+(--tempTime)+"s)</span>"}var tempInterval=setInterval(function(){if(mainObj.querySelector("p")!=null){mainObj.querySelector("p").innerHTML=tempPHtml+"<span style='color:red;font-size: 16px;'>("+(--tempTime)+"s)</span>"}if(tempTime<=1){config.showTimeFun();window.clearInterval(tempInterval)}},1000)}if(config.type==2&&config.transParams){that.layeroObj.querySelector("iframe").contentWindow.transParamsCopy=config.transParams;that.layeroObj.querySelector("iframe").contentWindow.dialogArguments=config.transParams;that.layeroObj.querySelector("iframe").contentWindow.transParams=config.transParams}if(config.type==2&&that.layeroObj.querySelector("iframe").contentWindow){if(!that.layeroObj.querySelector("iframe").contentWindow.parentDialogObj){that.layeroObj.querySelector("iframe").contentWindow.parentDialogObj=new Object()}eval("that.layeroObj.querySelector('iframe').contentWindow.parentDialogObj['"+config.id+"'] = layer;")}config.scrollbar||doms.html.css("overflow","hidden").attr("layer-full",times)}).auto(times);config.type==2&&layer.ie==6&&SeeUtils.attrEl(that.layeroObj.querySelector("iframe"),"src",content[0]);config.type==4?that.tips():that.offset();if(config.fixed){win.on("resize",function(){that.offset();(/^\d+%$/.test(config.area[0])||/^\d+%$/.test(config.area[1]))&&that.auto(times);config.type==4&&that.tips()})}config.time<=0||setTimeout(function(){layer.close(that.index)},config.time);that.move().callback()};Class.pt.auto=function(index){var that=this,config=that.config;var layeroObj=SeeUtils.getElObj(doms[0]+index);if(config.area[0]===""&&config.maxWidth>0){SeeUtils.getOuterWidth(layeroObj)>config.maxWidth&&SeeUtils.setElWidth(layeroObj,config.maxWidth)}var area=[SeeUtils.getInnerWidth(layeroObj),SeeUtils.getInnerHeight(layeroObj)];var titHeight=SeeUtils.getOuterHeight(layeroObj.querySelector(doms[1]))||0;var btnHeight=SeeUtils.getOuterHeight(layeroObj.querySelector("."+doms[6]))||0;function setHeight(elem){elem=layeroObj.querySelector(elem);if(navigator.userAgent.indexOf("Firefox")==-1){if(win.height()==0||win.width()==0){if(window.SeeUtils.getElHeight(document.body)>area[1]){SeeUtils.setElHeight(elem,(area[1]-titHeight-btnHeight-2*(parseFloat(SeeUtils.getCss(elem,"padding"))|0)))}else{SeeUtils.setElHeight(elem,(window.SeeUtils.getElHeight(document.body)-titHeight-btnHeight-2*(parseFloat(SeeUtils.getCss(elem,"padding"))|0)))}}else{SeeUtils.setElHeight(elem,(area[1]-titHeight-btnHeight-2*(parseFloat(SeeUtils.getCss(elem,"padding"))|0)))}}else{if(win.height()==0||win.width()==0){if(document.body.clientHeight>area[1]){SeeUtils.setElHeight(elem,(area[1]-titHeight-btnHeight-2*(parseFloat(SeeUtils.getCss(elem,"padding"))|0)))}else{SeeUtils.setElHeight(elem,(document.body.clientHeight-titHeight-btnHeight-2*(parseFloat(SeeUtils.getCss(elem,"padding"))|0)))}}else{SeeUtils.setElHeight(elem,(area[1]-titHeight-btnHeight-2*(parseFloat(SeeUtils.getCss(elem,"padding"))|0)))}}}switch(config.type){case 2:setHeight("iframe");break;default:if(config.area[1]===""){if(config.fixed&&area[1]>=win.height()){area[1]=win.height();setHeight("."+doms[5])}}else{setHeight("."+doms[5])}break}return that};Class.pt.offset=function(){var that=this,config=that.config;var layeroObj=that.layeroObj;var area=[SeeUtils.getOuterWidth(layeroObj),SeeUtils.getOuterHeight(layeroObj)];var type=typeof config.offset==="object";that.offsetTop=(win.height()-area[1])/2;that.offsetLeft=(win.width()-area[0])/2;if(win.height()==0||win.width()==0){if(navigator.userAgent.indexOf("Firefox")==-1){if(window.SeeUtils.getElHeight(document.body)<area[1]){that.offsetTop=0}else{that.offsetTop=(window.SeeUtils.getElHeight(document.body)-area[1])/2}that.offsetLeft=(window.SeeUtils.getElWidth(document.body)-area[0])/2}else{if(document.body.clientHeight<area[1]){that.offsetTop=0}else{that.offsetTop=(document.body.clientHeight-area[1])/2}that.offsetLeft=(document.body.clientWidth-area[0])/2}}if(type){that.offsetTop=config.offset[0];that.offsetLeft=config.offset[1]||that.offsetLeft}else{if(config.offset!=="auto"){if(config.offset==="t"){that.offsetTop=0}else{if(config.offset==="r"){that.offsetLeft=win.width()-area[0]}else{if(config.offset==="b"){that.offsetTop=win.height()-area[1]}else{if(config.offset==="l"){that.offsetLeft=0}else{if(config.offset==="lt"){that.offsetTop=0;that.offsetLeft=0}else{if(config.offset==="lb"){that.offsetTop=win.height()-area[1];that.offsetLeft=0}else{if(config.offset==="rt"){that.offsetTop=0;that.offsetLeft=win.width()-area[0]}else{if(config.offset==="rb"){that.offsetTop=win.height()-area[1];that.offsetLeft=win.width()-area[0]}else{that.offsetTop=config.offset}}}}}}}}}}if(!config.fixed){that.offsetTop=/%$/.test(that.offsetTop)?win.height()*parseFloat(that.offsetTop)/100:parseFloat(that.offsetTop);that.offsetLeft=/%$/.test(that.offsetLeft)?win.width()*parseFloat(that.offsetLeft)/100:parseFloat(that.offsetLeft);that.offsetTop+=win.scrollTop();that.offsetLeft+=win.scrollLeft()}if(SeeUtils.getAttrEl(layeroObj,"minLeft")!=null){that.offsetTop=win.height()-(SeeUtils.getOuterHeight(layeroObj.querySelector(doms[1]))||0);that.offsetLeft=SeeUtils.getCss(layeroObj,"left")}if(typeof(config.top)!="undefined"&&typeof(config.left)=="undefined"){SeeUtils.css(layeroObj,"top",config.top);SeeUtils.css(layeroObj,"left",that.offsetLeft)}else{if(typeof(config.top)!="undefined"&&typeof(config.left)!="undefined"){SeeUtils.css(layeroObj,"top",config.top);SeeUtils.css(layeroObj,"left",config.left)}else{if(that.offsetTop<0){SeeUtils.css(layeroObj,"top",0);SeeUtils.css(layeroObj,"left",that.offsetLeft)}else{SeeUtils.css(layeroObj,"top",that.offsetTop);SeeUtils.css(layeroObj,"left",that.offsetLeft)}}}};Class.pt.tips=function(){var that=this,config=that.config;var layeroObj=that.layeroObj;var layArea=[SeeUtils.getOuterWidth(layeroObj),SeeUtils.getOuterHeight(layeroObj)];var follow=$(config.follow);if(!follow[0]){follow=$("body")}var goal={width:follow.outerWidth(),height:follow.outerHeight(),top:follow.offset().top,left:follow.offset().left};var tipsGObj=layeroObj.querySelector(".layui-layer-TipsG");var guide=config.tips[0];config.tips[1]||SeeUtils.removeEl(tipsGObj);goal.autoLeft=function(){if(goal.left+layArea[0]-win.width()>0){goal.tipLeft=goal.left+goal.width-layArea[0];SeeUtils.css(tipsGObj,"right",12);SeeUtils.css(tipsGObj,"left","auto")}else{goal.tipLeft=goal.left}};goal.where=[function(){goal.autoLeft();goal.tipTop=goal.top-layArea[1]-10;SeeUtils.removeClass(tipsGObj,"layui-layer-TipsB");SeeUtils.addClass(tipsGObj,"layui-layer-TipsT");SeeUtils.css(tipsGObj,"borderRightColor",config.tips[1])},function(){goal.tipLeft=goal.left+goal.width+10;goal.tipTop=goal.top;SeeUtils.removeClass(tipsGObj,"layui-layer-TipsL");SeeUtils.addClass(tipsGObj,"layui-layer-TipsR");SeeUtils.css(tipsGObj,"borderBottomColor",config.tips[1])},function(){goal.autoLeft();goal.tipTop=goal.top+goal.height+10;SeeUtils.removeClass(tipsGObj,"layui-layer-TipsT");SeeUtils.addClass(tipsGObj,"layui-layer-TipsB");SeeUtils.css(tipsGObj,"borderRightColor",config.tips[1])},function(){goal.tipLeft=goal.left-layArea[0]-10;goal.tipTop=goal.top;SeeUtils.removeClass(tipsGObj,"layui-layer-TipsR");SeeUtils.addClass(tipsGObj,"layui-layer-TipsL");SeeUtils.css(tipsGObj,"borderBottomColor",config.tips[1])}];goal.where[guide-1]();if(guide===1){goal.top-(win.scrollTop()+layArea[1]+8*2)<0&&goal.where[2]()}else{if(guide===2){win.width()-(goal.left+goal.width+layArea[0]+8*2)>0||goal.where[3]()}else{if(guide===3){(goal.top-win.scrollTop()+goal.height+layArea[1]+8*2)-win.height()>0&&goal.where[0]()}else{if(guide===4){layArea[0]+8*2-goal.left>0&&goal.where[1]()}}}}SeeUtils.css(layeroObj.querySelector("."+doms[5]),"backgroundColor",config.tips[1]);SeeUtils.css(layeroObj.querySelector("."+doms[5]),"paddingRight",(config.closeBtn?"30px":""));SeeUtils.css(layeroObj,"left",goal.tipLeft-(config.fixed?win.scrollLeft():0));SeeUtils.css(layeroObj,"top",goal.tipTop-(config.fixed?win.scrollTop():0))};Class.pt.move=function(){var that=this,config=that.config,layeroObj=that.layeroObj,dict={};if(config.move){SeeUtils.css(layeroObj.querySelector(config.move),"cursor","move")}var dialogDOM=document.getElementById(SeeUtils.getAttrEl(layeroObj,"id"));if(dialogDOM.querySelector(config.move)){dialogDOM.querySelector(config.move).onmousedown=function(e){var ee=e||window.event;if(SeeUtils.isIE8||SeeUtils.isIE9||SeeUtils.isIE10){if(ee!=null){ee.returnValue=false}}else{ee.preventDefault()}if(config.move){dict.moveStart=true;dict.offset=[ee.clientX-parseFloat(SeeUtils.getCss(layeroObj,"left")),ee.clientY-parseFloat(SeeUtils.getCss(layeroObj,"top"))];ready.moveElem.css("cursor","move").show()}}}if(dialogDOM.querySelector(".layui-layer-resize")){dialogDOM.querySelector(".layui-layer-resize").onmousedown=function(e){if(SeeUtils.isIE8||SeeUtils.isIE9||SeeUtils.isIE10){e.returnValue=false}else{e.preventDefault()}dict.resizeStart=true;dict.offset=[e.clientX,e.clientY];dict.area=[SeeUtils.getOuterWidth(layeroObj),SeeUtils.getOuterHeight(layeroObj)];ready.moveElem.css("cursor","se-resize").show()}}SeeUtils.addEvent(document,"mousemove",function(e){e=e||window.event;if(dict.moveStart){var X=e.clientX-dict.offset[0],Y=e.clientY-dict.offset[1],fixed=SeeUtils.getCss(layeroObj,"position")==="fixed";if(SeeUtils.isIE8||SeeUtils.isIE9||SeeUtils.isIE10){e.returnValue=false}else{e.preventDefault()}dict.stX=fixed?0:win.scrollLeft();dict.stY=fixed?0:win.scrollTop();if(!config.moveOut){var setRig=win.width()-SeeUtils.getOuterWidth(layeroObj)+dict.stX,setBot=win.height()-SeeUtils.getOuterHeight(layeroObj)+dict.stY;X<dict.stX&&(X=dict.stX);X>setRig&&(X=setRig);Y<dict.stY&&(Y=dict.stY);Y>setBot&&(Y=setBot)}SeeUtils.css(layeroObj,"left",X);SeeUtils.css(layeroObj,"top",Y)}if(config.resize&&dict.resizeStart){var X=e.clientX-dict.offset[0],Y=e.clientY-dict.offset[1];if(SeeUtils.isIE8||SeeUtils.isIE9||SeeUtils.isIE10){e.returnValue=false}else{e.preventDefault()}layer.style(config.zIndex,{width:dict.area[0]+X,height:dict.area[1]+Y});dict.isResize=true}});SeeUtils.addEvent(document,"mouseup",function(e){if(dict.moveStart){delete dict.moveStart;ready.moveElem.hide();config.moveEnd&&config.moveEnd()}if(dict.resizeStart){delete dict.resizeStart;ready.moveElem.hide()}});that=null;return this};Class.pt.callback=function(){var that=this,layero=that.layero,layeroObj=that.layeroObj,config=that.config;that.openLayer();if(config.success){if(config.type==2){layero.find("iframe").on("load",function(){config.success(layero,that.index)})}else{config.success(layero,that.index)}}var dialogDOM=document.getElementById(SeeUtils.getAttrEl(layeroObj,"id"));winBtnClickName="dialogWinBtnClick"+that.index;if(dialogDOM.querySelector("."+doms[6])&&dialogDOM.querySelector("."+doms[6]).querySelector("a")){window[winBtnClickName]=function(e,t){if($(t).attr("disableattr")!="true"){var index=$(t).index();if(index===0){if(config.yes){config.yes(that.index,layero)}else{if(config.btn1){config.btn1(that.index,layero)}else{layer.close(that.index)}}}else{var close=config["btn"+(index+1)]&&config["btn"+(index+1)](that.index,layero)}}}}function cancel(){var close=config.cancel&&config.cancel(that.index,layero);close===false||layer.close(that.index)}if(dialogDOM.querySelector("."+doms[7])){dialogDOM.querySelector("."+doms[7]).onclick=cancel}if(config.shadeClose){document.getElementById("layui-layer-shade"+that.index).onclick=function(){layer.close(that.index)}}if(layeroObj.querySelector(".layui-layer-min")!=null){dialogDOM.querySelector(".layui-layer-min").onclick=function(){var min=config.min&&config.min(layero);min===false||layer.min(that.index,config)}}if(layeroObj.querySelector(".layui-layer-max")!=null){dialogDOM.querySelector(".layui-layer-max").onclick=function(){if($(this).hasClass("layui-layer-maxmin")){layer.restore(that.index);config.restore&&config.restore(layero)}else{layer.full(that.index,config);setTimeout(function(){config.full&&config.full(layero)},100)}}}config.end&&(ready.end[that.index]=config.end)};ready.reselect=function(){SeeUtils.eachByTag(document,"select",function(elObj){if(SeeUtils.closestByClass(elObj,"."+doms[0])!=null){(SeeUtils.getAttrEl(elObj,"layer")==1)&&(SeeUtils.getByClass("."+doms[0]).length<1)&&SeeUtils.removeAttrEl(elObj,"layer")&&SeeUtils.showEl(elObj)}})};Class.pt.IE6=function(layero){SeeUtils.eachByTag(document,"select",function(elObj){if(SeeUtils.closestByClass(elObj,"."+doms[0])!=null){SeeUtils.getCss(elObj,"display")==="none"||SeeUtils.hideEl(elObj);SeeUtils.attrEl(elObj,"layer","1")}})};Class.pt.openLayer=function(){var that=this;layer.zIndex=that.config.zIndex;layer.setTop=function(layero){var setZindex=function(){layer.zIndex++;layero.css("z-index",layer.zIndex+1)};layer.zIndex=parseInt(layero[0].style.zIndex);layero.on("mousedown",setZindex);return layer.zIndex}};Class.pt.ifMax=function(){var that=this;var _w_window=that.config.targetWindow.document.body.clientWidth-40;var _h_window=that.config.targetWindow.document.documentElement.clientHeight-80;var _w_temp=that.config.area[0].split("px")[0];var _h_temp=that.config.area[1].split("px")[0];that.config.area[0]=_w_temp>_w_window?_w_window:_w_temp;that.config.area[1]=_h_temp>_h_window?_h_window:_h_temp;if(that.config.area[0]<=0){that.config.area[0]=_w_temp+"px"}else{that.config.area[0]=that.config.area[0]+"px"}if(that.config.area[1]<=0){that.config.area[1]=_h_temp+"px"}else{that.config.area[1]=that.config.area[1]+"px"}};Class.pt.officeAction=function(flag){var that=this;var _officeIframeId=["officeFrameDiv","zwIframe","mainbodyFrame"];var _findWindow=getCtpTop();var componentDiv=SeeUtils.getElObj("componentDiv");if(componentDiv!==null){try{_findWindow=componentDiv.contentWindow.document.getElementById("zwIframe").contentWindow}catch(e){}}else{if(getCtpTop().document.getElementById("zwIframe")!==null){_findWindow=getCtpTop().document.getElementById("zwIframe").contentWindow}else{if(getCtpTop().isOffice==true&&SeeUtils.getCss("zwOfficeIframe","display")=="block"){try{_findWindow=getCtpTop().document.getElementById("zwOfficeIframe").contentWindow}catch(e){}}}}if(_findWindow.$){for(var i=0;i<_officeIframeId.length;i++){var _tempid=_officeIframeId[i];var _obj=_findWindow.$("#"+_tempid);if(_obj&&_obj.size()>0){that.officeIframe=_obj;break}}}that.qianzhangIframe=$("[classid='clsid:2294689C-9EDF-40BC-86AE-0438112CA439']");DialogOfficeObj.qianzhangIframe=that.qianzhangIframe;DialogOfficeObj.officeIframe=that.officeIframe;if(!flag){DialogOfficeObj.hideOfficeObj()}else{DialogOfficeObj.showOfficeObj()}};var DialogOfficeObj={officeIframe:{size:function(){return 0}},qianzhangIframe:{size:function(){return 0}},hideOfficeObjExt:function(){try{var _tpWin=getA8Top();if(!_tpWin.newEdocControlState||(_tpWin.newEdocControlState&&_tpWin.newEdocControlState.match("OFD"))){_tpWin.hideSpreadFunc&&_tpWin.hideSpreadFunc()}var isOffice=_tpWin.isOffice;if((typeof isOffice=="undefined")||(isOffice==false)){return false}}catch(e){}return true},showOfficeObjExt:function(){try{var _tpWin=getA8Top();var isOffice=_tpWin.isOffice;if(!_tpWin.newEdocControlState||(_tpWin.newEdocControlState&&_tpWin.newEdocControlState.match("OFD"))){_tpWin.showSpreadFunc&&_tpWin.showSpreadFunc()}if((typeof isOffice=="undefined")||(isOffice==false)){return false}}catch(e){}return true},hideOfficeObj:function(){var ua=navigator.userAgent.toLowerCase();var isOpera=(ua.indexOf("opera")!=-1);var isIE=SeeUtils.isIE;if(isIE){if(!DialogOfficeObj.hideOfficeObjExt()){return}}if(window.hideOfficeObj){hideOfficeObj()}},showOfficeObj:function(){var dialog=__getIframeDialogNumbers();if(dialog.length!=0){return}var ua=navigator.userAgent.toLowerCase();var isOpera=(ua.indexOf("opera")!=-1);var isIE=SeeUtils.isIE;if(isIE){if(!DialogOfficeObj.showOfficeObjExt()){return}}if(window.showOfficeObj){showOfficeObj()}}};ready.recordByObj=function(layeroObj){var area=[SeeUtils.getElWidth(layeroObj),SeeUtils.getElHeight(layeroObj),$(layeroObj).position().top,$(layeroObj).position().left+parseFloat(SeeUtils.getCss(layeroObj,"marginLeft"))];SeeUtils.addClass(layeroObj.querySelector(".layui-layer-max"),"layui-layer-maxmin");SeeUtils.attrEl(layeroObj,"area",area.join(","))};ready.record=function(layero){var area=[layero.width(),layero.height(),layero.position().top,layero.position().left+parseFloat(layero.css("margin-left"))];layero.find(".layui-layer-max").addClass("layui-layer-maxmin");layero.attr({area:area})};ready.rescollbar=function(index){if(doms.html.attr("layer-full")==index){if(doms.html[0].style.removeProperty){doms.html[0].style.removeProperty("overflow")}else{doms.html[0].style.removeAttribute("overflow")}doms.html.removeAttr("layer-full")}};window.layer=layer;layer.getChildFrame=function(selector,index){index=index||SeeUtils.getAttrEl(document.querySelector("."+doms[4]),"times");return $("#"+doms[0]+index).find("iframe").contents().find(selector)};layer.getFrameIndex=function(name){return $("#"+name).parents("."+doms[4]).attr("times")};layer.iframeAuto=function(index){if(!index){return}var heg=layer.getChildFrame("html",index).outerHeight();var layeroObj=SeeUtils.getElObj(doms[0]+index);var titHeight=SeeUtils.getOuterHeight(layeroObj.querySelector(doms[1]))||0;var btnHeight=SeeUtils.getOuterHeight(layeroObj.querySelector("."+doms[6]))||0;SeeUtils.setElHeight(layeroObj,"height",heg+titHeight+btnHeight);SeeUtils.eachByTag(layeroObj,"iframe",function(elObj){SeeUtils.setElHeight(elObj,heg)})};layer.iframeSrc=function(index,url){var layeroObj=SeeUtils.getElObj(doms[0]+index);SeeUtils.eachByTag(layeroObj,"iframe",function(elObj){SeeUtils.attrEl(elObj,"src",url)})};layer.style=function(index,options,limit){var layeroObj=SeeUtils.getElObj(doms[0]+index);var type=SeeUtils.getAttrEl(layeroObj,"type"),titHeight=SeeUtils.getOuterHeight(layeroObj.querySelector(doms[1]))||0,btnHeight=SeeUtils.getOuterHeight(layeroObj.querySelector("."+doms[6]))||0,minLeft=SeeUtils.getAttrEl(layeroObj,"minLeft");if(type===ready.type[3]||type===ready.type[4]){return}if(!limit){if(parseFloat(options.width)<=260){options.width=260}if(parseFloat(options.height)-titHeight-btnHeight<=64){options.height=64+titHeight+btnHeight}}SeeUtils.cssByJson(layeroObj,options);btnHeight=SeeUtils.getOuterHeight(layeroObj.querySelector("."+doms[6]));var contElemObj=layeroObj.querySelector(".layui-layer-content");if(type===ready.type[2]){SeeUtils.setElHeight(layeroObj.querySelector("iframe"),parseFloat(options.height)-titHeight-btnHeight)}else{SeeUtils.setElHeight(contElemObj,parseFloat(options.height)-titHeight-btnHeight-parseFloat(SeeUtils.getCss(contElemObj,"paddingTop"))-parseFloat(SeeUtils.getCss(contElemObj,"paddingBottom")))}if(SeeUtils.getElObj("layui-layer-shade-next"+index)!=null){SeeUtils.removeEl("layui-layer-shade-next"+index)}};layer.min=function(index,options){var layeroObj=SeeUtils.getElObj(doms[0]+index);var titHeight=SeeUtils.getOuterHeight(layeroObj.querySelector(doms[1]))||0,left=SeeUtils.getCss(layeroObj,"minLeft")||(181*ready.minIndex)+"px",position=SeeUtils.getCss(layeroObj,"position");ready.recordByObj(layeroObj);if(ready.minLeft[0]){left=ready.minLeft[0];ready.minLeft.shift()}SeeUtils.attrEl(layeroObj,"position",position);layer.style(index,{width:180,height:titHeight,left:left,top:win.height()-titHeight,position:"fixed",overflow:"hidden"},true);SeeUtils.hideEl(layeroObj.querySelector(".layui-layer-min"));SeeUtils.getAttrEl(layeroObj,"type")==="page"&&SeeUtils.hideEl(layeroObj.querySelector(doms[4]));ready.rescollbar(index);if(!SeeUtils.getAttrEl(layeroObj,"minLeft")){ready.minIndex++}SeeUtils.attrEl(layeroObj,"minLeft",left)};layer.restore=function(index){var layeroObj=SeeUtils.getElObj(doms[0]+index);var area=SeeUtils.getAttrEl(layeroObj,"area").split(",");layer.style(index,{width:parseFloat(area[0]),height:parseFloat(area[1]),top:parseFloat(area[2]),left:parseFloat(area[3]),position:SeeUtils.getAttrEl(layeroObj,"position"),overflow:"visible"},true);SeeUtils.removeClass(layeroObj.querySelector(".layui-layer-max"));SeeUtils.showEl(layeroObj.querySelector(".layui-layer-min"));SeeUtils.getAttrEl(layeroObj,"type")==="page"&&SeeUtils.showEl(layeroObj.querySelector(doms[4]));ready.rescollbar(index)};layer.full=function(index){var layeroObj=SeeUtils.getElObj(doms[0]+index);ready.recordByObj(layeroObj);if(!doms.html.attr("layer-full")){doms.html.css("overflow","hidden").attr("layer-full",index)}clearTimeout(timer);timer=setTimeout(function(){var isfix=SeeUtils.getCss(layeroObj,"position")==="fixed";layer.style(index,{top:isfix?0:win.scrollTop(),left:isfix?0:win.scrollLeft(),width:win.width(),height:win.height()},true);SeeUtils.hideEl(layeroObj.querySelector(".layui-layer-min"))},0)};layer.title=function(name,index){SeeUtils.getElObj(doms[0]+(index||layer.index)).querySelector(doms[1]).innerHTML=name};layer.close=function(index){if(!index||typeof index!="number"){var tempLastChild=layer.getBodyLastChild();if(tempLastChild&&tempLastChild.nodeType==1){index=tempLastChild.getAttribute("times")}else{return}}var layero=$("#"+doms[0]+index),closeAnim="layer-anim-close";var layeroObj=SeeUtils.getElObj(doms[0]+index);var type=SeeUtils.getAttrEl(layeroObj,"type");if(layeroObj==null){return}if(layero.data("anim")){SeeUtils.addClass(layeroObj,closeAnim)}SeeUtils.removeEl("layui-layer-moves");SeeUtils.removeEl("layui-layer-shade"+index);ready.rescollbar(index);var minLeft=SeeUtils.getAttrEl(layeroObj,"minLeft");if(minLeft!=null){ready.minIndex--;ready.minLeft.push(minLeft)}layer.remove(index);if($(".layui-layer").length>0||$(".dialog_main").length>0){return void (0)}Class.pt.officeAction(true)};layer.remove=function(index){var layero=$("#"+doms[0]+index);var layeroObj=SeeUtils.getElObj(doms[0]+index);var type=SeeUtils.getAttrEl(layeroObj,"type");var WRAP="layui-layer-wrap";if(type===ready.type[1]&&SeeUtils.getAttrEl(layeroObj,"conType")==="object"){layero.children(":not(."+doms[5]+")").remove();var wrap=layero.find("."+WRAP);if(wrap.length){for(var i=0;i<2;i++){wrap.unwrap()}wrap.css("display",wrap.data("display")).removeClass(WRAP)}else{layeroObj.innerHTML="";SeeUtils.removeEl(layeroObj)}}else{_clearIframeContent(type,ready,index,layeroObj);layeroObj.innerHTML="";SeeUtils.removeEl(layeroObj)}typeof ready.end[index]==="function"&&ready.end[index]();delete ready.end[index]};layer.closeAll=function(type){SeeUtils.eachByClass(document,"layui-layer",function(elObj){var is=type?(SeeUtils.getAttrEl(elObj,"type")===type):1;is&&layer.close(SeeUtils.getAttrEl(elObj,"times"));is=null})};layer.getReturnValue=function(json){if(json==null){json={}}var win=SeeUtils.getElObj(doms[0]+layer.getBodyLastChild().getAttribute("times")).querySelector("iframe");var win_notCopyReturnValue=layer.getBodyLastChild().getAttribute("notcopyreturnvalue");if(win!=null){var returnValues=null;if(win.contentWindow&&typeof(win.contentWindow.OK)=="function"){returnValues=win.contentWindow.OK(json)}else{return null}if(win_notCopyReturnValue=="false"){if(returnValues&&typeof returnValues=="object"){try{var returnValueString=$.toJSON(returnValues);return $.parseJSON(returnValueString)}catch(e){return returnValues}}else{return returnValues}}else{return returnValues}}else{return null}};layer.hideDialog=function(winObj){var lastBodyChild=layer.getBodyLastChild();if(winObj!=null&&lastBodyChild!=null&&lastBodyChild.getAttribute!=null){var lastLayId=lastBodyChild.getAttribute("id");if(lastLayId!=winObj.attr("id")){return false}}if(lastBodyChild&&lastBodyChild.nodeType==1){var winIframe=SeeUtils.getElObj(doms[0]+lastBodyChild.getAttribute("times")).querySelector("iframe");winIframe.setAttribute("src","");var winShade=SeeUtils.getElObj("layui-layer-shade"+lastBodyChild.getAttribute("times"));SeeUtils.hideEl(winShade);var win=SeeUtils.getElObj(doms[0]+lastBodyChild.getAttribute("times"));SeeUtils.hideEl(win);layer.close()}return true};layer.getTransParams=function(){var lastBodyChild=layer.getBodyLastChild();return SeeUtils.getElObj(doms[0]+lastBodyChild.getAttribute("times")).querySelector("iframe").contentWindow.transParamsCopy};layer.getBodyLastChild=function(){var lastDivChild=document.body.lastChild;var oldLastDivChild;for(var i=(layer.ie<=8?document.body.childNodes.length:document.body.children.length);i>0;i--){if(lastDivChild!=null){if(lastDivChild.nodeType==1&&lastDivChild.nodeName=="DIV"&&lastDivChild.getAttribute("layType")){break}else{oldLastDivChild=lastDivChild;lastDivChild=lastDivChild.previousElementSibling;if(!lastDivChild){lastDivChild=oldLastDivChild.previousSibling}}}else{return lastDivChild}}return lastDivChild};layer.enabledBtn=function(id){var btnEl=this.getBtnObj(id);if(btnEl!=null){btnEl.removeAttribute("disabled");SeeUtils.attrEl(btnEl,"disableAttr","false");SeeUtils.removeClass(btnEl,"common_button_disable")}};layer.disabledBtn=function(id){var btnEl=this.getBtnObj(id);if(btnEl!=null){SeeUtils.attrEl(btnEl,"disabled","disabled");SeeUtils.attrEl(btnEl,"disableAttr","true");SeeUtils.addClass(btnEl,"common_button_disable")}};layer.getObjectById=function(id){return $("#"+id)};layer.getObjectByClass=function(className){return $("."+className)};layer.maxfn=function(){layer.full(layer.getBodyLastChild().getAttribute("times"))};layer.hideBtn=function(id){var btnEl=this.getBtnObj(id);if(btnEl!=null){SeeUtils.hideEl(btnEl)}};layer.showBtn=function(id){var btnEl=this.getBtnObj(id);if(btnEl!=null){SeeUtils.showEl(btnEl)}};layer.getBtnObj=function(id){for(var i=0;i<SeeUtils.getElObj(doms[0]+layer.getBodyLastChild().getAttribute("times")).querySelector(".layui-layer-btn").children.length;i++){var jsonTemp=SeeUtils.getElObj(doms[0]+layer.getBodyLastChild().getAttribute("times")).querySelector(".layui-layer-btn").children[i];if(SeeUtils.getAttrEl(jsonTemp,"id")=="layui-layer-btn-"+id){return jsonTemp}}return null};layer.getBtn=function(id){var btnEl=this.getBtnObj(id);if(btnEl!=null){return $(btnEl)}return null};layer.reSize=function(json){var _client_width=document.body.clientWidth;var _client_Height=document.body.clientHeight;if(json.cHeight){_client_Height=json.cHeight}if(json.cWidth){_client_width=json.cWidth}var _w=json.width;var _h=json.height;var _left=(_client_width-(_w+5))/2;var _top=(_client_Height-(_h+15+5))/2;if(_top<0){_top=0}if((_h+_top)>_client_Height){_h=_client_Height-_top-30}var index=layer.getBodyLastChild().getAttribute("times");var layerObj=SeeUtils.getElObj(doms[0]+index);if(SeeUtils.getElObj(doms[0]+index).querySelectorAll("."+doms[6]).length){SeeUtils.css(layerObj,"left",_left);SeeUtils.css(layerObj,"top",_top);SeeUtils.setElHeight(layerObj,_h+105);SeeUtils.setElWidth(layerObj,_w)}else{SeeUtils.css(layerObj,"left",_left);SeeUtils.css(layerObj,"top",_top);SeeUtils.setElHeight(layerObj,_h+55);SeeUtils.setElWidth(layerObj,_w)}var layerContent=SeeUtils.getElObj(doms[0]+index).querySelector("."+doms[5]);SeeUtils.eachChildren(layerContent,function(elObj){SeeUtils.setElHeight(elObj,_h)})};layer.startLoading=function(){var index=layer.getBodyLastChild().getAttribute("times");var layerObj=SeeUtils.getElObj(doms[0]+index);SeeUtils.eachByClass(layerObj,"iframe_shadow",function(elObj){SeeUtils.showEl(elObj)})};layer.endLoading=function(){var index=layer.getBodyLastChild().getAttribute("times");var layerObj=SeeUtils.getElObj(doms[0]+index);SeeUtils.eachByClass(layerObj,"iframe_shadow",function(elObj){SeeUtils.hideEl(elObj)})};layer.setBtnEmphasize=function(id){var btnEl=this.getBtnObj(id);if(btnEl!=null){SeeUtils.addClass(btnEl,"common_button_emphasize");SeeUtils.removeClass(btnEl,"common_button_gray")}};layer.setTitle=function(newtitle){SeeUtils.getElObj(doms[0]+layer.getBodyLastChild().getAttribute("times")).querySelector(".layui-layer-title").innerHTML=newtitle};layer.getClose=function(json){if(json==null){json={}}var win=SeeUtils.getElObj(doms[0]+layer.getBodyLastChild().getAttribute("times")).querySelector("iframe");if(win!=null){var returnValues=null;if(win.contentWindow){returnValues=win.contentWindow.CLOSE(json)}else{returnValues=win.CLOSE(json)}if(returnValues&&typeof returnValues=="object"){try{var returnValueString=$.toJSON(returnValues);return $.parseJSON(returnValueString)}catch(e){return returnValues}}else{return returnValues}}else{return null}};layer.getDialogWindow=function(index){var currentLayer;if(index){currentLayer=SeeUtils.getElObj(doms[0]+index);if(currentLayer&&currentLayer.querySelector("iframe")){return currentLayer.querySelector("iframe").contentWindow}else{return null}}else{currentLayer=SeeUtils.getElObj(doms[0]+layer.getBodyLastChild().getAttribute("times"));if(currentLayer&&currentLayer.querySelector("iframe")){return currentLayer.querySelector("iframe").contentWindow}else{return null}}};var cache=layer.cache||{},skin=function(type){return(cache.skin?(" "+cache.skin+" "+cache.skin+"-"+type):"")};layer.prompt=function(options,yes){var style="";options=options||{};if(typeof options==="function"){yes=options}if(options.area){var area=options.area;style='style="width: '+area[0]+"; height: "+area[1]+';"';delete options.area}var prompt,content=options.formType==2?'<textarea class="layui-layer-input"'+style+">"+(options.value||"")+"</textarea>":function(){return'<input type="'+(options.formType==1?"password":"text")+'" class="layui-layer-input" value="'+(options.value||"")+'">'}();return layer.open($.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:content,skin:"layui-layer-prompt"+skin("prompt"),maxWidth:win.width(),success:function(layero){prompt=layero.find(".layui-layer-input");prompt.focus()},resize:false,yes:function(index){var value=prompt.val();if(value===""){prompt.focus()}else{if(value.length>(options.maxlength||500)){layer.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(options.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",prompt,{tips:1})}else{yes&&yes(value,index,prompt)}}}},options))};layer.tab=function(options){options=options||{};var tab=options.tab||{};return layer.open($.extend({type:1,skin:"layui-layer-tab"+skin("tab"),resize:false,title:function(){var len=tab.length,ii=1,str="";if(len>0){str='<span class="layui-layer-tabnow">'+tab[0].title+"</span>";for(;ii<len;ii++){str+="<span>"+tab[ii].title+"</span>"}}return str}(),content:'<ul class="layui-layer-tabmain">'+function(){var len=tab.length,ii=1,str="";if(len>0){str='<li class="layui-layer-tabli xubox_tab_layer">'+(tab[0].content||"no content")+"</li>";for(;ii<len;ii++){str+='<li class="layui-layer-tabli">'+(tab[ii].content||"no  content")+"</li>"}}return str}()+"</ul>",success:function(layero){var btn=layero.find(".layui-layer-title").children();var main=layero.find(".layui-layer-tabmain").children();btn.on("mousedown",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=true;var othis=$(this),index=othis.index();othis.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow");main.eq(index).show().siblings().hide();typeof options.change==="function"&&options.change(index)})}},options))};layer.photos=function(options,loop,key){var dict={};options=options||{};if(!options.photos){return}var type=options.photos.constructor===Object;var photos=type?options.photos:{},data=photos.data||[];var start=photos.start||0;dict.imgIndex=(start|0)+1;options.img=options.img||"img";if(!type){var parent=$(options.photos),pushData=function(){data=[];parent.find(options.img).each(function(index){var othis=$(this);othis.attr("layer-index",index);data.push({alt:othis.attr("alt"),pid:othis.attr("layer-pid"),src:othis.attr("layer-src")||othis.attr("src"),thumb:othis.attr("src")})})};pushData();if(data.length===0){return}loop||parent.on("click",options.img,function(){var othis=$(this),index=othis.attr("layer-index");layer.photos($.extend(options,{photos:{start:index,data:data,tab:options.tab},full:options.full}),true);pushData()});if(!loop){return}}else{if(data.length===0){return layer.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}}dict.imgprev=function(key){dict.imgIndex--;if(dict.imgIndex<1){dict.imgIndex=data.length}dict.tabimg(key)};dict.imgnext=function(key,errorMsg){dict.imgIndex++;if(dict.imgIndex>data.length){dict.imgIndex=1;if(errorMsg){return}}dict.tabimg(key)};dict.keyup=function(event){if(!dict.end){var code=event.keyCode;event.preventDefault();if(code===37){dict.imgprev(true)}else{if(code===39){dict.imgnext(true)}else{if(code===27){layer.close(dict.index)}}}}};dict.tabimg=function(key){if(data.length<=1){return}photos.start=dict.imgIndex-1;layer.close(dict.index);layer.photos(options,true,key)};dict.event=function(){dict.bigimg.hover(function(){dict.imgsee.show()},function(){dict.imgsee.hide()});dict.bigimg.find(".layui-layer-imgprev").on("click",function(event){event.preventDefault();dict.imgprev()});dict.bigimg.find(".layui-layer-imgnext").on("click",function(event){event.preventDefault();dict.imgnext()});SeeUtils.addEvent(document,"keyup",dict.keyup)};function loadImage(url,callback,error){var img=new Image();img.src=url;if(img.complete){return callback(img)}img.onload=function(){img.onload=null;callback(img)};img.onerror=function(e){img.onerror=null;error(e)}}dict.loadi=layer.load(1,{shade:"shade" in options?false:0.9,scrollbar:false});loadImage(data[start].src,function(img){layer.close(dict.loadi);dict.index=layer.open($.extend({type:1,area:function(){var imgarea=[img.width,img.height];var winarea=[$(window).width()-100,$(window).height()-100];if(!options.full&&(imgarea[0]>winarea[0]||imgarea[1]>winarea[1])){var wh=[imgarea[0]/winarea[0],imgarea[1]/winarea[1]];if(wh[0]>wh[1]){imgarea[0]=imgarea[0]/wh[0];imgarea[1]=imgarea[1]/wh[0]}else{if(wh[0]<wh[1]){imgarea[0]=imgarea[0]/wh[1];imgarea[1]=imgarea[1]/wh[1]}}}return[imgarea[0]+"px",imgarea[1]+"px"]}(),title:false,shade:0.9,shadeClose:true,closeBtn:false,move:".layui-layer-phimg img",moveType:1,scrollbar:false,moveOut:true,anim:Math.random()*5|0,skin:"layui-layer-photos"+skin("photos"),content:'<div class="layui-layer-phimg"><img src="'+data[start].src+'" alt="'+(data[start].alt||"")+'" layer-pid="'+data[start].pid+'"><div class="layui-layer-imgsee">'+(data.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(key?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(data[start].alt||"")+"</a><em>"+dict.imgIndex+"/"+data.length+"</em></span></div></div></div>",success:function(layero,index){dict.bigimg=layero.find(".layui-layer-phimg");dict.imgsee=layero.find(".layui-layer-imguide,.layui-layer-imgbar");dict.event(layero);options.tab&&options.tab(data[start],layero)},end:function(){dict.end=true;SeeUtils.removeEvent("keyup",dict.keyup)}},options))},function(){layer.close(dict.loadi);layer.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:30000,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){data.length>1&&dict.imgnext(true,true)}})})};ready.run=function(_$){$=_$;win=$(window);doms.html=$("html");layer.open=function(deliver){var _options={id:"",type:1,title:"",area:new Array(),content:"",transParams:{},btn:"",bottomHTML:"",layerFrom:"dialog"};if(!deliver.url&&!deliver.html&&!deliver.htmlId){_options.content=deliver.content;_options.type=0}if(deliver.url){_options.type=2;var url=deliver.url;if(url.indexOf("CSRFTOKEN=")<0){try{url=url+CsrfGuard.getUrlSurffix(url)}catch(e){}}_options.content=url}if(deliver.html){_options.content=deliver.html}if(deliver.time){_options.time=deliver.time;if(deliver.showTime){_options.showTime=deliver.showTime;_options.showTimeFun=deliver.showTimeFun}}if(deliver.id){_options.id=deliver.id;layer.id=_options.id}if(!deliver.isDrag){_options.move=deliver.isDrag;_options.moveOut=deliver.isDrag}_options.title=deliver.title;_options.area.push(deliver.width+"px");_options.area.push(deliver.height+"px");if(deliver.maxParam){if(deliver.maxParam.show){_options.maxmin=true;if(deliver.maxParam.handler){_options.full=deliver.maxParam.handler}}}if(deliver.minParam){if(deliver.minParam.show){_options.maxmin=true;if(deliver.minParam.handler){_options.min=deliver.minParam.handler}}}if(deliver.closeParam){if(deliver.closeParam.show){_options.cancel=deliver.closeParam.handler}else{_options.closeBtn=0}}_options.targetWindow=deliver.targetWindow||getCtpTop();_options.transParams=deliver.transParams;if(deliver.buttons){_options.btn=new Array();_options.leftBtns=new Array();_options.btnId=new Array();_options.btnIsEmphasize=new Array();_options.btnDisabled=new Array();_options.btnHide=new Array();for(var i=1;i<=deliver.buttons.length;i++){_options.btn.push(deliver.buttons[i-1].text);if(deliver.buttons[i-1].id){_options.btnId.push(deliver.buttons[i-1].id)}else{_options.btnId.push(Math.floor(Math.random()*100000000)+"_btn")}if(deliver.buttons[i-1].position==="left"){_options.leftBtns.push(i-1)}if(i==1){_options.btnIsEmphasize.push(true)}else{if(deliver.buttons[i-1].isEmphasize){_options.btnIsEmphasize.push(deliver.buttons[i-1].isEmphasize)}else{_options.btnIsEmphasize.push(false)}}if(deliver.buttons[i-1].disabled){_options.btnDisabled.push(deliver.buttons[i-1].disabled)}else{_options.btnDisabled.push(false)}if(deliver.buttons[i-1].hide){_options.btnHide.push(deliver.buttons[i-1].hide)}else{_options.btnHide.push(false)}var key="btn"+i;_options[key]=deliver.buttons[i-1].handler;if(deliver.buttons[i-1].OKFN){layer.buttons=deliver.buttons}}}if(deliver.bottomHTML){_options.bottomHTML=deliver.bottomHTML}if(deliver.isHead!=undefined&&deliver.isHead==false){_options.title=false;_options.closeBtn=0}if(!(deliver.url)&&!(deliver.type)&&deliver.htmlId){_options.content=deliver.contentCopyWindow.$("#"+deliver.htmlId);var htmlObj=deliver.contentCopyWindow.$("#"+deliver.htmlId).clone(true);deliver.contentCopyWindow.$("#"+deliver.htmlId).after('<div id="'+deliver.htmlId+'_area"></div>');deliver.contentCopyWindow.$("#"+deliver.htmlId+"_area").after(htmlObj);deliver.contentCopyWindow.$("#"+deliver.htmlId+"_area").remove()}if(deliver.type=="panel"&&deliver.htmlId){if(deliver.timeout){_options.timeout=deliver.timeout}_options.type=1;_options.nameType=deliver.type;_options.content=deliver.contentCopyWindow.$("#"+deliver.htmlId);_options.title=false;_options.closeBtn=0;if(deliver.top){if(deliver.targetId){var tarobj=document.getElementById(deliver.targetId);var _client_height=(document.documentElement.scrollHeight>document.documentElement.clientHeight?document.documentElement.scrollHeight:document.documentElement.clientHeight);_options.top=tarobj.getBoundingClientRect().top+tarobj.offsetHeight+document.documentElement.scrollTop;_options.top=_options.top+deliver.height<_client_height?_options.top:(_options.top-deliver.height-tarobj.offsetHeight<0?0:_options.top-deliver.height-tarobj.offsetHeight)}else{if(deliver.w_space){var _client_height=(document.documentElement.scrollHeight>document.documentElement.clientHeight?document.documentElement.scrollHeight:document.documentElement.clientHeight);_options.top=deliver.top+deliver.height<_client_height?(deliver.top+15):(deliver.top-deliver.height<0?0:deliver.top-deliver.height-15)}else{_options.top=deliver.top}}}if(deliver.left){if(deliver.targetId){var tarobj=document.getElementById(deliver.targetId);var leftTemp=tarobj.getBoundingClientRect().left;if((leftTemp+deliver.width)>document.body.clientWidth){leftTemp=leftTemp+tarobj.clientWidth-deliver.width}_options.left=leftTemp+deliver.width<document.body.clientWidth?leftTemp:leftTemp-deliver.width-tarobj.offsetWidth}else{if(deliver.w_space){var _client_width=document.body.clientWidth;_options.left=deliver.left+deliver.width<_client_width?deliver.left+deliver.w_space:(deliver.left-deliver.width-deliver.w_space<0?deliver.w_space:deliver.left-deliver.width-deliver.w_space)}else{_options.left=deliver.left}}}if(deliver.shadow==false){_options.shade=0}}if(deliver.type=="panel"&&deliver.html){_options.title=false;_options.shade=0;_options.closeBtn=0;_options.top=deliver.top}if(deliver.type=="panel"&&deliver.targetId&&deliver.url){var tarobj=document.getElementById(deliver.targetId);_options.closeBtn=false;_options.title=false;_options.shade=false;_options.resize=false;_options.top=tarobj.getBoundingClientRect().top+tarobj.offsetHeight+deliver.height<document.body.clientHeight?tarobj.getBoundingClientRect().top+tarobj.offsetHeight:((document.body.clientHeight-deliver.height)<0?0:document.body.clientHeight-deliver.height-5);if(_options.top<tarobj.getBoundingClientRect().bottom){_options.top=_options.top-(document.body.clientHeight-tarobj.getBoundingClientRect().bottom+tarobj.offsetHeight)}_options.left=tarobj.getBoundingClientRect().left+deliver.width<document.body.clientWidth?tarobj.getBoundingClientRect().left:tarobj.getBoundingClientRect().left-deliver.width+tarobj.offsetWidth}if(deliver.type=="panel"&&deliver.targetId&&deliver.html){var tarobj=document.getElementById(deliver.targetId);_options.closeBtn=false;_options.title=false;_options.shade=false;_options.resize=false;_options.nameType=deliver.type;_options.top=tarobj.getBoundingClientRect().top+tarobj.offsetHeight+document.documentElement.scrollTop;var leftTemp=tarobj.getBoundingClientRect().left;if((leftTemp+deliver.width)>document.body.clientWidth){leftTemp=leftTemp+tarobj.clientWidth-deliver.width}_options.left=leftTemp+deliver.width<document.body.clientWidth?leftTemp:leftTemp-deliver.width-tarobj.offsetWidth}if(deliver.type=="panel"&&deliver.url){_options.nameType=deliver.type}if(deliver.notCopyReturnValue){_options.notCopyReturnValue=true}else{_options.notCopyReturnValue=false}if(deliver.nextShade){_options.nextShade=true}else{_options.nextShade=false}_options.resize=false;var o=new Class(_options);layer.layerConfig=_options;layer.targetWindow=_options.targetWindow;layer.transParams=_options.transParams;layer.closeParam=deliver.closeParam;var layerTran=new Object();var tempI;for(tempI in layer){layerTran[tempI]=layer[tempI]}return layerTran}};window.layui&&layui.define?(layer.ready(),layui.define("jquery",function(exports){layer.path=layui.cache.dir;ready.run(layui.jquery);window.layer=layer;exports("layer",layer)})):(typeof define==="function"?define(["jquery"],function(){ready.run(window.jQuery);return layer}):function(){ready.run(window.jQuery);layer.ready()}())}(window);function MxtMsgBox(a){this.id=a.id?a.id:Math.floor(Math.random()*100000000);this.title=a.title?a.title:"MessageBox";this.type=a.type?a.type:0;this.msg=a.msg?a.msg:"";this.buttons=a.buttons?a.buttons:[];this.width=a.width?a.width:350;this.height=a.height?a.height:120;this.isDrag=a.isDrag===false?a.isDrag:true;this.borderSize=1;this.closeTitle=a.closeTitle?a.closeTitle:$.i18n("common.button.close.label");this.submitText=a.submitText?a.submitText:"submit";this.headerHeight=50;this.footerHeight=50;this.imgType=a.imgType==null?null:a.imgType;this.okText=a.okText?a.okText:$.i18n("message.ok.js");this.cancelText=a.cancelText?a.cancelText:$.i18n("message.cancel.js");this.yesText=a.yesText?a.yesText:$.i18n("message.yes.js");this.noText=a.noText?a.noText:$.i18n("message.no.js");this.retryText=a.retryText?a.retryText:$.i18n("message.retry.js");this.detailText=a.detailText?a.detailText:$.i18n("message.detail.js");this.ok_fn=a.ok_fn?a.ok_fn:null;this.cancel_fn=a.cancel_fn?a.cancel_fn:null;this.yes_fn=a.yes_fn?a.yes_fn:null;this.no_fn=a.no_fn?a.no_fn:null;this.retry_fn=a.retry_fn?a.retry_fn:null;this.detail_fn=a.detail_fn?a.detail_fn:null;this.close_fn=a.close_fn?a.close_fn:this.cancel_fn;this.close_show=a.close_show===false?a.close_show:true;this.zIndex=5000;this.isFrountEvent=a.isFrountEvent?a.isFrountEvent:false;this.targetWindow=a.targetWindow==null?getCtpTop():a.targetWindow;var b=this.targetWindow.$("body");if(!b){this.targetWindow=window.parent}this.bottomHTML=a.bottomHTML;this._zoomParam=1;if(this._zoomParam==null||this._zoomParam==undefined){this._zooParam=1}if(typeof this.targetWindow.$==="undefined"){alert(this.msg);return}this.init();this.drag(a);var c=this;SeeUtils.addEvent(document,"keyup",function(d){if(d.keyCode==27){c.close()}})}MxtMsgBox.prototype.init=function(){var e=this.id+"_mask";var f=this.targetWindow.document.body.clientWidth;if(f===0){f=this.targetWindow.document.documentElement.clientWidth}var b=(this.targetWindow.document.documentElement.scrollHeight>this.targetWindow.document.documentElement.clientHeight?this.targetWindow.document.documentElement.scrollHeight:this.targetWindow.document.documentElement.clientHeight);if(this.targetWindow!=null&&AssertUtils.isFunction(this.targetWindow.getMaxZindex)){this.zIndex=this.targetWindow.getMaxZindex(2)}else{this.zIndex=9999}if(SeeUtils.getElObj(e)==null){if(this.targetWindow!=null&&this.targetWindow.SeeUtils!=null){this.targetWindow.SeeUtils.appendToBody("<div id='"+e+"' class='mask mask_msg' style='top:0;left:0;width:"+f+"px;height:"+b+"px;z-index:"+(this.zIndex)+";zoom:"+(this._zoomParam==null?1:this._zoomParam)+";'>&nbsp;</div>")}else{this.targetWindow.$("body").append("<div id='"+e+"' class='mask mask_msg' style='top:0;left:0;width:"+f+"px;height:"+b+"px;z-index:"+(this.zIndex)+";zoom:"+(this._zoomParam==null?1:this._zoomParam)+";'>&nbsp;</div>")}}if(SeeUtils.getElObj(this.id)!=null){if(this.targetWindow!=null&&this.targetWindow.SeeUtils!=null){this.targetWindow.SeeUtils.removeEl(this.id)}else{this.targetWindow.$("#"+this.id).remove()}}var a="";var j=(f-(this.width+this.borderSize*2+5))/2;var h=(this.targetWindow.document.documentElement.clientHeight-(this.height+this.borderSize*2+this.headerHeight+this.footerHeight+5))/2;if(h<=0){h=($(document.body).height()-(this.height+this.borderSize*2+this.headerHeight+this.footerHeight+5))/2}a+="<div id='"+this.id+"' class='dialog_box absolute' style='z-index:"+(this.zIndex+1)+";left:"+((j<0?0:j)+this.targetWindow.document.documentElement.scrollLeft)+"px;top:"+((h<0?0:h)+(this.targetWindow.document.documentElement.scrollTop==0?this.targetWindow.document.body.scrollTop:this.targetWindow.document.documentElement.scrollTop))+"px;zoom:"+(this._zoomParam==null?1:this._zoomParam)+";'>";a+="<div id='"+this.id+"_shadow' class='dialog_shadow absolute' style='width:"+(this.width+this.borderSize*0)+"px;height:"+(this.height+this.headerHeight+5+this.footerHeight)+"px;top:0px;left:0px;'>&nbsp;</div>";a+="<iframe id='"+this.id+"_iframe_shadow' class='absolute iframe_shadow' style='width:"+this.width+"px;height:"+(this.height+this.headerHeight+5+this.footerHeight)+"px;border:0'></iframe>";a+="<div id='"+this.id+"_main' class='dialog_main absolute' style='width:"+this.width+"px;border:0px;'>";a+="<div id='"+this.id+"_main_head' class='dialog_main_head'>";if(this.close_show){}a+="</div>";if(this.close_show){a+="<span id='"+this.id+"_close' class='dialog_close_msg' title='"+this.closeTitle+"'></span>"}a+="<div id='"+this.id+"_main_body' class='dialog_main_body left' style='width:"+this.width+"px;height:"+this.height+"px'>";a+="<div id='"+this.id+"_main_iframe' class='dialog_main_iframe absolute' style='top:"+this.headerHeight+"px;width:"+this.width+"px;height:"+this.height+"px;display:none;'>&nbsp;</div>";a+="<div id='"+this.id+"_main_content' class='dialog_main_content absolute'>";a+="<div class='dialog_main_content_html ' style='width:"+(this.width)+"px;height:"+(this.height)+"px;overflow:auto;border:0px;'>";a+="<table width='90%' class='margin_t_20' style='font-size:12px;'><tr>";if(this.imgType!=null){a+="<td valign='top' width='24' class='padding_l_20'><span class='msgbox_img_"+this.imgType+"'></span>";a+="</td>"}a+="<td class='msgbox_content padding_l_10' style='padding-right:15px;'>";a+=this.msg;a+="</td>";a+="</tr></table>";a+="</div>";a+="</div>";a+="</div>";a+="<div id='"+this.id+"_main_footer' class='dialog_main_footer left align_right w100b'>";if(this.bottomHTML!=undefined){a+='<span class="left margin_l_10 padding_t_10 padding_l_10 font_size12">'+this.bottomHTML+"</span>"}a+='<span class="right padding_t_10 padding_r_10">';switch(this.type){case 0:a+="<a  id='"+this.id+"ok_msg_btn_first'  class='common_button common_button_emphasize margin_r_10 hand'>"+this.okText+"</a>";break;case 1:a+="<a  id='"+this.id+"ok_msg_btn_first'   class='common_button common_button_emphasize margin_r_10 hand'>"+this.okText+"</a>";a+="<a  id='"+this.id+"cancel_msg_btn'  class='common_button common_button_gray margin_r_10 hand'>"+this.cancelText+"</a>";break;case 2:a+="<a  id='"+this.id+"yes_msg_btn'   class='common_button common_button_emphasize margin_r_10 hand'>"+this.yesText+"</a>";a+="<a  id='"+this.id+"no_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.noText+"</a>";a+="<a  id='"+this.id+"cancel_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.cancelText+"</a>";break;case 3:a+="<a  id='"+this.id+"yes_msg_btn'   class='common_button common_button_emphasize margin_r_10 hand'>"+this.yesText+"</a>";a+="<a  id='"+this.id+"no_msg_btn'  class='common_button common_button_gray margin_r_10 hand'>"+this.noText+"</a>";break;case 4:a+="<a  id='"+this.id+"retry_msg_btn'   class='common_button common_button_emphasize margin_r_10 hand'>"+this.retryText+"</a>";a+="<a  id='"+this.id+"cancel_msg_btn'  class='common_button common_button_gray margin_r_10 hand'>"+this.cancelText+"</a>";break;case 5:a+="<a  id='"+this.id+"ok_msg_btn_first'  class='common_button common_button_emphasize margin_r_10 hand'>"+this.okText+"</a>";a+="<a  id='"+this.id+"detail_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.detailText+"</a>";break;case 100:if(this.buttons.length>0){for(var d=0;d<this.buttons.length;d++){var c=this.buttons[d];if(d==0){a+="<a  id='"+c.id+"_btn'   class='common_button common_button_emphasize margin_r_10 hand' title='"+c.text+"'>"+c.text+"</a>"}else{a+="<a  id='"+c.id+"_btn'   class='common_button common_button_gray margin_r_10 hand' title='"+c.text+"'>"+c.text+"</a>"}}}break;default:a+="<a  id='"+this.id+"ok_msg_btn_first'   class='common_button common_button_emphasize margin_r_10 hand'>"+this.okText+"</a>"}a+="</span>";a+="</div>";a+="</div>";a+="</div>";if(getCtpTop().isOffice){this.officeAction(false)}else{this.officeAction(true)}if(this.targetWindow!=null&&this.targetWindow.SeeUtils!=null){this.targetWindow.SeeUtils.appendToBody(a)}else{this.targetWindow.$("body").append(a)}var g=this;if(this.targetWindow.document.getElementById(this.id+"_close")){this.targetWindow.document.getElementById(this.id+"_close").onclick=function(){g.close();if(g.close_fn){g.close_fn()}}}switch(this.type){case 0:if(!this.isFrountEvent){this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){g.close();if(g.ok_fn){g.ok_fn()}}}else{this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){if(g.ok_fn){g.ok_fn()}g.close()}}break;case 1:if(!this.isFrountEvent){this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){g.close();if(g.ok_fn){g.ok_fn()}};this.targetWindow.document.getElementById(this.id+"cancel_msg_btn").onclick=function(){g.close();if(g.cancel_fn){g.cancel_fn()}}}else{this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){if(g.ok_fn){g.ok_fn()}g.close()};this.targetWindow.document.getElementById(this.id+"cancel_msg_btn").onclick=function(){if(g.cancel_fn){g.cancel_fn()}g.close()}}break;case 2:if(!this.isFrountEvent){this.targetWindow.document.getElementById(this.id+"yes_msg_btn").onclick=function(){g.close();if(g.yes_fn){g.yes_fn()}};this.targetWindow.document.getElementById(this.id+"no_msg_btn").onclick=function(){g.close();if(g.no_fn){g.no_fn()}};this.targetWindow.document.getElementById(this.id+"cancel_msg_btn").onclick=function(){g.close();if(g.cancel_fn){g.cancel_fn()}}}else{this.targetWindow.document.getElementById(this.id+"yes_msg_btn").onclick=function(){if(g.yes_fn){g.yes_fn()}g.close()};this.targetWindow.document.getElementById(this.id+"no_msg_btn").onclick=function(){if(g.no_fn){g.no_fn()}g.close()};this.targetWindow.document.getElementById(this.id+"cancel_msg_btn").onclick=function(){if(g.cancel_fn){g.cancel_fn()}g.close()}}break;case 3:if(!this.isFrountEvent){this.targetWindow.document.getElementById(this.id+"yes_msg_btn").onclick=function(){g.close();if(g.yes_fn){g.yes_fn()}};this.targetWindow.document.getElementById(this.id+"no_msg_btn").onclick=function(){g.close();if(g.no_fn){g.no_fn()}}}else{this.targetWindow.document.getElementById(this.id+"yes_msg_btn").onclick=function(){if(g.yes_fn){g.yes_fn()}g.close()};this.targetWindow.document.getElementById(this.id+"no_msg_btn").onclick=function(){if(g.no_fn){g.no_fn()}g.close()}}break;case 4:if(!this.isFrountEvent){this.targetWindow.document.getElementById(this.id+"retry_msg_btn").onclick=function(){g.close();if(g.retry_fn){g.retry_fn()}};this.targetWindow.document.getElementById(this.id+"cancel_msg_btn").onclick=function(){g.close();if(g.cancel_fn){g.cancel_fn()}}}else{this.targetWindow.document.getElementById(this.id+"retry_msg_btn").onclick=function(){if(g.retry_fn){g.retry_fn()}g.close()};this.targetWindow.document.getElementById(this.id+"cancel_msg_btn").onclick=function(){if(g.cancel_fn){g.cancel_fn()}g.close()}}break;case 5:if(!this.isFrountEvent){this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){g.close();if(g.ok_fn){g.ok_fn()}};this.targetWindow.document.getElementById(this.id+"detail_msg_btn").onclick=function(){g.close();if(g.detail_fn){g.detail_fn()}}}else{this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){if(g.ok_fn){g.ok_fn()}g.close()};this.targetWindow.document.getElementById(this.id+"detail_msg_btn").onclick=function(){if(g.detail_fn){g.detail_fn()}g.close()}}break;case 100:if(this.buttons.length>0){for(var d=0;d<this.buttons.length;d++){var c=this.buttons[d];if(!this.isFrountEvent){this.targetWindow.$("#"+c.id+"_btn").click(function(){g.close()}).click(c.handler)}else{this.targetWindow.$("#"+c.id+"_btn").click(c.handler).click(function(){g.close()})}}}break;default:if(!this.isFrountEvent){this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){g.close();if(this.ok_fn){this.ok_fn()}}}else{this.targetWindow.document.getElementById(this.id+"ok_msg_btn_first").onclick=function(){if(this.ok_fn){this.ok_fn()}g.close()}}}if(this.targetWindow!=null&&this.targetWindow.SeeUtils!=null){if(this.targetWindow.SeeUtils.getElObj(this.id+"ok_msg_btn_first")!=null){this.targetWindow.$("#"+this.id+"ok_msg_btn_first").parent().focus()}}else{if(this.targetWindow.$("#"+this.id+"ok_msg_btn_first").size()>0){this.targetWindow.$("#"+this.id+"ok_msg_btn_first").parent().focus()}}};MxtMsgBox.prototype.drag=function(a){if(this.isDrag){var b={cancel:".dialog_main_content_html,.dialog_main_footer",containment:"body",scroll:false};var c=this.targetWindow.$("#"+this.id);if(typeof c.draggable!=="undefined"){if(a==null&&this.targetWindow.$(".layui-layer-iframe").get(0)!=null&&this.targetWindow.$!=null&&this.targetWindow.$.ctx!=null&&"portal_portalDesigner_themeDesigner"===this.targetWindow.$.ctx._currentPathId){c.draggable({containment:".layui-layer-iframe"})}else{if(a!=null&&a.dragSetting!=null){c.draggable(a.dragSetting)}else{c.draggable(b)}}}else{}}};MxtMsgBox.prototype.close=function(){if(this.targetWindow!=null&&this.targetWindow.SeeUtils!=null){this.targetWindow.SeeUtils.removeEl(this.id+"_mask");this.targetWindow.SeeUtils.removeEl(this.id)}else{this.targetWindow.$("#"+this.id+"_mask").remove();this.targetWindow.$("#"+this.id).remove()}if(this.targetWindow.$(".layui-layer").length>0||this.targetWindow.$(".dialog_main").length>0){return void (0)}this.officeAction(true)};MxtMsgBox.prototype.officeAction=function(h){var d=this;var k=["officeFrameDiv","zwIframe","mainbodyFrame"];var j=getCtpTop();var a=SeeUtils.getElObj("componentDiv");if(a!==null){try{j=componentDiv.contentWindow.document.getElementById("zwIframe").contentWindow}catch(f){}}else{if(getCtpTop().document.getElementById("zwIframe")!==null){j=getCtpTop().document.getElementById("zwIframe").contentWindow}else{if(getCtpTop().isOffice==true&&SeeUtils.getCss("zwOfficeIframe","display")=="block"){try{j=getCtpTop().document.getElementById("zwOfficeIframe").contentWindow}catch(f){}}}}if(j.$){for(var c=0;c<k.length;c++){var b=k[c];var g=j.$("#"+b);if(g&&g.size()>0){d.officeIframe=g;break}}}d.qianzhangIframe=$("[classid='clsid:2294689C-9EDF-40BC-86AE-0438112CA439']");DialogOfficeObj.qianzhangIframe=d.qianzhangIframe;DialogOfficeObj.officeIframe=d.officeIframe;if(!h){DialogOfficeObj.hideOfficeObj()}else{DialogOfficeObj.showOfficeObj()}};var DialogOfficeObj={officeIframe:{size:function(){return 0}},qianzhangIframe:{size:function(){return 0}},hideOfficeObjExt:function(){try{var b=getA8Top();b.hideSpreadFunc&&b.hideSpreadFunc();var a=b.isOffice;if((typeof a=="undefined")||(a==false)){return false}}catch(c){}return true},showOfficeObjExt:function(){try{var b=getA8Top();var a=b.isOffice;b.showSpreadFunc&&b.showSpreadFunc();if((typeof a=="undefined")||(a==false)){return false}}catch(c){}return true},hideOfficeObj:function(){var b=navigator.userAgent.toLowerCase();var a=(b.indexOf("opera")!=-1);var c=SeeUtils.isIE;if(c){if(!DialogOfficeObj.hideOfficeObjExt()){return}}if(window.hideOfficeObj){hideOfficeObj()}},showOfficeObj:function(){var c=__getIframeDialogNumbers();if(c.length!=0){return}var b=navigator.userAgent.toLowerCase();var a=(b.indexOf("opera")!=-1);var d=SeeUtils.isIE;if(d){if(!DialogOfficeObj.showOfficeObjExt()){return}}if(window.showOfficeObj){showOfficeObj()}}};var timer=null;var grayTimer=null;function MxtSeeGrid(d,c){this.tObj=d;this.hset={};this.finished=true;this.combo_flag=true;this.pager=0;var b=this.tObj;this.initDefOptions();try{if(d.parentNode!=null){this.gridTempContent=d.parentNode.innerHTML;this.parentNode=d.parentNode}}catch(a){}}MxtSeeGrid.prototype.initDefOptions=function(){this.options={id:Math.floor(Math.random()*100000000)+"_grid",height:200,width:"auto",gridType:"oldGrid",closeError:false,striped:true,novstripe:false,minwidth:30,minheight:0,resizable:true,method:"POST",errormsg:"Connection Error",usepager:true,nowrap:true,page:1,total:1,useRp:true,useRpInput:true,rp:($.ctx&&$.ctx._pageSize)?$.ctx._pageSize:20,rpMaxSize:200,rpOptions:[10,20,30,40,50,100,150,200],title:false,idProperty:"id",pagestat:"Displaying {from} to {to} of {total} items",pagetext:$.i18n("validate.grid.over_page6.js"),outof:$.i18n("validate.grid.over_page5.js"),findtext:"Find "+$.i18n("validate.grid.over_page5.js"),params:{},procmsg:"Processing, please wait ...",query:"",qtype:"",nomsg:"No items",minColToggle:2,showToggleBtn:true,hideOnSubmit:true,autoload:true,blockOpacity:0.5,preProcess:false,addTitleToCell:false,dblClickResize:false,onDragCol:false,onToggleCol:false,onChangeSort:false,onCurrentPageSort:true,onSuccess:false,onNoDataSuccess:false,onError:false,onSubmit:false,datas:null,click:null,dblclick:null,render:null,callBackTotle:null,singleSelect:true,managerName:null,managerMethod:null,isEscapeHTML:true,heightSubtract:0,customize:true,vChangeParam:{changeTar:"grid_detail",overflow:"auto",subHeight:0,position:"static",autoResize:true},vChange:false,isHaveIframe:false,hChangeParam:{subHeight:55},hChange:false,parentId:null,slideToggleBtn:false,UMD:"down",slideToggleUpHandle:__slideToggleUpHandle,slideToggleDownHandle:__slideToggleDownHandle,dataTable:false}};MxtSeeGrid.prototype.destroyGrid=function(){if(this.hTable!=null){SeeUtils.removeEl(this.hTable);this.hTable=null}if(this.hDiv!=null){SeeUtils.removeEl(this.hDiv);this.hDiv=null}if(this.vDiv!=null){SeeUtils.removeEl(this.vDiv);this.vDiv=null}if(this.bDiv!=null){SeeUtils.removeEl(this.bDiv);this.bDiv=null}if(this.pDiv!=null){SeeUtils.removeEl(this.pDiv);this.pDiv=null}if(this.nDiv!=null){SeeUtils.removeEl(this.nDiv)}if(this.nBtn!=null){SeeUtils.removeEl(this.nBtn)}if(this.gDiv!=null){SeeUtils.removeEl(this.gDiv)}SeeUtils.innerHTMl(this.parentNode,this.gridTempContent);this.tObj.grid=null};MxtSeeGrid.prototype.dragColMoveStart=function(h,f){var b=this;var d=this.options;SeeUtils.hideEl(b.nDiv);SeeUtils.hideEl(b.nBtn);b.hset=SeeUtils.offset(b.hDiv);b.hset.right=b.hset.left+SeeUtils.getElWidth(d.id+"_h_table");b.hset.bottom=b.hset.top+SeeUtils.getElHeight(d.id+"_h_table");b.dcol=f;b.dcoln=SeeUtils.indexByTag(b.hDiv,"th",f);function a(){if(SeeUtils.isIE){return"colCopy ie"}else{return"colCopy"}}var j=SeeUtils.getUUid();var c="<div id='"+j+"' class='"+a()+"' style='position:absolute;float:left;display:none;'>"+f.innerHTML+"</div>";SeeUtils.appendToBody(c);this.colCopy=SeeUtils.getElObj(j);SeeUtils.hideEl(b.cDrag)};MxtSeeGrid.prototype.dragColMoveMove=function(d,c){var a=this;var b=this.options;SeeUtils.addClass(a.dcol,"thMove");SeeUtils.removeClass(a.dcol,"thOver");if(d.pageX>a.hset.right||d.pageX<a.hset.left||d.pageY>a.hset.bottom||d.pageY<a.hset.top){SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","move")}else{SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","pointer")}SeeUtils.css(a.colCopy,"top",(d.pageY+10)+"px");SeeUtils.css(a.colCopy,"left",(d.pageX+20)+"px");SeeUtils.css(a.colCopy,"display","block")};MxtSeeGrid.prototype.dragColMoveEnd=function(){var f=this;var a=this.options;SeeUtils.removeEl(f.colCopy);if(f.dcolt!=null){var h=SeeUtils.getElByTagAndIndex(f.hDiv,"th",f.dcolt);if(f.dcoln>f.dcolt){SeeUtils.insertBefore(f.dcol,h)}else{SeeUtils.insertAfter(f.dcol,h)}f.switchCol(f.dcoln,f.dcolt);SeeUtils.removeEl(f.cdropleft);SeeUtils.removeEl(f.cdropright);f.rePosDrag();if(a.onDragCol){a.onDragCol(f.dcoln,f.dcolt)}}this.dcol=null;this.hset=null;this.dcoln=null;this.dcolt=null;this.colCopy=null;SeeUtils.eachByClass(f.hDiv,".thMove",function(g){SeeUtils.removeClass(g,"thMove")});SeeUtils.showEl(f.cDrag);var d=SeeUtils.getElByTag(f.hDiv,"th");var c=[];var j=[];for(var e=0;e<d.length;e++){var b=d[e];var k=SeeUtils.getAttrEl(b,"colmode");SeeUtils.each(a.colModelBak,function(g,l){if(l.name==k&&typeof(l)==="object"){j[e]=g;c.push(l)}})}a.colModel=c;a._modesMap=j;this.saveCustomize()};MxtSeeGrid.prototype.dragTableStart=function(h,f){var b=this;var d=this.options;var c=false;SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","row-resize");if(f){c=true;SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","col-resize")}d.height=SeeUtils.getElHeight(b.bDiv);if(d.vChange==true&&d.isHaveIframe==true){var a=SeeUtils.getElObj(d.vChangeParam.changeTar);SeeUtils.css(a,"position","relative");$("<div class='grid_mask'></div>").css({position:"absolute",background:"red",top:0,left:0,width:SeeUtils.getElWidth(a)+"px",height:SeeUtils.getElHeight(a)+"px","z-index":20,"-moz-opacity":0,opacity:0}).appendTo($(a))}this.vresize={h:d.height,sy:h.pageY,w:d.width,sx:h.pageX,hgo:c}};MxtSeeGrid.prototype.dragTableMove=function(f){var d=this;var b=this.options;var m=this.vresize;var j=SeeUtils.getPageY(f);var l=j-m.sy;if(!b.defwidth){b.defwidth=b.width}if(b.width!="auto"&&!b.nohresize&&m.hgo){var k=SeeUtils.getPageX(f);var c=k-m.sx;var a=m.w+c;if(a>b.defwidth){this.gDiv.style.width=a+"px";b.width=a}}var h=m.h+l;if((h>b.minheight||b.height<b.minheight)&&!m.hgo){this.bDiv.style.height=h+"px";b.height=h;this.fixHeight(h)}m=null};MxtSeeGrid.prototype.dragTableEnd=function(){var c=this;var d=this.options;if(d.vChange==true&&d.isHaveIframe==true){var a=SeeUtils.getElObj(d.vChangeParam.changeTar);var b=d.vChangeParam.position;SeeUtils.css(a,"position",b);SeeUtils.eachByClass(SeeUtils.getElObj(d.vChangeParam.changeTar),"grid_mask",function(e){SeeUtils.removeEl(e)})}c.saveCustomize()};function _getVisibleTh(d){var a=[];var e=_getHeaderThTrObj(d);if(e!=null){var c=SeeUtils.getElByTag(e,"th");for(var f=0;f<c.length;f++){var b=c[f];if(b.style.display==="none"){continue}else{a.push(b)}}}return a}function _getVisibleThIndex(f,d){var h=_getHeaderThTrObj(f);if(h!=null){var e=SeeUtils.getElByTag(h,"th");var a=[];for(var j=0;j<e.length;j++){var c=e[j];if(c.style.display==="none"){continue}else{a.push(c)}}if(d!=null){for(var b=0;b<a.length;b++){if(a[b]===d){return b}}}}return -1}function _getVisibleThDivByIndex(e,j){var f=_getHeaderThTrObj(e);if(f!=null){var d=SeeUtils.getElByTag(f,"th");var a=[];for(var h=0;h<d.length;h++){var c=d[h];if(c.style.display==="none"){continue}else{a.push(c)}}if(j>=0&&a[j]!=null){var b=SeeUtils.getElByTag(a[j],"div");if(b.length>0){return b[0]}}}return null}MxtSeeGrid.prototype.dragColStart=function(k,f){var h=this;var b=this.options;SeeUtils.hideEl(h.nDiv);SeeUtils.hideEl(h.nBtn);var c=SeeUtils.indexByTag(h.cDrag,"div",f);var l=_getVisibleThDivByIndex(h,c);var d=SeeUtils.getElWidth(l);SeeUtils.addClass(f,"dragging");SeeUtils.eachBySiblings(f,function(e){SeeUtils.hideEl(e)});var a=SeeUtils.getPrevEle(f);SeeUtils.addClass(a,"dragging");SeeUtils.showEl(a);var j=false;if(navigator.userAgent.indexOf("MSIE 8")!=-1||navigator.userAgent.indexOf("MSIE 9")!=-1){j=true}h.colresize={startX:(j?window.event.clientX:k.pageX),ol:parseInt(f.style.left),ow:d,n:c};SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","col-resize")};MxtSeeGrid.prototype.dragColMove=function(j){var d=this;var a=this.options;var b=d.colresize.n;var f=false;if(navigator.userAgent.indexOf("MSIE 8")!=-1||navigator.userAgent.indexOf("MSIE 9")!=-1){f=true}var l=(f?window.event.clientX:j.pageX)-d.colresize.startX;var k=d.colresize.ol+l;var h=d.colresize.ow+l;if(h>a.minwidth){var c=SeeUtils.getElByTagAndIndex(d.cDrag,"div",b);SeeUtils.css(c,"left",k+"px");d.colresize.nw=h}};MxtSeeGrid.prototype.dragColEnd=function(j){var f=this;var h=this.options;var k=f.colresize.n;var a=f.colresize.nw;if(a!=null){var d=_getVisibleThDivByIndex(f,k);SeeUtils.setElWidth(d,a);SeeUtils.eachByTag(f.bDiv,"tr",function(e){var g=_getVisibleTdDivByIndex(e,k);SeeUtils.setElWidth(g,a)})}f.hDiv.scrollLeft=f.bDiv.scrollLeft;var c=SeeUtils.getElByTagAndIndex(f.cDrag,"div",k);SeeUtils.eachBySiblings(c,function(e){SeeUtils.showEl(e)});SeeUtils.eachByClass(f.cDrag,"dragging",function(e){SeeUtils.removeClass(e,"dragging")});f.rePosDrag();this.fixHeight(null,f);f.colresize=false;var b=h.colModel[k].name;f.saveCustomize()};function _getVisibleTdDivByIndex(e,g){var d=SeeUtils.getElByTag(e,"td");var a=[];for(var f=0;f<d.length;f++){var c=d[f];if(c.style.display==="none"){continue}else{a.push(c)}}if(g>=0&&a[g]!=null){var b=SeeUtils.getElByTag(a[g],"div");if(b.length>0){return b[0]}}return null}function _createSpanGetInfo(d,a,c,h){var e=SeeUtils.getUUid();var b="<span id='"+e+"' style='padding-right:"+SeeUtils.getCss(d,"padding-right")+";padding-left:"+SeeUtils.getCss(d,"padding-left")+";font-size: "+SeeUtils.getCss(d,"font-size")+"'>"+d.innerHTML+"</span>";SeeUtils.prepend(b,SeeUtils.getElByTag(document,"body")[0]);var f=SeeUtils.getElObj(e);a=SeeUtils.getElWidth(f);SeeUtils.eachByTag(c.bDiv,"tr",function(g){var k=0;var j=_getVisibleTdDivByIndex(g,h);f.innerHTML=j.innerHTML;SeeUtils.css(f,"fontSize",SeeUtils.getCss(j,"font-size"));SeeUtils.css(f,"paddingLeft",SeeUtils.getCss(j,"padding-left"));SeeUtils.css(f,"paddingRight",SeeUtils.getCss(j,"padding-right"));k=SeeUtils.getElWidth(f)+5;a=(k>a)?k:a});SeeUtils.removeEl(f);return a}MxtSeeGrid.prototype.autoResizeColumn=function(e,f){var f=this;var b=this.options;if(!b.dblClickResize){return}var c=SeeUtils.indexByTag(f.cDrag,"div",e);var l=_getVisibleThDivByIndex(f,c);var j=parseInt(e.style.left),d=SeeUtils.getElWidth(l),h=0,a=0;h=_createSpanGetInfo(l,h,f,c);h=(b.minWidth>h)?b.minWidth:h;a=j+(h-d);var k=SeeUtils.getElByTagAndIndex(f.cDrag,"div",c);SeeUtils.css(k,"left",a);f.colresize={nw:h,n:c};this.dragEnd(f)};MxtSeeGrid.prototype.dragStart=function(f,d,c){var a=this;var b=this.options;if(f=="colresize"){this.dragColStart(d,c)}else{if(f=="vresize"){this.dragTableStart(d,c)}else{if(f=="colMove"){this.dragColMoveStart(d,c)}}}$("body").noSelect()};MxtSeeGrid.prototype.dragMove=function(c){var a=this;var b=this.options;if(a.colresize){this.dragColMove(c)}else{if(a.vresize){this.dragTableMove(c)}else{if(a.colCopy){this.dragColMoveMove(c)}}}};MxtSeeGrid.prototype.dragEnd=function(){var b=this.options;var a=this;if(a.colresize){this.dragColEnd()}else{if(a.vresize){a.vresize=false;this.dragTableEnd()}else{if(a.colCopy){this.dragColMoveEnd()}}}SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","default");$("body").noSelect(false)};MxtSeeGrid.prototype.extendOptions=function(a){a=$.extend(this.options,a);a.colModelBak=$.extend({},a.colModel);this.closeError=a.closeError;this.options=a;__initVChangeParam(this.options);return a};MxtSeeGrid.prototype.initGridCtl=function(){var a=this;a._initTableElAttr();a._initGridContainer();a._addGridHeader();a._addGridBody();a._initTableHeight();a._initGridHeaderLabel();a._initThEvent();a.initGridBodyProp();a.addRowProp();a.addLinDrap();a.addVGrip();a._addGridPage();a._addGridTitle();a._addFieldShowHidePanel();a._addEditorLayer();a._initDocumentEvents();a.rePosDrag();a.fixHeight();a._loadData();initFlag=false;a._endGridInit()};function _tableToggleClick(c,b,a){if(b||b==="true"){SeeUtils.toggleClass(c,"hideBody");SeeUtils.toggleClass(a,"vsble")}}MxtSeeGrid.prototype._addSearchitems=function(f,b){if(b.searchitems){var o="pSearchclick_"+b.id;window[o]=function(q,g){$(f.sDiv).slideToggle("fast",function(){$(".sDiv:visible input:first",f.gDiv).trigger("focus")})};SeeUtils.prepend("<div class='pGroup'> <div class='pSearch pButton' onclick='"+o+"(event,this)'><span></span></div> </div>  <div class='btnseparator'></div>",b.id+"_pDiv_page");var l=b.searchitems;var c="",d="";for(var n=0;n<l.length;n++){if(b.qtype==""&&l[n].isdefault==true){b.qtype=l[n].name;d='selected="selected"'}else{d=""}c+="<option value='"+l[n].name+"' "+d+" >"+l[n].display+"&nbsp;&nbsp;</option>"}if(b.qtype==""){b.qtype=l[0].name}var m="inputKeyDownId_"+b.id;window[m]=function(g){if(g.keyCode==13){f.doSearch()}};var a="selectKeyDownId_"+b.id;window[a]=function(g){if(g.keyCode==13){f.doSearch()}};var e="clearClickId_"+b.id;window[e]=function(g){SeeUtils.eachElsByTagAndProp(f.sDiv,"input","name","q",function(q){SeeUtils.setElVal(q,"")});b.query="";f.doSearch()};var j=SeeUtils.getUUid();var k="<div class='sDiv2'>"+b.findtext+" <input type='text' value='"+b.query+"' size='30' name='q' id='"+b.id+"_search_input' onkeydown='"+m+"(event)' class='qsbox' />  <select name='qtype' onkeydown='"+a+"(event)'>"+c+"</select></div>";var h="<div class='sDiv' id='"+j+"'>"+k+"<div style='clear:both' onclick='"+e+"()'></div></div>";SeeUtils.insertAfter(h,f.bDiv);f.sDiv=SeeUtils.getElObj(j)}};MxtSeeGrid.prototype._addPageRecordLabel=function(b,c){var c=this.options;var b=this;b.pageInputId=SeeUtils.getUUid();var a="blurInputEventId_"+c.id;window[a]=function(h,f){var j=SeeUtils.getElVal(b.pageInputId);var g=j.replace(/\D/g,"");if(g<=0){g=c.rp}SeeUtils.setElVal(b.pageInputId,g);SeeUtils.getElObj(b.gridGoId).click()};if(c.useRpInput){var d=SeeUtils.getElObj(c.id+"_pDiv_page");if(typeof(c.noTotal)==="undefined"||typeof(c.noTotal)!="undefined"&&c.noTotal==false){SeeUtils.prepend("<span>"+$.i18n("validate.grid.over_page.js")+"<input type='text' id='"+b.pageInputId+"' name='rp' onblur='"+a+"(event)' maxlength='3' value='"+c.rp+"' class='common_over_page_txtbox' style='width:32px;'/><span class='margin_r_10 total' id='"+c.id+"_total_number'>"+$.i18n("validate.grid.over_page2.js")+"0"+$.i18n("validate.grid.over_page3.js")+"</span><span class='total_page' id='"+c.id+"_total_page'>1</span></span>",d)}else{SeeUtils.prepend("<span>"+$.i18n("validate.grid.over_page.js")+"<input type='text' id='"+b.pageInputId+"' name='rp' onblur='"+a+"(event)' maxlength='3' value='"+c.rp+"' class='common_over_page_txtbox' style='width:32px;'/>"+$.i18n("validate.grid.over_page3.js")+"</span>",d)}}};MxtSeeGrid.prototype._addGridPage=function(){var a=this.options;var j=this;if(a.usepager){var m="pReload_click"+a.id;var e="pFirst_click"+a.id;var l="pPrev_click"+a.id;var b="pNext_click"+a.id;var d="pLast_click"+a.id;var k="pcontrol_input_keydown"+a.id;var f="grid_go_click"+a.id;window[m]=function(){j.populate()};window[e]=function(){j.changePage("first")};window[l]=function(){j.changePage("prev")};window[b]=function(){j.changePage("next")};window[d]=function(){j.changePage("last")};window[k]=function(g){if(g.keyCode==13){j.changePage("input")}};window[f]=function(){j.changePage("input",true)};j.gridGoId=SeeUtils.getUUid();if(typeof(a.noTotal)==="undefined"||typeof(a.noTotal)!="undefined"&&a.noTotal==false){var h='<a  onclick="'+e+'()"  class="pFirst pButton common_over_page_btn"><span class="pageFirst"></span></a><a  onclick="'+l+'()" class="pPrev pButton common_over_page_btn"><span class="pagePrev"></span></a><span class="pcontrol margin_l_10">'+a.pagetext+'<input id="'+a.id+'_page_number" onkeydown="'+k+'(event)" type="text" maxlength="4" size="4" value="1" class="common_over_page_txtbox"/>'+a.outof+'</span><a onclick="'+b+'()"  class="pNext pButton common_over_page_btn"><span class="pageNext"></span></a><a  onclick="'+d+'()" class="pLast pButton common_over_page_btn"><span class="pageLast"></span></a><a  class="common_over_page_btn" style="display:none"><span onclick="'+m+'()"  id="'+a.id+'_pReload" class="pReload pButton "><span class="ico16 refresh_16 margin_lr_5">&nbsp;</span></span></a><a onclick="'+f+'()"  href="javascript:void(0)" id="'+j.gridGoId+'" class="common_button margin_lr_10 common_over_page_go">GO</a><div class="pGroup"><span class="pPageStat" id="'+a.id+'_pPageStat"></span></div>'}else{var h='<a  onclick="'+e+'()"  class="pFirst pButton common_over_page_btn"><span class="pageFirst"></span></a><a  onclick="'+l+'()" class="pPrev pButton common_over_page_btn"><span class="pagePrev"></span></a><span class="pcontrol margin_l_10">'+a.pagetext+'<input id="'+a.id+'_page_number" onkeydown="'+k+'(event)" type="text" maxlength="4" size="4" value="1" class="common_over_page_txtbox"/>'+a.outof+'</span><a onclick="'+b+'()"  class="pNext pButton common_over_page_btn"><span class="pageNext"></span></a><a  class="common_over_page_btn" style="display:none"><span onclick="'+m+'()"  id="'+a.id+'_pReload" class="pReload pButton "><span class="ico16 refresh_16 margin_lr_5">&nbsp;</span></span></a><a onclick="'+f+'()"  href="javascript:void(0)" id="'+j.gridGoId+'" class="common_button margin_lr_10 common_over_page_go">GO</a><div class="pGroup"><span class="pPageStat" id="'+a.id+'_pPageStat"></span></div>'}var c='<div class="pDiv" id="'+a.id+'_pDiv"><div id="'+a.id+'_pDiv_page" class="pDiv2 common_over_page align_right" style="padding-top:10px;padding-bottom:10px;">'+h+"</div></div>";SeeUtils.insertAfter(c,j.bDiv);j.pDiv=document.getElementById(a.id+"_pDiv");this._addPageRecordLabel(j,a);this._addSearchitems(j,a)}};MxtSeeGrid.prototype._addGridTitle=function(){var d=this.options;var c=this;if(d.title){function a(){if(d.showTableToggleBtn){return'<div class="ptogtitle" onclick="_tableToggleClick(\''+d.id+"','"+d.showTableToggleBtn+'\',this)" title="Minimize/Maximize Table"><span></span></div>'}return""}var b=[];b.push("<div class='mDiv'><div class='ftitle'>"+d.title+"</div>"+a()+"</div>");SeeUtils.prepend(b.join(""),c.gDiv)}};function _initShowToggleClick(c,b){var a="nBtn"+c.id;window[a]=function(){SeeUtils.addClass(b.nBtn,"set_col");SeeUtils.showEl(b.nDiv);if(SeeUtils.getElHeight(b.nDiv)>=(SeeUtils.getElHeight(b.bDiv)+SeeUtils.getElHeight(b.pDiv))){SeeUtils.setElHeight(b.nDiv,SeeUtils.getElHeight(b.bDiv)+SeeUtils.getElHeight(b.pDiv)+"px")}return true};return a}function _initCheckBoxHideShowCol(c,b){var a="togColClick"+c.id;window[a]=function(f){var e=SeeUtils.getCheckedInpus(b.nDiv);if(e.length<c.minColToggle&&f.checked==false){f.checked=true;return false}var d=SeeUtils.getNextEl(SeeUtils.getElObj(f).parentNode);if(d!=null){d.click()}if(SeeUtils.getElObj("total_0_"+c.id)!=null){SeeUtils.setElWidth("total_0_"+c.id,SeeUtils.getElWidth(c.id+"_hDivBox"))}};return a}function _initLableHideShowCol(c,a){var b="ndcol2Click"+c.id;window[b]=function(f){var d=SeeUtils.getCheckedInpus(a.nDiv);if(d.length<=c.minColToggle&&SeeUtils.getElByTagAndIndex(SeeUtils.getPrevEle(f),"input",0).checked){return false}var e=SeeUtils.getElByTagAndIndex(SeeUtils.getPrevEle(f),"input",0).value;if(SeeUtils.getElByTagAndIndex(SeeUtils.getPrevEle(f),"input",0).value=="_reset_width_"){a.saveCustomize(true,function(){window.location.reload()});f.checked=false}else{var g=SeeUtils.getElByTagAndIndex(SeeUtils.getPrevEle(f),"input",0).value;return a.toggleCol(g)}};return b}MxtSeeGrid.prototype._addFieldShowHidePanel=function(){var c=this;var a=this.options;c.nBtn=document.createElement("div");c.cdropleft=document.createElement("span");c.cdropleft.className="cdropleft";c.cdropright=document.createElement("span");c.cdropright.className="cdropright";var h=SeeUtils.getElHeight(c.bDiv);var l=c.bDiv.offsetTop-2;var f=_initLableHideShowCol(a,c);var d=_initCheckBoxHideShowCol(a,c);if(SeeUtils.getElByTag(c.hDiv,"th").length){var n=[];var k=0;SeeUtils.eachByTag(c.hDiv,"th",function(g){SeeUtils.eachByTag(g,"div",function(s){var r=SeeUtils.eachElsByTagAndProp(c.hDiv,"th","axis","col"+k)[0];var q='checked="checked"';if(r.style.display=="none"){q=""}var w=s.parentNode;var u="";var t=SeeUtils.getAttrEl(w,"isToggleHideShow");if(t=="false"){u="none"}if(s.innerHTML.indexOf('type="checkbox"')>-1){u="none"}if(s.innerHTML.indexOf("locking_white_16")>-1||s.innerHTML.indexOf('type="checkbox"')>-1){newInnerHTML=s.innerHTML.replace(/locking_white_16/g,"locking_16");n.push('<tr style="display:'+u+'"><td class="ndcol1"><input onclick="'+d+'(this)" type="checkbox" '+q+' class="togCol" value="'+k+'" /></td><td class="ndcol2" onclick="'+f+'(this)">'+newInnerHTML+"</td></tr>")}else{n.push('<tr style="display:'+u+'"><td class="ndcol1"><input onclick="'+d+'(this)" type="checkbox" '+q+' class="togCol" value="'+k+'" /></td><td class="ndcol2" onclick="'+f+'(this)">'+s.innerHTML+"</td></tr>")}k++})});var b=SeeUtils.getUUid();var e="<div class='nDiv' id='"+b+"' style='display: none;top:"+l+"px;marginBottom:"+(h*-1)+"px'><table cellpadding='0' cellspacing='0'><tbody>"+n.join("")+"</tbody></table></div>";SeeUtils.prepend(e,c.gDiv);c.nDiv=SeeUtils.getElObj(b);if(a.showToggleBtn){var j=_initShowToggleClick(a,c);var m=SeeUtils.getUUid();var o="<div class='nBtn' id='"+m+"' onclick='"+j+"()'><div title='"+$.i18n("grid.togglefield.js")+"'></div></div>";SeeUtils.prepend(o,c.gDiv);c.nBtn=SeeUtils.getElObj(m)}}};MxtSeeGrid.prototype.fixHeight=function(b,e){var e=this;var f=this.options;b=false;if(!b){b=SeeUtils.getElHeight(e.bDiv)}var k=SeeUtils.getElHeight(e.hDiv);SeeUtils.eachByTag(e.cDrag,"div",function(g,h){SeeUtils.setElHeight(g,b+k)});var j=parseInt(SeeUtils.getElHeight(e.nDiv));if(j>b){SeeUtils.setElHeight(e.nDiv,b);SeeUtils.setElWidth(e.nDiv,200)}else{SeeUtils.setElHeight(e.nDiv,"auto");SeeUtils.setElWidth(e.nDiv,"auto")}e.blockHeight=b;SeeUtils.css(e.block,"marginBottom",(b*-1)+"px");var a=e.bDiv.offsetTop+b;if(f.height!="auto"&&f.resizable){a=e.vDiv.offsetTop}if(e.rDiv){SeeUtils.setElHeight(e.rDiv,a)}if(f.vChange){var d=SeeUtils.getElObj(f.vChangeParam.changeTar);if(d!=null&&e.gDiv.parentNode!=null){var c=SeeUtils.getElHeight(e.gDiv.parentNode);SeeUtils.css(d,"overflow",f.vChangeParam.overflow);SeeUtils.setElHeight(d,c-SeeUtils.getElHeight(e.gDiv)-f.vChangeParam.subHeight)}}};MxtSeeGrid.prototype._initTableElAttr=function(){var a=this.options;SeeUtils.showEl(this.tObj);SeeUtils.attrEl(this.tObj,"cellPadding",0);SeeUtils.attrEl(this.tObj,"cellSpacing",0);SeeUtils.attrEl(this.tObj,"border",0);SeeUtils.removeAttrEl("width");a.gridClassName=a.id+"_classtag"};MxtSeeGrid.prototype.getGridInterface=function(a,b){return this};MxtSeeGrid.prototype.rePosDrag=function(){var k=this;var c=this.options;var m=this.hDiv.scrollLeft;var n=0-m;if(m>0){n-=Math.floor(c.cgwidth/2)}SeeUtils.css(k.cDrag,"top",(k.hDiv.offsetTop+1)+"px");var l=this.cdpad;SeeUtils.eachByTag(k.cDrag,"div",function(g){SeeUtils.hideEl(g)});var j=_getVisibleTh(k);for(var h=0;h<j.length;h++){var b=parseInt(SeeUtils.getElWidth(_getVisibleThDivByIndex(k,h)));if(n==0){n-=Math.floor(c.cgwidth/2)}b=b+n+l;if(isNaN(b)){b=0}var a=SeeUtils.getElByTagAndIndex(k.cDrag,"div",h);if(a!=null){SeeUtils.css(a,"left",b+"px");SeeUtils.showEl(a)}n=b}var f=SeeUtils.getElByTag(k.bDiv,"table");var e=SeeUtils.getByClass(k.hDiv,"hDivBox");var d=[];if(e.length>0){d=SeeUtils.getElByTag(e[0],"table")}if(f.length>0&&d.length>0){SeeUtils.css(f[0],"width",SeeUtils.getElWidth(d[0]))}if(e.length>0&&d.length>0){SeeUtils.css(e[0],"width",SeeUtils.getElWidth(d[0])+20+"px")}};function _getThColInfo(f,a,d,j,c){for(var g=0;g<f.length;g++){var l=f[g],h=SeeUtils.getAttrEl(l,"colmode"),k=SeeUtils.isVisible(l);if(h&&h!=""){for(var e=0;e<a.colModel.length;e++){var b=a.colModel[e];if(b.name==h){if(!k){d[b.name]=0}else{j.push(b.name+"#"+SeeUtils.getElWidth(l))}c.push(b.name)}}}}}function _saveInfoToDb(d,c,a,e,b){var f=new ctpUserPreferenceManager();f.saveGridPreference(d,c,{success:function(){if(getCtpTop().vPortal&&getCtpTop().vPortal.customize){var g=getCtpTop().vPortal.customize.grid_pref;var h=__getPrefStr(g,d,a,e);getCtpTop().vPortal.customize.grid_pref=h}else{var g=__getGridPrefFromLocalStorage();var h=__getPrefStr(g,d,a,e);__saveToLocalStorage(d,h)}if(b!=undefined){b()}}})}MxtSeeGrid.prototype.saveCustomize=function(h,s){var o=this;var a=this.options;if(a.customize){var r=a.customId;if(r){var l=SeeUtils.getElByTag(o.hDiv,"th");var f={};var e=[];var q=[];_getThColInfo(l,a,f,q,e);if(h){f={};f.resetWidth=true}else{f.__ORDER=e}for(var d=0;d<e.length;d++){var b=e[d];var t=b+"#";for(var k=0;k<q.length;k++){var c=q[k];if(c.substring(0,t.length)==t){e[d]=c}}}_saveInfoToDb(r,f,h,e,s)}}};MxtSeeGrid.prototype.toggleCol=function(j,c){var f=this;var a=this.options;var k=this.tObj;var h=SeeUtils.eachElsByTagAndProp(this.hDiv,"th","axis","col"+j)[0];var b=SeeUtils.indexByTag(f.hDiv,"th",h);var d=SeeUtils.eachElsByTagAndProp(f.nDiv,"input","value",j)[0];if(c==null){c=h.hidden}var e=SeeUtils.getCheckedInpus(f.nDiv);if(e.length<a.minColToggle&&!c){return false}if(c){h.hidden=false;SeeUtils.showEl(h);d.checked=true}else{h.hidden=true;SeeUtils.hideEl(h);d.checked=false}this.hideColByIndex(b,c);this.rePosDrag();if(a.onToggleCol){a.onToggleCol(j,c)}this.saveCustomize();return c};MxtSeeGrid.prototype.hideColByIndex=function(c,a){var b=SeeUtils.getElByTag(this.tObj,"tbody");if(b.length>0){SeeUtils.eachByTag(b[0],"tr",function(e){if(a){var d=SeeUtils.getElByTagAndIndex(e,"td",c);SeeUtils.showEl(d)}else{var d=SeeUtils.getElByTagAndIndex(e,"td",c);SeeUtils.hideEl(d)}})}};MxtSeeGrid.prototype.switchCol=function(d,b){var e=this;var f=this.options;var a=SeeUtils.getElByTagAndIndex(this.tObj,"tbody",0);SeeUtils.eachByTag(a,"tr",function(j){var k=SeeUtils.getElByTagAndIndex(j,"td",b);var g=SeeUtils.getElByTagAndIndex(j,"td",d);if(d>b){SeeUtils.beforeEL(k,g)}else{SeeUtils.afterEL(k,g)}});var h=SeeUtils.getElByTagAndIndex(this.nDiv,"tr",b);var c=SeeUtils.getElByTagAndIndex(this.nDiv,"tr",d);if(d>b){SeeUtils.beforeEL(h,c)}else{SeeUtils.afterEL(h,c)}this.hDiv.scrollLeft=this.bDiv.scrollLeft};MxtSeeGrid.prototype.scroll=function(){var a=this;var b=this.options;this.hDiv.scrollLeft=this.bDiv.scrollLeft;this.rePosDrag()};MxtSeeGrid.prototype._addGblock=function(){var f=this.options;var c=this;var a=SeeUtils.getElHeight(c.bDiv);var d=c.bDiv.offsetTop-2;var b=SeeUtils.getUUid();var e="<div class='gBlock' id='"+b+"' style='height:"+a+"px;opacity:"+f.blockOpacity+";filter:alpha(opacity="+f.blockOpacity+");z-index:1;left:0px;top:"+(d-2)+"px;margin-bottom:"+(a*-1)+"px;width: "+SeeUtils.getElWidth(c.bDiv)+"px;position:relative;'></div>";SeeUtils.prepend(e,this.gDiv);c.block=document.getElementById(b)};MxtSeeGrid.prototype.populate=function(d){var e=this;var h=this.options;if(this.loading){return true}if(h.onSubmit){var b=h.onSubmit();if(!b){return false}}this.loading=true;if(SeeUtils.getElObj(h.id+"_pPageStat")!=null){SeeUtils.getElObj(h.id+"_pPageStat").innerHTML=h.procmsg}SeeUtils.addClass(h.id+"_pReload","loading");SeeUtils.css(e.block,"top",e.bDiv.offsetTop+"px");if(h.hideOnSubmit){this._addGblock()}if(SeeUtils.isOpera){SeeUtils.css(this.tObj,"visibility","hidden")}if(!h.newp){h.newp=1}if(h.page>h.pages){h.page=h.pages}if(d){h.params=d;if(d.newp){h.newp=d.newp}if(d.page){h.newp=d.page}}var c={page:h.newp,size:h.rp,sortField:h.sortname,sortOrder:h.sortorder};if(h.onCurrentPageSort){c.sortField=undefined;c.sortOrder=undefined}if(h.managerName&&h.managerMethod&&window[h.managerName]){var a=new CallerResponder();a.success=function(g){if(g==null){return}g.rows=g.data;e.addData(g)};var j=a.error;a.error=function(k,g,l){SeeUtils.removeEl(e.block);e.loading=false;e.addData([]);j(k,g,l)};if(e.closeError){a.complete=function(){SeeUtils.removeEl(e.block)}}var f=new window[h.managerName]();f[h.managerMethod](c,h.params,a)}else{if(h.datas!=null){e.addData(h.datas)}}};MxtSeeGrid.prototype.doSearch=function(){var b=this;var c=this.options;c.query=SeeUtils.getElVal(c.id+"_search_input");var a=SeeUtils.eachElsByTagAndProp(b.sDiv,"select","name","qtype")[0];if(a!=null){c.qtype=SeeUtils.getElVal(a);c.params[c.qtype]=c.query;c.newp=1;this.populate()}};MxtSeeGrid.prototype.changePage=function(c,b){var d=this;var e=this.options;SeeUtils.eachByClass(this.hDiv,"sdesc",function(f){SeeUtils.removeClass(f,"sdesc")});SeeUtils.eachByClass(this.hDiv,"sasc",function(f){SeeUtils.removeClass(f,"sasc")});if(typeof(e.noTotal)==="undefined"||typeof(e.noTotal)!="undefined"&&e.noTotal==false){if(e.total==0){return false}}if(this.loading){return true}switch(c){case"first":e.newp=1;break;case"prev":if(e.page>1){e.newp=parseInt(e.page)-1}else{e.newp=1}break;case"next":if(typeof(e.noTotal)==="undefined"||typeof(e.noTotal)!="undefined"&&e.noTotal==false){if(e.page<e.pages){e.newp=parseInt(e.page)+1}else{e.newp=e.pages}}else{e.newp=parseInt(e.page)+1}break;case"last":e.newp=e.pages;break;case"input":var a=parseInt(SeeUtils.getElVal(e.id+"_page_number"));if(isNaN(a)){a=1}if(a<1){a=1}else{if(a>e.pages){a=e.pages}}SeeUtils.setElVal(e.id+"_page_number",a);e.newp=a;break}e.rpNew=SeeUtils.getElVal(d.pageInputId);if(e.rpNew>e.rpMaxSize){e.rpNew=e.rpMaxSize;SeeUtils.setElVal(d.pageInputId,e.rpNew)}if(typeof(e.noTotal)==="undefined"||typeof(e.noTotal)!="undefined"&&e.noTotal==false){if((e.newp==e.page)&&(e.rp==e.rpNew)&&!b){return false}}else{if(e.total==0&&c=="next"){return false}}e.rp=e.rpNew;if(e.onChangePage){e.onChangePage(e.newp)}else{this.populate()}};MxtSeeGrid.prototype.addRowProp=function(){var d=this;var e=this.options;var j=true;var a="trClick_"+e.id;window[a]=function(q,m){var o=$(m);var n=(q.target||q.srcElement);if(n.tagName==="DIV"&&n.children.length===1&&n.children[0].type==="checkbox"){n=n.children[0];if(n.click!=null){n.click()}}if(n.href||n.type){if(n.type=="checkbox"||n.type=="radio"){var l=n.checked;if(l){SeeUtils.eachBySiblings(m,function(s){SeeUtils.removeClass(s,"trSelected")});SeeUtils.addClass(m,"trSelected")}else{SeeUtils.removeClass(m,"trSelected")}}return true}if(e.singleSelect&&!d.multisel){SeeUtils.eachBySiblings(m,function(s){SeeUtils.removeClass(s,"trSelected")});if($(n).find("input[gridrowcheckbox]").size()==0){o.siblings().find("input[gridrowcheckbox]").prop("checked",false)}SeeUtils.addClass(m,"trSelected");if(SeeUtils.hasClass(m,"trSelected")){var r=o.find("input[gridrowcheckbox]");if(r.prop("disabled")==false){r.prop("checked",true)}}else{o.find("input[gridrowcheckbox]").prop("checked",false)}}if(e.vChange){if(j){if(SeeUtils.getElObj(e.vChangeParam.changeTar)!=null&&e.vChangeParam.autoResize){e.UMD="middle";d.resizeGridUpDown(e.UMD)}var g=o.find("input[type=checkbox]");if(g.size()>0){try{g.focus()}catch(q){}}var k=o.find("input[type=radio]");if(k.size()>0){try{k.focus()}catch(q){}}}else{j=true}}};var h="trMousedown_"+e.id;window[h]=function(k,g){if(k.shiftKey){SeeUtils.toggleClass(g,"trSelected");d.multisel=true;$(g).focus();$(d.gDiv).noSelect()}if(k.ctrlKey){SeeUtils.toggleClass(tObj,"trSelected");d.multisel=true;$(g).focus()}};var c="trMouseup_"+e.id;window[c]=function(g){if(d.multisel&&!g.ctrlKey){d.multisel=false;$(d.gDiv).noSelect(false)}};var f="trMouseenter_"+e.id;window[f]=function(k,g){if(d.multisel&&k.shiftKey){SeeUtils.toggleClass(g,"trSelected")}};var b="trMouseleave_"+e.id;window[b]=function(k,g){if(d.multisel&&k.shiftKey){SeeUtils.toggleClass(g,"trSelected")}}};MxtSeeGrid.prototype.resizeGrid=function(c,e){var d=this;var h=this.options;switch(e){case"up":SeeUtils.setElHeight(d.bDiv,c[0]);SeeUtils.setElHeight(h.vChangeParam.changeTar,c[2]+53);break;case"middle":SeeUtils.setElHeight(d.bDiv,c[1]);SeeUtils.setElHeight(h.vChangeParam.changeTar,c[2]-c[1]);break;case"down":SeeUtils.setElHeight(d.bDiv,c[2]);SeeUtils.setElHeight(h.vChangeParam.changeTar,0);break;case"auto":SeeUtils.setElHeight(d.bDiv,c);SeeUtils.setElHeight(h.vChangeParam.changeTar,0);break;default:SeeUtils.setElHeight(d.bDiv,c);var f=0;var j=0;var a=36;h.usepager?f+=53:null;h.resizable?j+=11:null;var b=SeeUtils.getElHeight(h.parentId)-j-f-a-c;SeeUtils.setElHeight(h.vChangeParam.changeTar,b);break}};MxtSeeGrid.prototype.resizeGridUpDown=function(a){var b=this;var c=this.options;setTimeout(function(){var f=0;var g=0;var d=36;c.usepager?f+=53:null;c.resizable?g+=11:null;var e=[0,(SeeUtils.getElHeight(c.parentId)-f-g)/100*35,SeeUtils.getElHeight(c.parentId)-g-f-d];if(a=="up"){if(c.usepager){SeeUtils.hideEl(b.pDiv)}b.resizeGrid(e,"up")}else{if(a=="middle"){SeeUtils.showEl(b.pDiv);b.resizeGrid(e,"middle")}else{if(a=="down"){SeeUtils.showEl(b.pDiv);b.resizeGrid(e,"down")}else{return}}}c.UMD=a},200)};function _getHeaderThTrObj(c){var a=SeeUtils.getElByTag(c.hDiv,"thead");if(a.length>0){var b=SeeUtils.getElByTag(a[0],"tr");if(b.length>0){return b[0]}}return null}function _initColInfoByTheadTh(c,f,b,e,a){var h=0;var d=_getHeaderThTrObj(c);if(d!=null){SeeUtils.eachByTag(d,"th",function(j){var m="";var k=SeeUtils.getElByTagAndIndex(j,"div",0).style.width;var l=j.align;var g=SeeUtils.getAttrEl(j,"abbr");if(f.sortname==g&&f.sortname){m+='class="sorted" '}m+='align="'+l+'" ';m+='abbr="'+g+'"';if(j.hidden){m+='style="display:none"'}b.push(k);e.push(l);a.push(m);h++})}return h}function _addRowByData(A,o,n,c,l,z,u){for(var s=0;s<A.rows.length;s++){var g=A.rows[s];var b={};if(g.name){b.name=g.name.escapeHTML(false)}if(g.color){b.style="background:"+g.color}else{if(s%2&&o.striped){b["class"]="erow"}}if(g.disable){b["class"]=b["class"]+" graytr"}if(g[o.idProperty]){b.id="row"+g[o.idProperty]}var k=[];$.each(b,function(B,j){k.push(B);k.push("=");k.push('"'+j+'"')});var q=[];for(var r=0;r<n;r++){var a,f=o.colModel[r];if(typeof g.cell=="undefined"){a=g[f.name];if(a&&typeof a=="string"){a=a.escapeHTML(true,false)}}else{if(typeof g.cell[r]!="undefined"){a=(g.cell[r]!=null)?g.cell[r]:""}else{a=g.cell[f.name]}}if(a&&f.cutsize){a=a.substring(0,f.cutsize)}if(f.type=="checkbox"){a='<input type="checkbox" gridRowCheckBox="'+o.gridClassName+"\" class='noClick' onclick='_noClickType = false;' row=\""+s+'" value="'+a+'"/>'}else{if(f.type=="radio"){a='<input type="radio" gridRowCheckBox="'+o.gridClassName+"\" class='noClick' onclick='_noClickType = false;' row=\""+s+'" value="'+a+'" name="gridradio"/>'}else{if(o.render){var x=o._modesMap?o._modesMap[r]:r;a=o.render(a,g,s,Number(x),f)}}}if(a!=0&&(a===""||a===null||typeof a==="undefined")){a="&nbsp;"}if(a===""){a="&nbsp;"}var t=(o.colModel[r].codecfg);var w='<div class="text_overflow'+(t?" codecfg":"")+'"'+(t?' codecfg="'+t+'"':"")+' style="text-align:'+c[r]+";width:"+l[r]+""+((o.nowrap==false)?";white-space:normal":"")+'">'+a+"</div>";q.push("<td "+z[r]+">"+w+"</td>")}var m="trClick_"+o.id;var e="trMousedown_"+o.id;var d="trMouseup_"+o.id;var y="trMouseenter_"+o.id;var h="trMouseleave_"+o.id;u.push('<tr onclick="'+m+'(event,this)" onmousedown="'+e+'(event,this)" onmouseup="'+d+'(event)" onmouseenter="'+y+'(event,this)" onmouseleave="'+h+'(event,this)" '+k.join(" ")+">"+q.join("")+"</tr>")}}function _addCellTextTitle(a){SeeUtils.eachByTag(a,"div",function(b){var c=SeeUtils.trim(b.innerText);if(c.length>0){SeeUtils.attrEl(b,"title",c)}})}function _addRowClickEvent(c,b){if(c.click){var a="click_"+c.id;window[a]=function(j){var h=j.target||j.srcElement;if(h.tagName==="DIV"&&h.children.length===1&&h.children[0].type==="checkbox"){h=h.children[0]}if(h.className.indexOf("noClick")==-1){var f=SeeUtils.closestByTagName(h,"td");if(f==null){return}var g=f.parentNode;if(SeeUtils.hasClass(g,"graytr")){return}var d=SeeUtils.indexByTag(g,"td",f);var k=SeeUtils.indexByTag(b,"tr",g);if(k==-1){k=0}clearTimeout(timer);clearTimeout(grayTimer);if(SeeUtils.isIE8||SeeUtils.isIE7){c.click(c.datas.rows[k],k,d);timer=setTimeout(function(){SeeUtils.addClass(g,"graytr")},200)}else{timer=setTimeout(function(){if(c.datas.rows[k]){c.click(c.datas.rows[k],k,d);SeeUtils.addClass(g,"graytr")}},400)}grayTimer=setTimeout(function(){SeeUtils.removeClass(g,"graytr")},400)}};SeeUtils.attrEl(b,"onclick",a+"(event)")}}function _addRowDbClickEvent(c,b){if(c.dblclick){var a="Dbclick_"+c.id;window[a]=function(j){var h=j.target||j.srcElement;if(h.className.indexOf("noClick")==-1){var f=SeeUtils.closestByTagName(h,"td");if(f==null){return}var g=f.parentNode;if(SeeUtils.hasClass(g,"graytr")){return}var d=SeeUtils.indexByTag(g,"td",f);var k=SeeUtils.indexByTag(b,"tr",g);if(k==-1){k=0}clearTimeout(timer);clearTimeout(grayTimer);if(c.datas.rows[k]){c.dblclick(c.datas.rows[k],k,d)}}};SeeUtils.attrEl(b,"ondblclick",a+"(event)")}}function _unSelAllCheckBox(a){SeeUtils.eachByClass(a.hDiv,"grid_checkbox",function(b){SeeUtils.eachElsByTagAndProp(b,"input","type","checkbox",function(c){c.checked=false})})}MxtSeeGrid.prototype.addData=function(h){var j=this;var b=this.options;var o=this.tObj;_unSelAllCheckBox(j);h=$.extend({rows:[],page:0,total:0},h);b.datas=h;if(b.preProcess){h=b.preProcess(h)}SeeUtils.eachByClass(this.pDiv,"pReload",function(g){SeeUtils.removeClass(g,"loading")});this.loading=false;if(!h){if(SeeUtils.getElObj(b.id+"_pPageStat")!=null){SeeUtils.getElObj(b.id+"_pPageStat").innerHTML=b.procmsg}return false}if(!h.total){h.total=h.rows.length}b.total=h.total;if(b.total==0){$("tr, a, td, div",o).unbind();$(o).empty();b.pages=1;b.page=1;this.buildpager();if(SeeUtils.getElObj(b.id+"_pPageStat")!=null){SeeUtils.getElObj(b.id+"_pPageStat").innerHTML=b.procmsg}if(j.block!=null>0){SeeUtils.removeEl(j.block)}SeeUtils.appendTo("<div id='total_0_"+b.id+"'style='width:"+SeeUtils.getElWidth(b.id+"_hDivBox")+"px;height:1px'></div>",this.bDiv);if(b.onNoDataSuccess){b.onNoDataSuccess(this)}if(b.callBackTotle){b.callBackTotle(b.total)}this.rePosDrag();return false}else{var f=SeeUtils.getElObj("total_0_"+b.id);if(f!=null){SeeUtils.removeEl(f)}}b.pages=Math.ceil(b.total/b.rp);b.page=h.page;if(h.params){b.params=h.params}this.buildpager();var a=[];var e=[];var c=[];var l=[];var d=_initColInfoByTheadTh(j,b,e,c,l);_addRowByData(h,b,d,c,e,l,a);var m='<tbody id="list" class="hand">'+a.join("")+"</tbody>";if((SeeUtils.isIE&&!SeeUtils.isIE10)||(SeeUtils.isIE&&document.documentMode==8)||(SeeUtils.isIE10&&document.documentMode==9)){SeeUtils.innerHTMl(this.tObj,m);try{if(document.selection){if(document.selection.createRange()){var n=document.selection.createRange();n.collapse(true);n.select()}}}catch(k){}}else{o.innerHTML=m}_addCellTextTitle(o);_addRowClickEvent(b,o);_addRowDbClickEvent(b,o);this.addRowProp();this.rePosDrag();tbody=null;h=null;i=null;if(b.onSuccess){b.onSuccess(this)}if(b.callBackTotle){b.callBackTotle(b.total)}if(b.hideOnSubmit){SeeUtils.removeEl(j.block)}this.hDiv.scrollLeft=this.bDiv.scrollLeft;if(b.usepager){SeeUtils.setElWidth(b.id+"_hDivBox",parseFloat(SeeUtils.getElWidth(o))+20)}else{SeeUtils.setElWidth(b.id+"_hDivBox",parseFloat(SeeUtils.getElWidth(o)))}if(SeeUtils.isOpera){SeeUtils.css(this.tObj,"visibility","visible")}$(o).codetext()};MxtSeeGrid.prototype.changeSort=function(b){var a=this;var c=this.options;if(this.loading){return true}SeeUtils.hideEl(a.nDiv);SeeUtils.hideEl(a.nBtn);var d;c.onCurrentPageSort==true?d=SeeUtils.getAttrEl(b,"colmode"):d=SeeUtils.getAttrEl(b,"abbr");c.sortType=SeeUtils.getAttrEl(b,"sortType");if(c.sortname==d){if(c.sortorder=="asc"){c.sortorder="desc"}else{c.sortorder="asc"}}else{c.sortorder="asc"}SeeUtils.addClass("sorted");SeeUtils.eachBySiblings(b,function(e){SeeUtils.removeClass(e,"sorted")});SeeUtils.eachByClass(this.hDiv,"sdesc",function(e){SeeUtils.removeClass(e,"sdesc")});SeeUtils.eachByClass(this.hDiv,"sasc",function(e){SeeUtils.removeClass(e,"sasc")});SeeUtils.eachByTag(b,"div",function(e){SeeUtils.addClass(e,"s"+c.sortorder)});c.sortname=d;if(c.onCurrentPageSort){this.setSort(c.sortname,c.sortorder,c.sortType)}else{this.populate()}if(c.onChangeSort){c.onChangeSort(c.sortname,c.sortorder,c.sortType)}};MxtSeeGrid.prototype.buildpager=function(){var d=this;var e=this.options;SeeUtils.setElVal(e.id+"_page_number",e.page);if(SeeUtils.getElObj(e.id+"_total_page")!=null&&(typeof(e.noTotal)==="undefined"||typeof(e.noTotal)!="undefined"&&e.noTotal==false)){SeeUtils.getElObj(e.id+"_total_page").innerHTML=$.i18n("validate.grid.over_page4.js")+e.pages+$.i18n("validate.grid.over_page5.js")}var b=(e.page-1)*e.rp+1;var a=b+e.rp-1;if(e.total<a){a=e.total}var c=e.pagestat;c=c.replace(/{from}/,b);c=c.replace(/{to}/,a);c=c.replace(/{total}/,e.total);if(SeeUtils.getElObj(e.id+"_pPageStat")!=null){SeeUtils.getElObj(e.id+"_pPageStat").innerHTML=c}if(SeeUtils.getElObj(e.id+"_total_number")!=null&&(typeof(e.noTotal)==="undefined"||typeof(e.noTotal)!="undefined"&&e.noTotal==false)){SeeUtils.getElObj(e.id+"_total_number").innerHTML=$.i18n("validate.grid.over_page2.js")+e.total+$.i18n("validate.grid.over_page3.js")}};MxtSeeGrid.prototype.setSort=function(b,a,c){var d=this;var e=this.options;if($.trim(e.datas)==""){return}if(!e.datas.rows.sort){return}e.datas.rows.sort(function(g,f){var j=g[b];var h=f[b];if(c=="date"){j=Date.parse(j);h=Date.parse(h)}if(c=="number"){j=Number(j);h=Number(h)}if(c=="string"){if(j==null){j=""}else{j=""+j}if(h==null){h=""}else{h=""+h}var k=j.localeCompare(h);if(a=="desc"){return k}else{return k*-1}}else{if(a=="desc"){if(j<h){return -1}if(j>h){return 1}return 0}if(a=="asc"){if(j>h){return -1}if(j<h){return 1}return 0}}});this.addData(e.datas)},MxtSeeGrid.prototype.getCellDim=function(d){var f=this;var a=this.options;var k=parseInt(SeeUtils.getElHeight(d));var b=parseInt(SeeUtils.getElHeight(d.parentNode));var h=parseInt(d.style.width);var m=parseInt(SeeUtils.getElWidth(d.parentNode));var j=d.offsetParent.offsetTop;var c=d.offsetParent.offsetLeft;var l=parseInt(SeeUtils.getCss(d,"paddingLeft"));var e=parseInt(SeeUtils.getCss(d,"paddingTop"));return{ht:k,wt:h,top:j,left:c,pdl:l,pdt:e,pht:b,pwt:m}},MxtSeeGrid.prototype.combo_resetIndex=function(a){if(this.combo_flag){a.selectedIndex=0}this.combo_flag=true},MxtSeeGrid.prototype.combo_doSelectAction=function(selObj){var g=this;var p=this.options;eval(selObj.options[selObj.selectedIndex].value);selObj.selectedIndex=0;this.combo_flag=false};MxtSeeGrid.prototype.getSelectRows=function(){var c=this;var e=this.options;var b=this.tObj;var a=$(b).find("input[gridRowCheckBox="+e.gridClassName+"]:checked");if(a.length<=0){$(b).find("input[gridRowCheckBox="+e.gridClassName+"]").each(function(){var f=$(this).attr("checked");if(f){a.push($(this))}})}var d=[];a.each(function(){var f=SeeUtils.getAttrEl(this,"row");d.push(e.datas.rows[f])});return d};MxtSeeGrid.prototype.getPageRows=function(){var a=this;var c=this.options;var b=[];SeeUtils.eachElsByTagAndProp(this.tObj,"input","gridRowCheckBox",c.gridClassName,function(e){var d=SeeUtils.getAttrEl(e,"row");b.push(c.datas.rows[d])});return b};MxtSeeGrid.prototype.resizeGridAuto=function(){var b=this;var d=this.options;if(d.parentId!=null){var c=0;var a=36;d.usepager?c+=53:null;d.resizable?c+=11:null;this.resizeGrid(SeeUtils.getElHeight(d.parentId)-c-a,"auto");SeeUtils.setElWidth(d.id,SeeUtils.getElWidth(d.parentId))}else{SeeUtils.setElWidth(d.id,d.width);this.resizeGrid(d.height-d.usepager,"auto")}};MxtSeeGrid.prototype._initGridContainer=function(){var e=this.options;var d=this;var b="gDiv_Mouseenter"+e.id;window[b]=function(){SeeUtils.hideEl(d.nDiv);SeeUtils.hideEl(d.nBtn)};function f(){var g="";if(SeeUtils.isIE){g+=" ie"}if(e.novstripe){g+=" novstripe"}return g}var c="<div id='"+e.id+"' onmouseenter='"+b+"()' class='"+(e.dataTable?"flexigrid dataTable":"flexigrid")+" "+f()+"'></div>";SeeUtils.insertBefore(c,this.tObj);var a=document.getElementById(e.id);if(e.width!="auto"){if(isNaN(e.width)){a.style.width=e.width}else{a.style.width=e.width+"px"}}a.appendChild(this.tObj);this.gDiv=a;return this.gDiv};MxtSeeGrid.prototype._addGridHeader=function(){var b=this;var c=this.options;var a="<div class='hDiv' id='"+c.id+"_hDiv'><div class='hDivBox' id='"+c.id+"_hDivBox' style='width:100%'><table id='"+c.id+"_h_table' cellPadding='0' cellSpacing='0'></table></div></div>";SeeUtils.insertBefore(a,this.tObj);this.hDiv=document.getElementById(c.id+"_hDiv");b.hDiv=this.hDiv;b.hTable=document.getElementById(c.id+"_h_table");c.holewidth=SeeUtils.getElWidth(b.hDiv)};MxtSeeGrid.prototype._addGridBody=function(){var e=this.options;var c=this;var d="nBtn_Mouseenter"+e.id;window[d]=function(){SeeUtils.hideEl(c.nDiv);SeeUtils.hideEl(c.nBtn);SeeUtils.removeClass(c.nBtn,"set_col")};var a="nBtn_Mouseleave"+e.id;window[a]=function(){if(c.multisel){c.multisel=false}};var b="<div class='bDiv' onmouseleave='"+a+"()' onmouseenter='"+d+"()'  id='"+e.gridClassName+"_bDiv'></div>";SeeUtils.insertBefore(b,this.tObj);this.bDiv=document.getElementById(e.gridClassName+"_bDiv");return this.bDiv};MxtSeeGrid.prototype._initTableHeight=function(){var c=this.options;if(c.parentId!=null){var b=0;var d=0;c.usepager?b+=52:null;c.resizable?d+=11:null;c.height=SeeUtils.getElHeight(c.parentId)-b-d-c.heightSubtract;if(c.vChange){var a=SeeUtils.getElObj(c.vChangeParam.changeTar);if(a!=null){SeeUtils.setElHeight(a,0)}}}};MxtSeeGrid.prototype._initThEvent=function(){var d=this;var e=this.options;if(!e.colmodel){var b=0}var f="ThClick"+e.id;window[f]=function(j,g){if(SeeUtils.getAttrEl(g,"abbr")==null||typeof(SeeUtils.getAttrEl(g,"abbr"))==="undefined"){return false}var h=(j.target||j.srcElement);if(h.href||h.type){return true}d.changeSort(g)};var a="ThMouseenter"+e.id;window[a]=function(w){if(!d.colresize&&!SeeUtils.hasClass(w,"thMove")&&!d.colCopy){SeeUtils.addClass(w,"thOver")}if(SeeUtils.getAttrEl(w,"abbr")!=e.sortname&&!d.colCopy&&!d.colresize&&SeeUtils.getAttrEl(w,"abbr")){SeeUtils.eachByTag(w,"div",function(l){SeeUtils.addClass(l,"s"+e.sortorder)})}else{if(SeeUtils.getAttrEl(w,"abbr")==e.sortname&&!d.colCopy&&!d.colresize&&SeeUtils.getAttrEl(w,"abbr")){var s=(e.sortorder=="asc")?"desc":"asc";SeeUtils.eachByTag(w,"div",function(l){SeeUtils.removeClass(l,"s"+e.sortorder);SeeUtils.addClass(l,"s"+e.no)})}}if(d.colCopy){var k=SeeUtils.indexByTag(d.hDiv,"th",w);if(k==d.dcoln){return false}if(k<d.dcoln){$(w).append(d.cdropleft)}else{$(w).append(d.cdropright)}d.dcolt=k}else{if(!d.colresize){var q=_getVisibleThIndex(d,w);var r=SeeUtils.getElByTagAndIndex(d.cDrag,"div",q);var j=0;if(r!=null){j=parseInt(SeeUtils.getCss(r,"left"))}var o=jQuery(d.nBtn).outerWidth();var g=j-o+Math.floor(e.cgwidth/2);var h=SeeUtils.isIE&&SeeUtils.isIE7&&(e.colModel[0].type=="checkbox");if(h){g+=5*q}SeeUtils.hideEl(d.nDiv);SeeUtils.hideEl(d.nBtn);SeeUtils.css(d.nBtn,"left",g);SeeUtils.css(d.nBtn,"top",d.hDiv.offsetTop+1);SeeUtils.showEl(d.nBtn);var u=parseInt(SeeUtils.getElWidth(d.nDiv));SeeUtils.css(d.nDiv,"top",d.bDiv.offsetTop-1);if((g+u)>SeeUtils.getElWidth(d.gDiv)){var m=j-u+1;SeeUtils.css(d.nDiv,"left",m)}else{SeeUtils.css(d.nDiv,"left",g-5)}if(SeeUtils.hasClass(w,"sorted")){SeeUtils.addClass(d.nBtn,"srtd")}else{SeeUtils.removeClass(d.nBtn,"srtd")}}}};var c="ThMouseleave"+e.id;window[c]=function(h){SeeUtils.removeClass(h,"thOver");var g=SeeUtils.getAttrEl(h,"abbr");if(g!=e.sortname){SeeUtils.eachByTag(h,"div",function(k){SeeUtils.removeClass(k,"s"+e.sortorder)})}else{if(g==e.sortname){var j=(e.sortorder=="asc")?"desc":"asc";SeeUtils.eachByTag(h,"div",function(k){SeeUtils.addClass(k,"s"+e.sortorder);SeeUtils.removeClass(k,"s"+e.no)})}}if(d.colCopy){SeeUtils.removeEl(d.cdropleft);SeeUtils.removeEl(d.cdropright);d.dcolt=null}};this._changeThTdObj(b)};MxtSeeGrid.prototype._changeThTdObj=function(b){var c=this;var d=this.options;var a=SeeUtils.getElByTag(c.hDiv,"thead");$("thead tr:first th",c.hDiv).each(function(){var e=document.createElement("div");if($(this).attr("abbr")){if($(this).attr("abbr")==d.sortname){this.className="sorted";e.className="s"+d.sortorder}}if(this.hidden){$(this).hide()}if(!d.colmodel){$(this).attr("axis","col"+b++)}$(e).css({textAlign:this.align,width:this.width+"px"});e.innerHTML=this.innerHTML;$(this).empty().append(e).removeAttr("width").mousedown(function(f){c.dragStart("colMove",f,this)})})};function _parseOrder(b){var a={u:b,u_width:-1};var c=b.split("#");a.u=c[0];if(c.length>1){a.u_width=c[1]}return a}MxtSeeGrid.prototype._initColWidth=function(e,d,b,a,h,g){for(var c=0;c<e.length;c++){var f=e[c];if(f.name==d.u){if(d.u_width!=(-1)){if(!h){f.width=d.u_width;f.hide=false}}else{f.hide=true}a[b.length]=c;if(f.hide==undefined){if(!(f.isToggleHideShow!==undefined&&f.hide&&!f.isToggleHideShow)){f.hide=((g[d.u]===0||g[d.u]==="0")&&(!h))?true:false}}b.push(f)}}};MxtSeeGrid.prototype._initAddNewCol=function(e,f,a,c){for(var b=0;b<e.length;b++){var d=e[b];if(!f.contains(d.name)){a[c.length]=b;c.push(d)}}};function _getColWidth(b,h,e){var d=null;if(h.gridType==="autoGrid"){var a=SeeUtils.getElWidth(e.bDiv);if(!e.hasScrollerFlag){var c=((h.holewidth-20-h.colModel.length*12)*parseInt(b.width)/e.summaryWidth);if(SeeUtils.isIE8){b.width=c-4}else{b.width=c}d=b.width}else{d=b.width-10}}else{if(b.width){var f=b.width+"";if(f.indexOf("%")>-1){var c=(h.holewidth-10)*parseInt(f)/100;b.width=c-10;d=b.width}else{d=b.width-10}}}return d}MxtSeeGrid.prototype._initHeaderLabel=function(a){var c=this.options;var b="";if(a.display!=undefined){if(a.type=="checkbox"){b="<input  type='checkbox' onclick=\"getGridSetAllCheckBoxSelect123456(this,'"+c.gridClassName+"')\"/>"}else{if(a.type=="radio"){b=""}else{b=a.display}}}return b};var colWidthMapping={smallest:50,small:80,medium:140,big:300};function _initAutoGridColInfo(e,d){var f=SeeUtils.getElWidth(d.bDiv);if(e.gridType==="autoGrid"){var h=0;var b=0;for(var c=0;c<e.colModel.length;c++){var a=e.colModel[c];if(!AssertUtils.isNumber(a.width)){a.width=colWidthMapping[a.width]}h=parseFloat(h)+parseFloat(a.width)}d.summaryWidth=h;if(h>f){d.hasScrollerFlag=true}else{d.hasScrollerFlag=false}}}MxtSeeGrid.prototype.addGridTh=function(k){var h=this;var a=this.options;var s="ThClick"+a.id;var m="ThMouseenter"+a.id;var t="ThMouseleave"+a.id;var f=[];_initAutoGridColInfo(a,h);for(var d=0;d<a.colModel.length;d++){var q=a.colModel[d];var l="";if(q){var c=this._initHeaderLabel(q);q.sortType=q.sortType?q.sortType:"string";var r=q.isToggleHideShow==undefined?true:q.isToggleHideShow;if(q.name=="id"||q.name=="name"||q.name=="title"){r=false}if(q.name&&q.sortable){l=" abbr='"+(q.sortname?q.sortname:q.name)+"'"}if(q.align==undefined){q.align="left"}var o=_getColWidth(q,a,h);var j="";if(q.hide){j=" hide=true "}var n="";if(q.process){n=" process="+q.process+""}var b="";if(q.type=="checkbox"){b=" class='grid_checkbox' "}f.push("<th align='"+q.align+"' width='"+o+"' isToggleHideShow='"+r+"' colMode='"+q.name+"' sortType='"+q.sortType+"' axis='col"+d+"'  "+b+"  "+j+"  "+n+"  "+l+" onclick='"+s+"(event,this)' onmouseenter='"+m+"(this)' onmouseleave='"+t+"(this)'>"+c+"</th>")}else{f.push("<th width='30' axis='col"+d+"' onclick='"+s+"(event,this)' onmouseenter='"+m+"(this)' onmouseleave='"+t+"(this)'></th>")}}var e="<thead id='"+k+"'><tr>"+f.join("")+"</tr></thead>";SeeUtils.innerHTMl(this.tObj,e);this._initThProp(k)};MxtSeeGrid.prototype._initThProp=function(a){SeeUtils.eachByTag(a,"th",function(b){var c=SeeUtils.getAttrEl(b,"hide");if(c==="true"||c===true){b.hidden=true}var d=SeeUtils.getAttrEl(b,"process");if(d==="true"||d===true){b.process=true}var e=SeeUtils.getAttrEl(b,"align");if(AssertUtils.isNotEmpty(e)){b.align=e}else{b.align="left"}})};MxtSeeGrid.prototype._setColInfoByDsCol=function(l,b){var f=this;var a=this.options;if(a.customId&&l){l=$.parseJSON(l);l=l[a.customId];if(l&&!(l instanceof Array)){var d=[],k={},h=[];var c=l.__ORDER;if(l.resetWidth!=undefined){b=l.resetWidth}if(c&&(!b)){for(var e=0;e<c.length;e++){var j=_parseOrder(c[e]);if(j.u===""){return}h.push(j.u);this._initColWidth(a.colModel,j,d,k,b,l)}}this._initAddNewCol(a.colModel,h,k,d);a.colModel=d;a._modesMap=k}}else{l=null}};function __saveToLocalStorage(a,b){if(window.localStorage){var c=window.localStorage;c.setItem("vPortal_customize_grid_pref",b)}}function __getGridPrefFromLocalStorage(){if(window.localStorage){var a=window.localStorage;return a.vPortal_customize_grid_pref}else{return null}}MxtSeeGrid.prototype._loadGridPrefFromLocalStorage=function(b){var a=__getGridPrefFromLocalStorage();if(a!=null){this._setColInfoByDsCol(a,b)}};function __getPrefStr(d,b,a,c){var e={};if(d){e=$.parseJSON(d)}var g=e[b];if(g==undefined||g==null||g==""){g={}}if(a){g.resetWidth=true}else{g.__ORDER=c}e[b]=g;var f=$.toJSON(e);return f}MxtSeeGrid.prototype._initGridHeaderLabel=function(){var e=this.options;var a=this;var d;var c=SeeUtils.getUUid();if($.ctx){d=$.ctx._currentPathId}if(d&&!e.customId){e.customId=d}var h=false;if(e.colModel){if(getCtpTop().vPortal&&e.customize&&getCtpTop().vPortal.customize){var f=getCtpTop().vPortal.customize.grid_pref;this._setColInfoByDsCol(f,h)}else{this._loadGridPrefFromLocalStorage(h)}this.addGridTh(c)}this.hTable_thId=c;var b=SeeUtils.getElObj(c);if(b){SeeUtils.appendTo(b,a.hTable)}b=null};MxtSeeGrid.prototype.addTopBottomVGrip=function(){var d=this;var e=this.options;var c="downVGrip";window[c]=function(g){if(!SeeUtils.isIE8){d.dragStart("vresize",g)}};var a="slideToggleUpHandle"+e.id;var h="slideToggleDownHandle"+e.id;if(e.resizable&&e.height!="auto"){var f="";if(e.slideToggleBtn){f="<div class='vGrip_line'><table align='center' border='0' cellpadding='0' cellspacing='0' height='7'><tr><td align='center'><span onclick='"+a+"()' class='slideUpBtn spiretBarHidden4'><em></em></span><span onclick='"+h+"()' class='slideDownBtn spiretBarHidden3' style='border-left:0;'><em></em></span></td></tr></table></div>"}else{f="<span id='dragBtn'></span>"}var b='<div class="vGrip" id="'+e.id+'vGrip" onmousedown="'+c+'(event)">'+f+"</div>";SeeUtils.insertAfter(b,d.bDiv);d.vDiv=document.getElementById(e.id+"vGrip");if(SeeUtils.isIE8){$(d.vDiv).mousedown(function(g){d.dragStart("vresize",g)})}if(e.slideToggleBtn){window[a]=function(){e.slideToggleUpHandle(e,d)};window[h]=function(){e.slideToggleDownHandle(e,d)}}else{window[a]=function(){};window[h]=function(){}}}};MxtSeeGrid.prototype.addLeftRightVGrip=function(){var c=this;var e=this.options;var a="rDivDown";window[a]=function(f){if(!SeeUtils.isIE8){c.dragStart("vresize",f,true)}};if(e.resizable&&e.width!="auto"&&!e.nohresize){var b=SeeUtils.getUUid();var d="<div id='"+b+"' style='height: "+SeeUtils.getElHeight("g.gDiv")+"px' class='hGrip' onmousedown='"+a+"(event)'><span></span></div>";SeeUtils.appendTo(d,c.gDiv);this.rDiv=SeeUtils.getElObj(b)}if(SeeUtils.isIE8){$("#"+b).mousedown(function(f){c.dragStart("vresize",f,true)})}};MxtSeeGrid.prototype._loadData=function(){var b=this.options;var a=this;if(b.managerName){$("head").append("<script src='"+_ctxPath+"/ajax.do?managerName="+b.managerName+CsrfGuard.getUrlSurffix()+"' type='text/javascript'><\/script>")}if(b.datas&&b.autoload){a.populate()}};MxtSeeGrid.prototype._endGridInit=function(){var e=this;var f=this.options;this.tObj.p=f;this.tObj.grid=e;$(this.tObj).attrObj("_grid",e);if($._autofill){var c=this.tObj.id;var b=$._autofill,a=b.filllists;if(a&&a[c]){a[c].rows=a[c].data;e.addData(a[c]);a[c]=null}else{var h=_getTableObj(e,e.hDiv);var d=_getTableObj(e,e.bDiv);if(h!=null&&d!=null){SeeUtils.setElHeight(d,SeeUtils.getElHeight(h));SeeUtils.setElWidth(d,SeeUtils.getElWidth(h))}}}};function _getTableObj(b,c){var a=SeeUtils.getElByTag(c,"table");if(a.length>0){return a[0]}}MxtSeeGrid.prototype._addEditorLayer=function(){var d=this.options;var b=this;var c=SeeUtils.getUUid();var a="<div class='iDiv' id='"+c+"' style='display: none'></div>";SeeUtils.appendTo(a,b.bDiv);b.iDiv=SeeUtils.getElObj()};MxtSeeGrid.prototype._initDocumentEvents=function(){var a=this;if(SeeUtils.isIE8||SeeUtils.isIE9||SeeUtils.isIE10){$(document).mousemove(function(b){a.dragMove(b)})}else{SeeUtils.addEvent(document,"mousemove",function(b){a.dragMove(b)})}SeeUtils.addEvent(document,"mousemove",function(b){a.dragMove(b)});SeeUtils.addEvent(document,"mouseup",function(b){a.dragEnd()});SeeUtils.addEvent(document,"hover",function(b){a.dragEnd()})};MxtSeeGrid.prototype.addLinDrap=function(){var q=this;var n=this.options;q.cDrag=document.createElement("div");var r=_getHeaderThTrObj(q);var f=null;if(r!=null){var b=SeeUtils.getElByTag(r,"th");if(b.length>0){f=b[0]}}if(f!=null){var j=SeeUtils.getElByTag(f,"div");var l=null;if(j.length>0){l=j[0]}if(l!=null){var c=SeeUtils.getCss(l,"borderLeftWidth");var w=SeeUtils.getCss(l,"borderRightWidth");var t=SeeUtils.getCss(l,"paddingLeft");var a=SeeUtils.getCss(l,"paddingRight");var m=SeeUtils.getCss(f,"borderLeftWidth");var k=SeeUtils.getCss(f,"borderRightWidth");var u=SeeUtils.getCss(f,"paddingLeft");var o=SeeUtils.getCss(f,"paddingRight");q.cDrag.className="cDrag";q.cdpad=0;q.cdpad+=(isNaN(parseInt(c))?0:parseInt(c));q.cdpad+=(isNaN(parseInt(w))?0:parseInt(w));q.cdpad+=(isNaN(parseInt(t))?0:parseInt(t));q.cdpad+=(isNaN(parseInt(a))?0:parseInt(a));q.cdpad+=(isNaN(parseInt(m))?0:parseInt(m));q.cdpad+=(isNaN(parseInt(k))?0:parseInt(k));q.cdpad+=(isNaN(parseInt(u))?0:parseInt(u));q.cdpad+=(isNaN(parseInt(o))?0:parseInt(o))}SeeUtils.insertBefore(q.cDrag,q.bDiv);var e=SeeUtils.getElHeight(q.bDiv);var d=SeeUtils.getElHeight(q.hDiv);SeeUtils.css(q.cDrag,"top",-d+"px");var s="cgMouseDownId_"+n.id;window[s]=function(x,g){q.dragStart("colresize",x,g)};var h="cgDbClickDownId_"+n.id;window[h]=function(x,g){q.autoResizeColumn(g)};var r=_getHeaderThTrObj(q);SeeUtils.eachByTag(r,"th",function(){var x=SeeUtils.getUUid();var g='<div class="cgDiv" id="'+x+'" onmousedown="'+s+'(event,this)" ondblclick="'+h+'(event,this)" style="height: '+(e+d)+'px"></div>';SeeUtils.appendTo(g,q.cDrag);if(!n.cgwidth){n.cgwidth=SeeUtils.getElWidth(x)}})}};MxtSeeGrid.prototype.addVGrip=function(){this.addTopBottomVGrip();this.addLeftRightVGrip()};MxtSeeGrid.prototype.initGridBodyProp=function(){var a=this;var b=this.options;if(b.hChange){var c=SeeUtils.getElObj(a.gDiv).parentNode;SeeUtils.css(c,"overflow","hidden");b.height=c.height()-b.hChangeParam.subHeight}if(b.height<50){b.height="auto"}SeeUtils.css(a.bDiv,"height",(b.height=="auto")?"auto":b.height-37+"px");SeeUtils.addEvent(a.bDiv,"scroll",function(d){if(SeeUtils.isIE8){if(a.finished){setTimeout(function(){a.hDiv.scrollLeft=a.bDiv.scrollLeft;a.rePosDrag();a.finished=true},200);a.finished=false}}else{a.scroll()}});SeeUtils.appendTo(this.tObj,a.bDiv);if(b.height=="auto"){SeeUtils.eachByTag(a.bDiv,"table",function(d){SeeUtils.addClass(d,"autoht")})}};function __initVChangeParam(a){if(a.vChangeParam.changeTar==undefined){a.vChangeParam.changeTar="grid_detail"}if(a.vChangeParam.overflow==undefined){a.vChangeParam.overflow="auto"}if(a.vChangeParam.subHeight==undefined){a.vChangeParam.subHeight=0}if(a.vChangeParam.autoResize==undefined){a.vChangeParam.autoResize=true}}function __slideToggleUpHandle(b,a){if(b.UMD=="down"){b.UMD="middle"}else{if(b.UMD=="middle"){b.UMD="up"}else{if(b.UMD=="up"){a.resizeGridUpDown(b.UMD)}}}a.resizeGridUpDown(b.UMD)}function __slideToggleDownHandle(b,a){if(b.UMD=="down"){a.resizeGridUpDown(b.UMD)}else{if(b.UMD=="middle"){b.UMD="down"}else{if(b.UMD=="up"){b.UMD="middle"}}}a.resizeGridUpDown(b.UMD)}(function(a){a.addFlex=function(c,f){if(typeof(c)==="undefined"){return}if(c.grid){return c}var d=true;var e=new MxtSeeGrid(c);e.extendOptions(f);e.initGridCtl();return c};var b=false;a(document).ready(function(){b=true});a.fn.ajaxgrid=function(c){return a.addFlex(this[0],c)};a.fn.resizeGrid=function(c){return};a.fn.getSelectCheckbox=function(){var d=this[0].className;var c=this[0].className+"_bDiv";return a("."+d).find("input[gridRowCheckBox="+d+"]:checked")};a.fn.flexReload=function(c){return this.each(function(){if(this.grid&&this.p.managerName){this.grid.populate()}})};a.fn.flexOptions=function(c){return this.each(function(){if(this.grid){a.extend(this.p,c)}})};a.fn.flexToggleCol=function(d,c){return this.each(function(){if(this.grid){this.grid.toggleCol(d,c)}})};a.fn.ajaxgridLoad=function(c){return this.each(function(){if(this.grid){if(typeof(this.p.noTotal)==="undefined"||typeof(this.p.noTotal)!="undefined"&&this.p.noTotal==false){this.grid.populate(c)}else{this.p.newp=1;this.grid.populate(c)}}})};a.fn.ajaxgridData=function(c){return this.each(function(){if(this.grid){this.grid.addData(c)}})};a.fn.noSelect=function(d){var c=(d==null)?true:d;if(c){return this.each(function(){if(SeeUtils.isIE||SeeUtils.isSafari){a(this).bind("selectstart",function(){return false})}else{if(SeeUtils.isFF){a(this).css("MozUserSelect","none");a("body").trigger("focus")}else{if(SeeUtils.isOpera){a(this).bind("mousedown",function(){return false})}else{a(this).attr("unselectable","on")}}}})}else{return this.each(function(){if(SeeUtils.isIE||SeeUtils.isSafari){a(this).unbind("selectstart")}else{if(SeeUtils.isFF){a(this).css("MozUserSelect","inherit")}else{if(SeeUtils.isOpera){a(this).unbind("mousedown")}else{a(this).removeAttr("unselectable","on")}}}})}};a.fn.flexSearch=function(c){return this.each(function(){if(this.grid&&this.p.searchitems){this.grid.doSearch()}})}})(jQuery);function getGridSetAllCheckBoxSelect123456(b,a){if($(b).prop("checked")){$(".flexigrid").find("input[gridRowCheckBox="+a+"]").not("input[type=checkbox][disabled]").prop("checked",true)}else{$(".flexigrid").find("input[gridRowCheckBox="+a+"]").prop("checked",false)}if(typeof(gridSelectAllPersonalFunction)=="function"){gridSelectAllPersonalFunction($(b).prop("checked"))}}function MxtLayout(a){var d={id:a.id,spritHeight:a.spritHeight==null?7:a.spritHeight,borderWidth:a.borderWidth==null?1:a.borderWidth,northArea:a.northArea,southArea:a.southArea,eastArea:a.eastArea,westArea:a.westArea,centerArea:a.centerArea,successFn:a.successFn,setCallFun:a.setCallFun==null?function(){}:a.setCallFun,moveCallFun:a.moveCallFun==null?function(){}:a.moveCallFun,isFixLayout:(a.isFixLayout==null||a.isFixLayout==undefined)?true:a.isFixLayout,disableDrag:(a.disableDrag==undefined)?false:true,spiretBarN:function(){if(a.northArea){if(a.northArea.spiretBar){if(a.northArea.spiretBar.show){return a.northArea.spiretBar}}}return false}(),spiretBarS:function(){if(a.southArea){if(a.southArea.spiretBar){if(a.southArea.spiretBar.show){return a.southArea.spiretBar}}}return false}(),spiretBarE:function(){if(a.eastArea){if(a.eastArea.spiretBar){if(a.eastArea.spiretBar.show){return a.eastArea.spiretBar}}}return false}(),spiretBarW:function(){if(a.westArea){if(a.westArea.spiretBar){if(a.westArea.spiretBar.show){return a.westArea.spiretBar}}}return false}()};var b={init:function(f){b.height=SeeUtils.getElHeight(b.mainObj);if(SeeUtils.isIE8&&getCtpTop()!=null&&getCtpTop().vPortal!=null){var g;var e=getCtpTop().document.getElementById("breadcrumb");if(e){g=e.offsetHeight}else{g=0}if(e&&parseFloat(g)===0&&getCtpTop().vPortal.showLocation){b.height=b.height-40}}b.width=SeeUtils.getElWidth(b.mainObj);b._100=b.width;b._m_height=b.height-d.nHeight-d.sHeight-d.spritHeight*b._h_spritSize;b._m_top=d.nHeight+d.spritHeight*(d.northFlag==2?1:0);b._c_width=b._100-d.spritHeight*b._w_spritSize-d.eWidth-d.wWidth;b._c_left=d.wWidth+d.spritHeight*(d.westFlag==2?1:0);f.__initNorth(b,d);f.__initEast(b,d);f.__initCenter(b,d);f.__initWest(b,d);f.__initSouth(b,d)},fixLayout:function(f,e,j){var g=false;if(j=="north"){var h=SeeUtils.getElHeight(b.nObj)+d.borderWidth*(d.northBorder?2:0)+e;d.northArea.minHeight=d.northArea.minHeight==null?20:d.northArea.minHeight;d.northArea.maxHeight=d.northArea.maxHeight==null?100:d.northArea.maxHeight;if(h<d.northArea.minHeight){d.nHeight=d.northArea.minHeight;g=true}else{if(h>d.northArea.maxHeight){d.nHeight=d.northArea.maxHeight;g=true}else{d.nHeight=h}}b._m_height=b.height-d.nHeight-d.sHeight-d.spritHeight*b._h_spritSize;b._m_top=d.nHeight+d.spritHeight*(d.northFlag==2?1:0);SeeUtils.setElHeight(b.nObj,(d.nHeight-d.borderWidth*(d.northBorder?2:0))+"px");if(g){SeeUtils.css(b.northSpObj,"top",d.nHeight+"px")}if(b.eObj!=null){SeeUtils.cssByJson(b.eObj,{height:b._m_height-d.borderWidth*(d.eastBorder?2:0),top:b._m_top});SeeUtils.cssByJson(b.eastSpObj,{height:(b._m_height+d.borderWidth*(d.eastBorder?2:0))+"px",top:b._m_top})}if(b.cObj!=null){SeeUtils.cssByJson(b.cObj,{height:b._m_height-d.borderWidth*(d.centerBorder?2:0),top:b._m_top})}if(b.wObj!=null){SeeUtils.cssByJson(b.wObj,{height:b._m_height-d.borderWidth*(d.westBorder?2:0),top:b._m_top});SeeUtils.cssByJson(b.westSpObj,{height:(b._m_height+d.borderWidth*(d.westBorder?2:0))+"px",top:b._m_top})}}else{if(j=="south"){var h=SeeUtils.getElHeight(b.sObj)+d.borderWidth*(d.southBorder?2:0)-e;d.southArea.minHeight=d.southArea.minHeight==null?20:d.southArea.minHeight;d.southArea.maxHeight=d.southArea.maxHeight==null?100:d.southArea.maxHeight;if(h<d.southArea.minHeight){d.sHeight=d.southArea.minHeight;g=true}else{if(h>d.southArea.maxHeight){d.sHeight=d.southArea.maxHeight;g=true}else{d.sHeight=h}}b._m_height=b.height-d.nHeight-d.sHeight-d.spritHeight*b._h_spritSize;b._m_top=d.nHeight+d.spritHeight*(d.northFlag==2?1:0);SeeUtils.cssByJson(b.sObj,{height:(d.sHeight-d.borderWidth*(d.southBorder?2:0))+"px",top:(b.height-d.sHeight)+"px"});if(g){SeeUtils.css(b.southSpObj,"top",(b.height-d.sHeight-d.spritHeight)+"px")}if(b.eObj!=null){SeeUtils.cssByJson(b.eObj,{height:(b._m_height-d.borderWidth*(d.eastBorder?2:0))+"px",top:b._m_top+"px"});SeeUtils.cssByJson(b.eastSpObj,{height:(b._m_height+d.borderWidth*(d.eastBorder?2:0))+"px",top:b._m_top+"px"})}if(b.cObj!=null){SeeUtils.cssByJson(b.cObj,{height:b._m_height-d.borderWidth*(d.centerBorder?2:0),top:b._m_top})}if(b.wObj!=null){SeeUtils.cssByJson(b.wObj,{height:b._m_height-d.borderWidth*(d.westBorder?2:0),top:b._m_top});SeeUtils.cssByJson(b.westSpObj,{height:(b._m_height+d.borderWidth*(d.westBorder?2:0))+"px",top:b._m_top})}}else{if(j=="west"){var h=SeeUtils.getElWidth(b.wObj)+d.borderWidth*(d.westBorder?2:0)+f;d.westArea.minWidth=d.westArea.minWidth==null?20:d.westArea.minWidth;d.westArea.maxWidth=d.westArea.maxWidth==null?250:d.westArea.maxWidth;if(h<d.westArea.minWidth){d.wWidth=d.westArea.minWidth;g=true}else{if(h>d.westArea.maxWidth){d.wWidth=d.westArea.maxWidth;g=true}else{d.wWidth=h;if(isNaN(h)&&this.hresize.sx>d.westArea.maxWidth){d.wWidth=d.westArea.maxWidth;g=true}else{if(isNaN(h)&&this.hresize.sx<d.westArea.maxWidth){d.wWidth=this.hresize.sx;g=true}}if(!isNaN(h)&&this.hresize.sx<d.westArea.maxWidth){d.wWidth=h;g=true}else{if(!isNaN(h)&&this.hresize.sx>d.westArea.maxWidth){d.wWidth=h;g=true}}}}b._c_width=b._100-d.spritHeight*b._w_spritSize-d.eWidth-d.wWidth;b._c_left=d.wWidth+d.spritHeight*(d.westFlag==2?1:0);SeeUtils.setElWidth(b.wObj,d.wWidth-d.borderWidth*(d.westBorder?2:0));if(g){SeeUtils.css(b.westSpObj,"left",d.wWidth+"px")}SeeUtils.cssByJson(b.cObj,{width:(b._c_width-d.borderWidth*(d.centerBorder?2:0))+"px",left:b._c_left+"px"})}else{if(j=="east"){var h=SeeUtils.getElWidth(b.eObj)+d.borderWidth*(d.eastBorder?2:0)-f;d.eastArea.minWidth=d.eastArea.minWidth==null?20:d.eastArea.minWidth;d.eastArea.maxWidth=d.eastArea.maxWidth==null?250:d.eastArea.maxWidth;if(h<d.eastArea.minWidth){d.eWidth=d.eastArea.minWidth;g=true}else{if(h>d.eastArea.maxWidth){d.eWidth=d.eastArea.maxWidth;g=true}else{d.eWidth=h}}b._c_width=b._100-d.spritHeight*b._w_spritSize-d.eWidth-d.wWidth;b._c_left=d.wWidth+d.spritHeight*(d.westFlag==2?1:0);SeeUtils.cssByJson(b.eObj,{width:d.eWidth-d.borderWidth*(d.eastBorder?2:0),left:(b.width-d.eWidth)+"px"});if(g){SeeUtils.css(b.eastSpObj,"left",(b.width-d.eWidth-d.spritHeight)+"px")}SeeUtils.cssByJson(b.cObj,{width:(b._c_width-d.borderWidth*(d.centerBorder?2:0))+"px",left:b._c_left+"px"})}}}}},dragStart:function(j,h,g,k){if(d.disableDrag){return}if(j=="h"){var f=false;if(g){f=true;SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","row-resize")}d.move=g;this.hresize={t:parseInt(g.style.top),l:parseInt(g.style.left),sy:h.pageY,sx:h.pageX,hgo:f,direct:k}}$("<div class='layout_mask'></div>").css({position:"absolute",background:"#ffffff",width:$("#"+d.id).width()+"px",height:$("#"+d.id).height()+"px","z-index":2,top:0,left:0,"-moz-opacity":0,opacity:0}).prependTo($("body"));$("body").noSelect()},dragMove:function(j){if(this.hresize){var g=this.hresize;var k=j.pageY;var h=k-g.sy;if(g.hgo){var f=j.pageX;this.hresize.xdiff=f-g.sx;this.hresize.ydiff=k-g.sy;if(this.hresize.direct=="north"||this.hresize.direct=="south"){SeeUtils.css(d.move,"top",g.t+this.hresize.ydiff)}else{SeeUtils.css(d.move,"left",g.l+this.hresize.xdiff)}}g=null}},dragEnd:function(){if(this.hresize){this.fixLayout(this.hresize.xdiff,this.hresize.ydiff,this.hresize.direct);d.setCallFun({offsetX:this.hresize.xdiff,offsetY:this.hresize.ydiff});this.hresize=false}d.move=null;var e=document.querySelector(".layout_mask");if(e!=null){SeeUtils.removeEl(e)}SeeUtils.css(SeeUtils.getElByTag(document,"body")[0],"cursor","default");$("body").noSelect(false)}};if(d.isFixLayout){$("html").css({height:"100%",overflow:"hidden"});$("body").css({height:"100%",overflow:"hidden",padding:"0px",margin:"0px",border:"0px"})}b.mainObj=SeeUtils.getElObj(d.id);SeeUtils.cssByJson(b.mainObj,{overflow:"hidden",position:"relative",padding:"0px",margin:"0px",border:"0px"});if(d.isFixLayout){SeeUtils.setElHeight(b.mainObj,"100%")}if(document.querySelector("#"+d.id)==null){b.nObj=d.northArea==null?null:document.querySelector("#"+d.northArea.id);b.eObj=d.eastArea==null?null:document.querySelector("#"+d.eastArea.id);b.cObj=d.centerArea==null?null:document.querySelector("#"+d.centerArea.id);b.wObj=d.westArea==null?null:document.querySelector("#"+d.westArea.id);b.sObj=d.southArea==null?null:document.querySelector("#"+d.southArea.id)}else{b.nObj=d.northArea==null?null:document.querySelector("#"+d.id).querySelector("#"+d.northArea.id);b.eObj=d.eastArea==null?null:document.querySelector("#"+d.id).querySelector("#"+d.eastArea.id);b.cObj=d.centerArea==null?null:document.querySelector("#"+d.id).querySelector("#"+d.centerArea.id);b.wObj=d.westArea==null?null:document.querySelector("#"+d.id).querySelector("#"+d.westArea.id);b.sObj=d.southArea==null?null:document.querySelector("#"+d.id).querySelector("#"+d.southArea.id)}b._h_spritSize=0;d.northFlag=0;d.nHeight=0;d.northBorder=false;if(d.northArea!=null){d.nHeight=d.northArea.height==null?50:d.northArea.height;d.northFlag=1;if(d.northArea.sprit==null||d.northArea.sprit==true){b._h_spritSize+=1;d.northFlag=2}if(d.northArea.border==null||d.northArea.border==true){d.northBorder=true}}d.southFlag=0;d.sHeight=0;d.southBorder=false;if(d.southArea!=null){d.sHeight=d.southArea.height==null?50:d.southArea.height;d.southFlag=1;if(d.southArea.sprit==null||d.southArea.sprit==true){b._h_spritSize+=1;d.southFlag=2}if(d.southArea.border==null||d.southArea.border==true){d.southBorder=true}}b._w_spritSize=0;d.eastFlag=0;d.eWidth=0;d.eastBorder=false;if(d.eastArea!=null){d.eWidth=d.eastArea.width==null?200:d.eastArea.width;d.eastFlag=1;if(d.eastArea.sprit==null||d.eastArea.sprit==true){b._w_spritSize+=1;d.eastFlag=2}if(d.eastArea.border==null||d.eastArea.border==true){d.eastBorder=true}}d.westFlag=0;d.wWidth=0;d.westBorder=false;if(d.westArea!=null){d.wWidth=d.westArea.width==null?200:d.westArea.width;d.westFlag=1;if(d.westArea.sprit==null||d.westArea.sprit==true){b._w_spritSize+=1;d.westFlag=2}if(d.westArea.border==null||d.westArea.border==true){d.westBorder=true}}d.centerBorder=false;if(d.centerArea!=null){if(d.centerArea.border!=null&&d.centerArea.border==true){d.centerBorder=true}}b.init(this);if(d.successFn!=null){d.successFn()}this.params=d;this.methods=b;if(SeeUtils.isIE8||SeeUtils.isIE9||SeeUtils.isIE10){$(document).mousemove(function(f){b.dragMove(f);if(b.moveStart){if(f.stopPropagation){f.stopPropagation()}if(f.preventDefault){f.preventDefault()}f.cancelBubble=true;f.returnValue=false;return false}})}else{SeeUtils.addEvent(document,"mousemove",function(f){b.dragMove(f);if(b.moveStart){if(f.stopPropagation){f.stopPropagation()}if(f.preventDefault){f.preventDefault()}f.cancelBubble=true;f.returnValue=false;return false}})}SeeUtils.addEvent(document,"mouseup",function(f){b.dragEnd();b.moveStart=false});SeeUtils.addEvent(document,"mousedown",function(g){var f=SeeUtils.closestByClass(g.target,"spiret");if(f!=null){b.moveStart=true}f=SeeUtils.closestByClass(g.target,".vGrip_line");if(f!=null){b.moveStart=true}});SeeUtils.addEvent(document,"hover",function(f){b.dragEnd()});var c=this;$(window).resize(function(){b.init(c)})}MxtLayout.prototype.__initWest=function(f,j){if(f.wObj){if(SeeUtils.getElObj("westSp_"+j.id)!=null){SeeUtils.removeEl("westSp_"+j.id)}var k="";var e=j.westBorder?1:0;if(!j.disableDrag){var b="cursor:e-resize;"}else{var b=""}if(j.westFlag==2){k="<span class='spiret spiret_L' id='westSp_"+j.id+"' style='"+b+"z-index:3;width:"+j.spritHeight+"px;height:"+(f._m_height+j.borderWidth*(j.westBorder?2:0))+"px;left:"+(j.wWidth)+"px;top:"+(f._m_top)+"px;'><table border='0' cellpadding='0' cellspacing='0' width='100%' style='display:"+(j.spiretBarW?"table":"none")+";margin-top:"+((f._m_height-j.borderWidth*(j.eastBorder?2:0))/2-25)+"px'><tr><td valign='middle'><span class='spiretBarHidden hidden'><em></em></span><span class='spiretBarHidden2'><em></em></span></td></tr></table></span>"}SeeUtils.cssByJson(f.wObj,{height:(f._m_height-j.borderWidth*(j.westBorder?2:0))+"px",left:"0px",top:(f._m_top)+"px",width:(j.wWidth-j.borderWidth*(j.westBorder?2:0))+"px","border-width":e+"px","z-index":"1"});SeeUtils.showEl(f.wObj);SeeUtils.insertAfter(k,f.wObj);f.westSpObj=SeeUtils.getElObj("westSp_"+j.id);$("#westSp_"+j.id).mousedown(function(g){if(g.target==this){f.dragStart("h",g,this,"west")}});f.westSpObj=SeeUtils.getElObj("westSp_"+j.id);if(j.spiretBarW.show){var c=SeeUtils.getElObj("westSp_"+j.id);var d=c.querySelector(".spiretBarHidden");var a=c.querySelector(".spiretBarHidden2");window.layout_westSpBarRClick=function(){SeeUtils.showEl(a);SeeUtils.hideEl(d);j.spiretBarW.handlerR()};SeeUtils.attrEl(d,"onclick","layout_westSpBarRClick()");window.layout_westSpBarLClick=function(){SeeUtils.showEl(d);SeeUtils.hideEl(a);j.spiretBarW.handlerL()};SeeUtils.attrEl(a,"onclick","layout_westSpBarLClick()")}}};MxtLayout.prototype.__initSouth=function(f,b){if(f.sObj){if(typeof(SeeUtils.getElObj("southSp_"+b.id))!="undefined"){SeeUtils.removeEl("southSp_"+b.id)}var k="";var e=b.southBorder?1:0;if(!b.disableDrag){var d="cursor:row-resize;"}else{var d=""}if(b.southFlag==2){k="<span id='southSp_"+b.id+"' upordown='down' class='spiret spiret_T' style='"+d+"z-index:3;width:"+f.width+"px;height:"+b.spritHeight+"px;left:0px;top:"+(f.height-b.sHeight-b.spritHeight)+"px;'><table align='center' border='0' cellpadding='0' cellspacing='0' height='100%' style='display:"+(b.spiretBarS?"table":"none")+";'><tr><td align='center'><span class='spiretBarHidden4'><em></em></span><span class='spiretBarHidden3'><em></em></span></td></tr></table></span>"}SeeUtils.cssByJson(f.sObj,{height:(b.sHeight-b.borderWidth*(b.southBorder?2:0))+"px",left:"0px",top:(f.height-b.sHeight)+"px",width:f._100+"px","border-width":e+"px","z-index":"1"});SeeUtils.showEl(f.sObj);SeeUtils.insertAfter(k,f.sObj);f.southSpObj=SeeUtils.getElObj("southSp_"+b.id);if(b.southSpritBar!=true){$("#southSp_"+b.id).mousedown(function(g){if(g.target==this){f.dragStart("h",g,this,"south")}})}if(b.spiretBarS.show){var c=SeeUtils.getElObj("southSp_"+b.id);var j=c.querySelector(".spiretBarHidden3");var l=c.querySelector(".spiretBarHidden4");SeeUtils.css(l,"borderRight",0);if(b.spiretBarS.type=="1"){SeeUtils.hideEl(l);SeeUtils.css(l,"borderRight","")}window.layout_southSpBarBClick=function(){if(b.spiretBarS.type=="1"){SeeUtils.showEl(l);SeeUtils.hideEl(j)}b.spiretBarS.handlerB()};SeeUtils.attrEl(j,"onclick","layout_southSpBarBClick()");var a=this;window.layout_southSpBarTClick=function(){if(b.spiretBarS.type=="1"){SeeUtils.hideEl(l);SeeUtils.showEl(j)}b.spiretBarS.handlerT();f.init(a)};SeeUtils.attrEl(l,"onclick","layout_southSpBarTClick()")}}};MxtLayout.prototype.__initCenter=function(b,c){var a=(b._m_height-c.borderWidth*(c.centerBorder?2:0));if(b.cObj!=null&&a>0){SeeUtils.cssByJson(b.cObj,{height:(b._m_height-c.borderWidth*(c.centerBorder?2:0))+"px",left:b._c_left+"px",top:(b._m_top)+"px",width:(b._c_width-c.borderWidth*(c.centerBorder?2:0))+"px","border-width":c.centerBorder?1:0+"px","z-index":"1"});SeeUtils.showEl(b.cObj)}};MxtLayout.prototype.__initEast=function(d,f){if(d.eObj){if(SeeUtils.getElObj("eastSp_"+f.id)!=null){SeeUtils.removeEl("eastSp_"+f.id)}var j="";var b=f.eastBorder?1:0;if(!f.disableDrag){var a="cursor:e-resize;"}else{var a=""}if(f.eastFlag==2){j="<span class='spiret spiret_R' id='eastSp_"+f.id+"' style='"+a+"z-index:3;width:"+f.spritHeight+"px;height:"+(d._m_height+f.borderWidth*(f.eastBorder?2:0))+"px;left:"+(d.width-f.eWidth-f.spritHeight)+"px;top:"+(d._m_top)+"px;'><table valign='middle' border='0' cellpadding='0' cellspacing='0' width='100%' style='display:"+(f.spiretBarE?"table":"none")+";margin-top:"+((d._m_height-f.borderWidth*(f.eastBorder?2:0))/2-25)+"px'><tr><td><span class='spiretBarHidden'><em></em></span><span class='spiretBarHidden2'><em></em></span></td></tr></table></span>"}SeeUtils.cssByJson(d.eObj,{height:(d._m_height-f.borderWidth*(f.eastBorder?2:0))+"px",left:(d.width-f.eWidth)+"px",top:(d._m_top)+"px",width:(f.eWidth-f.borderWidth*(f.eastBorder?2:0))+"px","border-width":b+"px","z-index":"1"});SeeUtils.showEl(d.eObj);SeeUtils.insertAfter(j,d.eObj);d.eastSpObj=SeeUtils.getElObj("eastSp_"+f.id);$("#eastSp_"+f.id).mousedown(function(g){if(g.target==this){d.dragStart("h",g,this,"east")}});if(f.spiretBarE.show){var e=SeeUtils.getElObj("eastSp_"+f.id);var k=e.querySelector(".spiretBarHidden");var c=e.querySelector(".spiretBarHidden2");if(f.spiretBarE.showItem=="L"){SeeUtils.hideEl(k)}else{SeeUtils.hideEl(c)}window.layout_eastSpBarRClick=function(){SeeUtils.showEl(c);SeeUtils.hideEl(k);f.spiretBarE.handlerR()};SeeUtils.attrEl(k,"onclick","layout_eastSpBarRClick()");window.layout_eastSpBarLClick=function(){SeeUtils.showEl(k);SeeUtils.hideEl(c);f.spiretBarE.handlerL()};SeeUtils.attrEl(c,"onclick","layout_eastSpBarLClick()")}}};MxtLayout.prototype.__initNorth=function(e,a){if(e.nObj){if(SeeUtils.getElObj("northSp_"+a.id)!=null){SeeUtils.removeEl("northSp_"+a.id)}var l="";var j=a.nHeight;var d=a.northBorder?1:0;if(!a.disableDrag){var c="cursor:row-resize;"}else{var c=""}if(a.northFlag==2){l="<span id='northSp_"+a.id+"' class='spiret spiret_T align_center' style='"+c+"z-index:3;width:"+e.width+"px;height:"+a.spritHeight+"px;left:0px;top:"+(a.nHeight)+"px;'><table align='center' border='0' cellpadding='0' cellspacing='0' height='100%' style='display:"+(a.spiretBarN?"table":"none")+";'><tr><td align='center'><span class='spiretBarHidden4'><em></em></span><span class='spiretBarHidden3'><em></em></span></td></tr></table></span>";j=a.northArea.height}if(SeeUtils.getAttrEl(e.nObj,"style")==null){SeeUtils.setElHeight(e.nObj,(j-a.borderWidth*(a.northBorder?2:0))+"px")}SeeUtils.cssByJson(e.nObj,{left:"0px",top:"0px","border-width":d+"px",width:e._100-a.borderWidth*(a.northBorder?2:0)+"px","z-index":"1"});SeeUtils.showEl(e.nObj);SeeUtils.insertAfter(l,e.nObj);if(a.northFlag==2){var k=SeeUtils.getElObj("northSp_"+a.id);e.northSpObj=k;$("#northSp_"+a.id).mousedown(function(g){if(g.target==this){e.dragStart("h",g,this,"north")}});if(a.spiretBarN.show){var b=k.querySelector(".spiretBarHidden3");var f=k.querySelector(".spiretBarHidden4");SeeUtils.css(f,"borderRight",0);if(a.spiretBarN.type=="1"){SeeUtils.hideEl(k.querySelector(".spiretBarHidden3"));SeeUtils.css(f,"borderRight","")}window.layout_northSpBarBClick=function(){if(a.spiretBarN.type=="1"){SeeUtils.showEl(f);SeeUtils.hideEl(b)}a.spiretBarN.handlerB()};SeeUtils.attrEl(b,"onclick","layout_northSpBarBClick()");window.layout_northSpBarTClick=function(){if(a.spiretBarN.type=="1"){SeeUtils.hideEl(f);SeeUtils.showEl(b)}a.spiretBarN.handlerT()};SeeUtils.attrEl(f,"onclick","layout_northSpBarTClick()")}}}};MxtLayout.prototype.setEast=function(c){if(c==undefined){return}var a=this.params;var f=this.methods;if(f.eObj){var m=parseInt(SeeUtils.getElWidth(f.eObj));var d=parseInt(SeeUtils.getCss(f.eObj,"left"));var b=m-c;SeeUtils.setElWidth(f.eObj,c);a.eWidth=c;var l=d+b;SeeUtils.css(f.eObj,"left",l)}if(f.eastSpObj){var k=parseInt(SeeUtils.getCss(f.eastSpObj,"left"));var j=k+b;SeeUtils.css(f.eastSpObj,"left",j)}if(f.cObj){var e=parseInt(SeeUtils.getElWidth(f.cObj));var h=e+b;SeeUtils.setElWidth(f.cObj,h)}a.setCallFun({offsetX:b})};MxtLayout.prototype.setWest=function(d){if(d==undefined){return}var a=this.params;var f=this.methods;if(f.wObj){this._clearScroll({obj:f.wObj,mode:"hidden"});var l=parseInt(SeeUtils.getElWidth(f.wObj));var b=l-d;SeeUtils.setElWidth(f.wObj,d);a.wWidth=d;this._clearScroll({obj:f.wObj,mode:"show"})}if(f.westSpObj){var c=parseInt(SeeUtils.getCss(f.westSpObj,"left"));var j=c-b;SeeUtils.css(f.westSpObj,"left",j)}if(f.cObj){var h=parseInt(SeeUtils.getElWidth(f.cObj));var k=h+b;var m=parseInt(SeeUtils.getCss(f.cObj,"left"));var e=m-b;SeeUtils.setElWidth(f.cObj,k);SeeUtils.css(f.cObj,"left",e)}a.setCallFun({offsetX:b})};MxtLayout.prototype.setSouth=function(w){if(w==undefined){return}var m=this.params;var q=this.methods;if(q.sObj){var u=parseInt(SeeUtils.getElHeight(q.sObj));var n=parseInt(SeeUtils.getCss(q.sObj,"top"));var j=u-w;var r=n+j;SeeUtils.setElHeight(q.sObj,w);m.sHeight=w;SeeUtils.css(q.sObj,"top",r)}if(q.southSpObj){var c=parseInt(SeeUtils.getCss(q.southSpObj,"top"));var a=c+j;SeeUtils.css(q.southSpObj,"top",a)}if(q.cObj){var b=parseInt(SeeUtils.getElHeight(q.cObj));var f=b+j;SeeUtils.setElHeight(q.cObj,f)}if(q.wObj){var d=parseInt(SeeUtils.getElHeight(q.wObj));var o=d+j;SeeUtils.setElHeight(q.wObj,o)}if(q.eObj){var e=parseInt(SeeUtils.getElHeight(q.eObj));var l=e+j;SeeUtils.setElHeight(q.eObj,l)}if(q.westSpObj){var s=parseInt(SeeUtils.getElHeight(q.westSpObj));var t=s+j;SeeUtils.setElHeight(q.westSpObj,t)}if(q.eastSpObj){var k=parseInt(SeeUtils.getElHeight(q.eastSpObj));var h=k+j;SeeUtils.setElHeight(q.eastSpObj,h)}m.setCallFun({offsetY:j})};MxtLayout.prototype.setNorth=function(E){if(E==undefined){return}var u=this.params;var y=this.methods;if(y.nObj){var e=SeeUtils.getElHeight(y.nObj);var o=e-E;SeeUtils.setElHeight(y.nObj,E);u.nHeight=E}if(y.northSpObj){var n=parseInt(SeeUtils.getCss(y.northSpObj,"top"));var a=n-o;SeeUtils.css(y.northSpObj,"top",a)}if(y.cObj){var b=SeeUtils.getElHeight(y.cObj);var l=b+o;SeeUtils.setElHeight(y.cObj,l);var x=parseInt(SeeUtils.getCss(y.cObj,"top"));var F=x-o;SeeUtils.css(y.cObj,"top",F)}if(y.wObj){var d=SeeUtils.getElHeight(y.wObj);var z=parseInt(SeeUtils.getCss(y.wObj,"top"));var w=d+o;var k=z-o;SeeUtils.setElHeight(y.wObj,w);SeeUtils.css(y.wObj,"top",k)}if(y.westSpObj){var A=SeeUtils.getElHeight(y.westSpObj);var t=parseInt(SeeUtils.getCss(y.westSpObj,"top"));var D=A+o;var q=t-o;SeeUtils.setElHeight(y.westSpObj,D);SeeUtils.css(y.westSpObj,"top",q)}if(y.eObj){var f=SeeUtils.getElHeight(y.eObj);var B=parseInt(SeeUtils.getCss(y.eObj,"top"));var s=f+o;var h=B-o;SeeUtils.setElHeight(y.eObj,s);SeeUtils.css(y.eObj,"top",h)}if(y.eastSpObj){var r=SeeUtils.getElHeight(y.eastSpObj);var j=parseInt(SeeUtils.getCss(y.eastSpObj,"top"));var m=r+o;var c=j-o;SeeUtils.setElHeight(y.eastSpObj,m);SeeUtils.css(y.eastSpObj,"top",c)}u.setCallFun({offsetY:o})};MxtLayout.prototype.getNorthHeight=function(){var a=this.params;return a.nHeight};MxtLayout.prototype.getSouthHeight=function(){var a=this.params;return a.sHeight};MxtLayout.prototype.getWestWidth=function(){var a=this.params;return a.wWidth};MxtLayout.prototype.getEastWidth=function(){var a=this.params;return a.eWidth};MxtLayout.prototype._clearScroll=function(a){if(a.mode=="hidden"){SeeUtils.css(a.obj,"overflow","hidden")}else{SeeUtils.css(a.obj,"overflow","")}};MxtLayout.prototype.setEastSp=function(a){var d=this.params;var c=this.methods;if(a){d.eastFlag=2}else{d.eastFlag=1}c.init(this)};MxtLayout.prototype.setWestSp=function(a){var d=this.params;var c=this.methods;if(a){d.westFlag=2}else{d.westFlag=1}c.init(this)};MxtLayout.prototype.setSouthSp=function(a){var d=this.params;var c=this.methods;if(a){d.southFlag=2}else{d.southFlag=1}c.init(this)};MxtLayout.prototype.setNorthSp=function(a){var d=this.params;var c=this.methods;if(a){d.northFlag=2}else{d.northFlag=1}c.init(this)};$(document).ready(function(){if($.browser.msie){}});(function(a){a.extend({init_stadic_layout:function(){a("html").css({height:"100%",overflow:"hidden"});a("body").css({height:"100%",overflow:"hidden",padding:"0px",margin:"0px",border:"0px"})}});a.fn.noSelect=function(c){var b=(c==null)?true:c;if(b){return this.each(function(){if(a.browser.msie||a.browser.safari){a(this).bind("selectstart",function(){return false})}else{if(a.browser.mozilla){a(this).css("MozUserSelect","none");a("body").trigger("focus")}else{if(a.browser.opera){a(this).bind("mousedown",function(){return false})}else{a(this).attr("unselectable","on")}}}})}else{return this.each(function(){if(a.browser.msie||a.browser.safari){a(this).unbind("selectstart")}else{if(a.browser.mozilla){a(this).css("MozUserSelect","inherit")}else{if(a.browser.opera){a(this).unbind("mousedown")}else{a(this).removeAttr("unselectable","on")}}}})}}})(jQuery);function _getImgColor(a){if(a.color!=null){return" style='color:#"+a.color+";' "}else{return""}}function commonMenuSimple(c,t){var b=c.id?c.id:"menuSimple_"+Math.floor(Math.random()*1000000000);var n=c.data?c.data:[];var e=c.width?c.width:128;var u=c.height?c.height:"";var a=c.maxHeight?c.maxHeight:"";var j=c.event?c.event:"click";var g=c.direction?c.direction:"BL";var o=c.offsetLeft?c.offsetLeft:0;var r=c.overflow?c.overflow:null;var d=c.offsetTop?c.offsetTop:0;var l=c.mRow?c.mRow:false;function q(){var F=$("body");if(t==null){var z=F.data("isMenuSimple");if(z!=b){SeeUtils.removeEl(z);SeeUtils.removeEl(z+"_iframe_mask");F.data("isMenuSimple",b)}}else{var K=$(t);var z=K.data("isMenuSimple");if(z!=b){SeeUtils.removeEl(z);SeeUtils.removeEl(z+"_iframe_mask");K.data("isMenuSimple",b)}}var I=document.getElementById(b);if(I!=null){SeeUtils.removeEl(I);SeeUtils.removeEl(b+"_iframe_mask")}function H(aa,ab){var P="";var Y="";if(u!=""){Y="height:"+u+"px;overflow-y:auto;"}if(a!=""){Y="max-height:"+a+"px;overflow-y:auto;"}P+='<div id="'+b+'" class="menu_simple_box" style="z-index:20001;left:'+ab+"px;top:"+aa+"px;"+Y+'"><div class="menu_simple">';var S="";l!=true?S=" text_overflow":null;for(var W=0;W<n.length;W++){if(n[W].isShow==false){continue}if(n[W].type=="line"||n[W].type=="__line"){P+="<div style='margin:2px 5px;' class=\"line\"></div>"}else{n[W].id!=null?"":n[W].id="menuSimple_item"+Math.floor(Math.random()*1000000000);var Q="";n[W].className!=null?Q="<span class='ico16 margin_r_5 "+n[W].className+"'></span>":null;if(n[W].img!=null){Q="<span class='margin_r_5 "+n[W].img+"' "+_getImgColor(n[W])+"></span>"}var O="";n[W].customAttr!=null?O=n[W].customAttr:null;var R="";n[W].disabled==true?R="disabled":null;var Z=n[W].name;P+='<a id="'+n[W].id+"\" title='"+Z+"'"+O+" class='"+R+" "+S+"'>"+Q+n[W].name+"</a>"}}P+="</div></div>";P+='<iframe id="'+b+'_iframe_mask" style="left:'+ab+"px;top:"+aa+"px;"+Y+'"></iframe>';return P}if(t==null){var N=c.left?c.left:0;var M=c.top?c.top:0}else{var J=(function(){if(t!=null&&t.indexOf("#")==0){return t.split("#")[1]}})();if(J==null||J==""){return void (0)}var E=document.getElementById(J);if(E!=null){var N=function(){switch(g){case"BL":left=SeeUtils.getElOffest(E).left+o;if((left+e)>SeeUtils.getDocumentWidth()){left=SeeUtils.getDocumentWidth()-e-20}return left;break;case"BR":left=SeeUtils.getElOffest(E).left+SeeUtils.getElWidth(E)-e-12+o;if((left+e)>SeeUtils.getDocumentWidth()){left=SeeUtils.getDocumentWidth()-e-20}return left;break}}();var M=function(){var P=SeeUtils.getElOffest(E).top+SeeUtils.getElHeight(E)+5+d;var O=SeeUtils.getDocumentHeight();if((P+SeeUtils.getElHeight(I)+5)>O){P=O-SeeUtils.getElHeight(I)-5}return P}()}}SeeUtils.appendToBody(H(M,N));if(r!=null){SeeUtils.css(b,"overflowY","auto");SeeUtils.css(b,"maxHeight","350px")}SeeUtils.cssByJson(b+"_iframe_mask",{display:"none",zIndex:20000,position:"absolute",top:M+"px",left:N+"px",width:SeeUtils.getElWidth(document.getElementById(b))+"px",height:SeeUtils.getElHeight(document.getElementById(b))+"px"});if(t==null){SeeUtils.showEl(b);SeeUtils.showEl(b+"_iframe_mask");hideOfficeObj()}var x=SeeUtils.getByClass(SeeUtils.getElObj(b),".menu_simple");if(x!=null){var y=x[0];if(y!=null){var D=y.children;for(var G=0;G<D.length;G++){var B=D[G];var A=(function(O){return function(){if(n[O].disabled!=true){n[O].handle({id:n[O].id,name:n[O].name,obj:$(this)})}}})(G);SeeUtils.addEvent(B,"click",A)}}}}q();function k(){var x=document.getElementById(b);SeeUtils.addEvent(x,"click",function(){if(u!=""){x.scrollTop=0}SeeUtils.hideEl(x);var y=document.getElementById(b+"_iframe_mask");SeeUtils.hideEl(y);showOfficeObj()});SeeUtils.addEvent(x,"mouseleave",function(){if(u!=""){x.scrollTop=0}SeeUtils.hideEl(x);var y=document.getElementById(b+"_iframe_mask");SeeUtils.hideEl(y);s=true;showOfficeObj()});SeeUtils.addEvent(x,"mouseenter",function(){s=false})}var m=(function(){if(t!=null&&t.indexOf("#")==0){return t.split("#")[1]}})();if(m==null||m==""){return void (0)}var h=document.getElementById(m);var w=function(){k();setTimeout(function(){if(h.getAttribute("disable")!="disable"){var x=function(){var B;switch(g){case"BL":B=SeeUtils.getElOffest(h).left+o;if((B+e)>SeeUtils.getDocumentWidth()){B=SeeUtils.getDocumentWidth()-e-20}return B;break;case"BR":B=SeeUtils.getElOffest(h).left+SeeUtils.getElWidth(h)-e-12+o;if((B+e)>SeeUtils.getDocumentWidth()){B=SeeUtils.getDocumentWidth()-e-20}return B;break}}();var A=function(){var D=SeeUtils.getElOffest(h).top+SeeUtils.getElHeight(h)+5+d;var B=SeeUtils.getDocumentHeight();if((D+SeeUtils.getElHeight(b)+5)>B){D=B-SeeUtils.getElHeight(b)-5}return D}();var z=document.getElementById(b);SeeUtils.css(z,"left",x+"px");SeeUtils.css(z,"top",A+"px");SeeUtils.showEl(z);var y=document.getElementById(b+"_iframe_mask");SeeUtils.css(y,"left",x+"px");SeeUtils.css(y,"top",A+"px");SeeUtils.css(y,"width",(e*1+16)+"px");SeeUtils.showEl(y);hideOfficeObj()}},300)};if(h){SeeUtils.removeEvent(h,j,w);SeeUtils.addEvent(h,j,w)}var s=true;var f=function(){setTimeout(function(){if(s){var x=document.getElementById(b);if(u!=""){x.scrollTop=0}SeeUtils.hideEl(x);SeeUtils.hideEl(b+"_iframe_mask");showOfficeObj()}},100)};if(h){SeeUtils.removeEvent(h,"mouseleave",f);SeeUtils.addEvent(h,"mouseleave",f)}}$.fn.menuSimple=function(a){commonMenuSimple(a,$(this).selector)};$.menuSimple=function(a){commonMenuSimple(a,null)};var _orgManager=RemoteJsonService.extend({jsonGateway:_ctxPath+"/ajax.do?method=ajaxAction&managerName=orgManager",canShowPeopleCard:function(){return this.ajaxCall(arguments,"canShowPeopleCard")},getMemberExternalType:function(){return this.ajaxCall(arguments,"getMemberExternalType")}});function insertScript(d){if(SeeUtils.getSizeById("script_people")==0){var g=document.createElement("div");g.id="script_people";g.className="hidden";SeeUtils.addNodeToHeader(g);SeeUtils.addScriptToHeader(_ctxPath+"/ajax.do?managerName=peopleCardManager,orgManager"+CsrfGuard.getUrlSurffix(),null,true,"orgManager");SeeUtils.addScriptToHeader(_ctxPath+"/apps_res/collaboration/js/CollaborationApi.js",null,true,"CollaborationApi");SeeUtils.addScriptToHeader(_ctxPath+"/apps_res/webmail/js/webmail.js",null,false,"webmail");SeeUtils.addScriptToHeader(_ctxPath+"/apps_res/sms/js/sms.js",null,false,"sms");var b=document.createElement("script");b.innerHTML="var dialog;";SeeUtils.addNodeToHeader(b);SeeUtils.addCssToHeader(_ctxPath+"/common/css/peoplecard.css")}if(typeof(peopleCardManager)=="undefined"){return}var f=d.memberId;var e=new peopleCardManager();var a=d;var c=e.showPeoPleCardMini(f);a.data=c;return a}function insertScriptP(){if(SeeUtils.getSizeById("script_people")==0){var a=document.createElement("div");a.id="script_people";a.className="hidden";SeeUtils.addNodeToHeader(a);SeeUtils.addScriptToHeader(_ctxPath+"/ajax.do?managerName=peopleCardManager,orgManager"+CsrfGuard.getUrlSurffix(),function(){},true,"orgManager")}}function createPanel(g){var t=getA8Top();var z=0;var m=SeeUtils.getSizeById("main",t);while(m==0&&z<5){t=t.v3x.getParentWindow().getA8Top();z++}var l=false;var B=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(B==null||B==undefined){B=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}var b=B.id;var u=g.data.emailaddress;var y=$.ctx&&$.ctx._emailShow||vPortal._emailShow;if(y==null||y==undefined){y=getCtpTop().$.ctx&&getCtpTop().$.ctx._emailShow||getCtpTop().vPortal._emailShow}if(g.memberId==b){l=true}else{l=false}var a=false;if(!g.id){a=true}var D=document.getElementById("miniCrad");var o="";if(g.accountShortName&&g.accountShortName!=""&&g.accountShortName!="null"&&g.accountShortName!="undefined"){o="("+g.accountShortName+")"}var r=g.data.deptName;if(r.length>20){r=r.substring(0,20)+"..."}var h=g.data.postName;if(h.length>20){h=h.substring(0,20)+"..."}var k=g.data.name+o;if(k.length>20){k=k.substring(0,16)+"..."}var x="<div class='peoplecard_pageTur  ' style='margin: 0px 0px; position: relative;'><em class='peoplecard_pageTurning'></em><div class='peoplecard_cd_list peoplecard_overflow peoplecard_cd_show peoplecard_left' style='border-bottom:transparent; padding-right: 33px;'><div class='peoplecard_cardMsg'><div class='peoplecard_cd_img peoplecard_left'><span><img width='50' height='50' class='radius' src='"+g.data.imgurl+"'></span></div><dl class='peoplecard_left'><dd class='peoplecard_cd_name'><span>"+k+"</span></dd><dt class='peoplecard_cd_detail'><span class='peoplecard_cd_bar'>"+$.i18n("relate.memberinfo.dep")+"</span><span class='peoplecard_cd_message'>&nbsp;"+r+"</span></dt><dt class='peoplecard_cd_detail'><span class='peoplecard_cd_bar'>"+$.i18n("relate.memberinfo.post1")+"</span><span class='peoplecard_cd_message'>&nbsp;"+h+"</span></dt><dt class='peoplecard_cd_detail'><span class='peoplecard_cd_bar'>"+$.i18n("org.account_form.telephone.label")+":</span><span class='peoplecard_cd_message'>&nbsp;"+g.data.officenumber+"</span></dt><dt class='peoplecard_cd_detail'><span class='peoplecard_cd_bar'>"+$.i18n("member.mobile")+":</span><span class='peoplecard_cd_message'>&nbsp;"+g.data.telnumber+"</span></dt><dt class='peoplecard_cd_detail'><span class='peoplecard_cd_bar'>"+$.i18n("member.email")+":</span><span class='peoplecard_cd_message peoplecard_cd_email'>&nbsp;"+g.data.emailaddress+"</span></dt></dl></div></div><div class='peoplecard_sendMessage peoplecard_overflow'><div class='peoplecard_msgImg_list' style='width: 441px;'>";x=x+"<a  id='sendcollaboration' name='sendcollaboration' title='"+$.i18n("people.send.collaborative")+"' class='peoplecard_button peoplecard_margin_l_92'  href='javascript:void(0)'><em class='peoplecard_icon16 peoplecard_addConection_icon16' style='margin-bottom:3px;'></em></a>";if(u!=""&&y){x=x+"<a  href='javascript:void(0)' class='peoplecard_button ' id='sendemail' name='sendemail' title='"+$.i18n("people.send.email")+"'><em class='peoplecard_icon16 peoplecard_sendMsg_icon16' style='margin-bottom:3px;'></em></a>"}if(B.canSendSMS){x=x+"<a  href='javascript:void(0)' class='peoplecard_button '  id='sendSMS'  name='sendSMS' title='"+$.i18n("people.send.SMS")+"' ><em class='peoplecard_icon16 peoplecard_sendShortMsg_icon16' style='margin-bottom:3px;'></em></a>"}if(!l){x=x+"<a  id='addcorrelation' name='addcorrelation' title='"+$.i18n("people.add.correlation")+"' class='peoplecard_button ' style='background: rgb(243, 243, 243);'  href='javascript:void(0)'><em class='peoplecard_icon16 peoplecard_sendEmail_icon16 peoplecard_addcorrelation_icon16' style='margin-bottom:3px;'></em></a>"}"</div></div></div>";if(D.length==0){var j=document.createElement("div");j.id="miniCrad";j.className="peoplecard_cardmini h100b peoplecard_hidden";j.innerHTML=x;var E=document.getElementsByTagName("body");E[0].appendChild(j)}else{D.innerHTML=x}SeeUtils.addEvent("sendcollaboration","mouseenter",function(){var e=document.getElementById("sendcollaboration");e.style.background="#5093e1";var F=e.getElementById("em");F.style.backgroundPosition="-176px -31px"});SeeUtils.addEvent("sendcollaboration","mouseleave",function(){var e=document.getElementById("sendcollaboration");e.style.background="#f3f3f3";var F=e.getElementById("em");F.style.backgroundPosition="0 -32px"});SeeUtils.addEvent("sendemail","mouseenter",function(){var e=document.getElementById("sendemail");e.style.background="#5093e1";var F=e.getElementById("em");F.style.backgroundPosition="-209px -31px"});SeeUtils.addEvent("sendemail","mouseleave",function(){var e=document.getElementById("sendemail");e.style.background="#f3f3f3";var F=e.getElementById("em");F.style.backgroundPosition="-33px -31px"});SeeUtils.addEvent("sendSMS","mouseenter",function(){var e=document.getElementById("sendSMS");e.style.background="#5093e1";var F=e.getElementById("em");F.style.backgroundPosition="-224px -32px"});SeeUtils.addEvent("sendSMS","mouseleave",function(){var e=document.getElementById("sendSMS");e.style.background="#f3f3f3";var F=e.getElementById("em");F.style.backgroundPosition="-48px -32px"});SeeUtils.addEvent("addcorrelation","mouseenter",function(){var e=document.getElementById("addcorrelation");e.style.background="#5093e1";var F=e.getElementById("em");F.style.backgroundPosition="-241px -31px"});SeeUtils.addEvent("addcorrelation","mouseleave",function(){var e=document.getElementById("addcorrelation");e.style.background="#f3f3f3";var F=e.getElementById("em");F.style.backgroundPosition="-65px -31px"});var s=function(){dialog=$.dialog({id:"url",url:_ctxPath+"/relateMember.do?method=addRelativePeople&receiverId="+g.data.id,width:420,height:200,targetWindow:getCtpTop(),title:$.i18n("peoplecard.addrelpeple.js")})};SeeUtils.removeEvent("addcorrelation","click",s);SeeUtils.addEvent("addcorrelation","click",s);var n=function(){if(document.getElementById("emailaddress").innerHTML!=""){sendMail(document.getElementById("emailaddress").innerHTML)}};SeeUtils.removeEvent("sendemail","click",n);SeeUtils.addEvent("sendemail","click",n);var q=function(){var e={personId:g.data.id,from:"peopleCard"};collaborationApi.newColl(e)};SeeUtils.removeEvent("sendcollaboration","click",q);SeeUtils.addEvent("sendcollaboration","click",q);var w=function(){sendSMS(g.data.id)};SeeUtils.removeEvent("sendSMS","click",w);SeeUtils.addEvent("sendSMS","click",w);var f=$.ctx&&$.ctx.resources||vPortal.resources;if(f==null||f==undefined){f=getCtpTop().$.ctx&&getCtpTop().$.ctx.resources||getCtpTop().vPortal.resources}try{if(!f.contains("F01_newColl")){SeeUtils.hideEl("sendcollaboration")}if(!f.contains("F12_mailcreate")){SeeUtils.hideEl("sendemail")}}catch(A){}if(!B.canSendSMS){SeeUtils.hideEl("sendSMS")}var c=$.ctx&&$.ctx.plugins||vPortal.plugins;if(c==null||c==undefined){c=getCtpTop().$.ctx&&getCtpTop().$.ctx.plugins||getCtpTop().vPortal.plugins}var d=$.dialog({id:"dialog_cardMini",width:444,height:258,type:"panel",htmlId:"miniCrad",targetId:g.id,left:g.obj.offset().left,top:g.obj.offset().top+g.obj.innerHeight(),shadow:false,panelParam:{show:a,margins:false,inside:a},timeout:1000});return d}function createPanelWithOutButton(g){var r=getA8Top();var w=0;var k=SeeUtils.getSizeById("main",r);while(k==0&&w<5){r=getA8Top().v3x.getParentWindow().getA8Top();w++}var j=false;var y=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(y==null||y==undefined){y=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}var b=y.id;var s=g.data.emailaddress;if(g.memberId==b){j=true}else{j=false}var a=false;if(!g.id){a=true}var z=document.getElementById("miniCrad");var l="";if(g.accountShortName&&g.accountShortName!=""&&g.accountShortName!="null"&&g.accountShortName!="undefined"){l="("+g.accountShortName+")"}var o=g.data.orgDepartmentId;if(o.length>20){o=o.substring(0,20)+"..."}var u="<div class='left'style='width:90px;'><div class=' align_center'><span class='people_img relative display_inline-block  over_hidden margin_t_5'><img class='radius' id='memberimg' src='"+g.data.imgurl+"' width='70'height='70'></span></div><div class=' align_center'>";u=u+"</div></div><form name='peoplecardminiform'id='peoplecardminiform'method='post'><div style='height:127px;' class='over_hidden adapt_w font_size12 form_area people_msg'><table cellpadding='0'cellspacing='0'width='100%'class='padding_5 margin_l_10'><caption class='align_left font_bold font_size14'><label id='name'/><div class='cut_string margin_5'>"+g.data.name+l+"</div></caption><tr><td width='100%'colspan='2'class='font_bold'style='font-size:14px;'><label id='orgDepartmentId'/><div class='cut_string'>"+o+"</div></td></tr><tr><th nowrap='nowrap'>"+$.i18n("org.account_form.telephone.label")+":</th><td width='400'><label id='officenumber'/>"+g.data.officenumber+"</td></tr><tr><th nowrap='nowrap'>"+$.i18n("member.mobile")+":</th><td><label id='telnumber'/>"+g.data.telnumber+"</td></tr><tr><th nowrap='nowrap'>"+$.i18n("member.email")+":</th><td><label  id='emailaddress'/>"+g.data.emailaddress+"</td></tr></table></div></form><ul class='font_size12 align_center card_operate border_t clear'>";u=u+"</ul>";if(z.length==0){var h=document.createElement("div");h.id="miniCrad";h.className="cardmini h100b hidden";h.innerHTML=u;var A=document.getElementsByTagName("body");A[0].appendChild(h)}else{z.innerHTML=u}if(""==g.data.relateType){var q=function(){dialog=$.dialog({id:"url",url:_ctxPath+"/relateMember.do?method=addRelativePeople&receiverId="+g.data.id,width:420,height:200,targetWindow:getCtpTop(),title:$.i18n("peoplecard.addrelpeple.js")})};SeeUtils.removeEvent("addcorrelation","click",q);SeeUtils.addEvent("addcorrelation","click",q)}else{document.getElementById("addcorrelation").innerText=g.data.relateType}var m=function(){if(document.getElementById("emailaddress").innerHTML!=""){sendMail(document.getElementById("emailaddress").innerHTML)}};SeeUtils.removeEvent("sendemail","click",m);SeeUtils.addEvent("sendemail","click",m);var n=function(){appToColl4DialogMode("peopleCard",g.data.id)};SeeUtils.removeEvent("sendcollaboration","click",n);SeeUtils.addEvent("sendcollaboration","click",n);var t=function(){sendSMS(g.data.id)};SeeUtils.removeEvent("sendSMS","click",t);SeeUtils.addEvent("sendSMS","click",t);var f=$.ctx&&$.ctx.resources||vPortal.resources;if(f==null||f==undefined){f=getCtpTop().$.ctx&&getCtpTop().$.ctx.resources||getCtpTop().vPortal.resources}try{if(!f.contains("F01_newColl")){SeeUtils.hideEl("sendcollaboration")}if(!f.contains("F12_mailcreate")){SeeUtils.hideEl("sendemail")}}catch(x){}if(!y.canSendSMS){SeeUtils.hideEl("sendSMS")}var c=$.ctx&&$.ctx.plugins||vPortal.plugins;if(c==null||c==undefined){c=getCtpTop().$.ctx&&getCtpTop().$.ctx.plugins||getCtpTop().vPortal.plugins}var d=$.dialog({id:"dialog_cardMini",width:330,height:161,type:"panel",htmlId:"miniCrad",targetId:g.id,left:g.left,top:g.top,shadow:false,panelParam:{show:a,margins:false,inside:a}});return d}var size=0;function PeopleCard(b){var f=new _orgManager();var d=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(d==null||d==undefined){d=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}if(!f.canShowPeopleCard(d.id,b.memberId)){return}var e=f.getMemberExternalType(b.memberId);var a=e==0?true:false;var c="530";if(!a){c="300"}newPeopleCardDialog=getA8Top().$.dialog({id:"newPeopleCardDialog",transParams:{parentWin:window},title:" ",isHead:false,url:_ctxPath+"/organization/peopleCard.do?method=showPeoPleCard&type=withbutton&memberId="+b.memberId+CsrfGuard.getUrlSurffix(),width:455,height:c,top:b.top,closeParam:{show:false}});return newPeopleCardDialog}function PeopleCardWithOutButton(a){var c=new _orgManager();var b=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(b==null||b==undefined){b=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}if(!c.canShowPeopleCard(b.id,a.memberId)){return}newPeopleCardWithoutButtonDialog=getA8Top().$.dialog({id:"newPeopleCardWithoutButtonDialog",transParams:{parentWin:window},title:" ",isHead:false,url:_ctxPath+"/organization/peopleCard.do?method=showPeoPleCard&type=withoutbutton&memberId="+a.memberId+CsrfGuard.getUrlSurffix(),width:455,height:530,top:a.top,closeParam:{show:false}});return newPeopleCardWithoutButtonDialog}function PeopleCardMini_flash(c){var e=new _orgManager();var d=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(d==null||d==undefined){d=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}if(!e.canShowPeopleCard(d.id,c.memberId)){return}this.memberId=c.memberId;this.data=c.data;this.left=c.left;this.top=c.top;this.accountShortName=c.accountShortName;this.id=null;var b=this;var a=createPanel(b);return a}function PeopleCardMini_flashWithOutButton(c){var e=new _orgManager();var d=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(d==null||d==undefined){d=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}if(!e.canShowPeopleCard(d.id,c.memberId)){return}this.memberId=c.memberId;this.data=c.data;this.left=c.left;this.top=c.top;this.accountShortName=c.accountShortName;this.id=null;var b=this;var a=createPanelWithOutButton(b);return a}function PeopleCardMini(d,f){var g=new _orgManager();var e=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(e==null||e==undefined){e=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}if(!g.canShowPeopleCard(e.id,d.memberId)){return}this.memberId=d.memberId;this.obj=f;this.data=d.data;this.id=f.attr("id");var c;var b=this;var a=true;this.obj.bind({mouseenter:function(){c=createPanel(b);SeeUtils.addEvent(c.id+"_main","mouseenter",function(){a=false});SeeUtils.addEvent(c.id+"_main","mouseleave",function(){c.hideDialog()})},mouseleave:function(){setTimeout(function(){if(a){try{c.hideDialog()}catch(h){}}},200)}});return c}function PeopleCardMiniWithOutButton(d,f){var g=new _orgManager();var e=$.ctx&&$.ctx.CurrentUser||vPortal.CurrentUser;if(e==null||e==undefined){e=getCtpTop().$.ctx&&getCtpTop().$.ctx.CurrentUser||getCtpTop().vPortal.CurrentUser}if(!g.canShowPeopleCard(e.id,d.memberId)){return}this.memberId=d.memberId;this.obj=f;this.data=d.data;this.id=f.attr("id");var c;var b=this;var a=true;this.obj.bind({mouseenter:function(){c=createPanelWithOutButton(b);SeeUtils.addEvent(c.id,"mouseenter",function(){a=false});SeeUtils.addEvent(c.id,"mouseleave",function(){c.hideDialog()})},mouseleave:function(){setTimeout(function(){if(a){try{c.hideDialog()}catch(h){}}},200)}});return c}var plist=null;var styleData=null;var printDefaultSelect=null;var notPrintDefaultSelect=null;var otherPrarams=null;var contentType=null;var viewState=null;var moduleId=null;var isFormPrintFlag=false;var printObj=null;function printList(a,b,c){if(!a){return}plist=a;styleData=b;if(arguments[8]!=null){printObj=arguments[8]}if(arguments[2]!=null){printDefaultSelect=arguments[2]}else{printDefaultSelect=null}if(arguments[3]!=null){notPrintDefaultSelect=arguments[3]}else{notPrintDefaultSelect=null}if(arguments[4]!=null){contentType=arguments[4]}else{contentType=null}if(arguments[5]!=null){viewState=arguments[5]}else{viewState=null}if(arguments[6]!=null){otherPrarams=arguments[6]}else{otherPrarams=null}if(arguments[7]!=null&&arguments[7]!="undefined&isPrint=true"){printFormButton("true",a,arguments[7]);return}if(typeof c!="undefined"&&c=="true"){printButton("true")}else{printButton("false")}}function printFormButton(d,c,b){if(c.instance[2]["dataContent"]!=null&&(c.instance[2]["dataContent"]+"").indexOf("c2printcontent")!=-1){c.instance[2]["dataHtml"]=c.instance[2]["dataContent"];printButton("true")}else{var a=_ctxPath+"/common/print/printForm.jsp?isEdge="+d+"&jsessionid="+_sessionid;if((b+"").indexOf("cap4")>0){a=_ctxPath+"/common/print/captPrintForm.jsp?from=formPrint&isEdge="+d+"&jsessionid="+_sessionid}if(contentType){a+="&contentType="+contentType}if(viewState){a+="&viewState="+viewState}window.open(a)}}function printButton(b){var a=_ctxPath+"/common/print/print.jsp?isEdge="+b+"&jsessionid="+_sessionid;if(contentType){a+="&contentType="+contentType}if(viewState){a+="&viewState="+viewState}window.open(a)}function printListLodop(g,a,h,f,d,e,c,b){if(!g){return}plist=g;styleData=a;if(h!=null){printDefaultSelect=h}else{printDefaultSelect=null}if(f!=null){notPrintDefaultSelect=f}else{notPrintDefaultSelect=null}if(d!=null){contentType=d}else{contentType=null}if(e!=null){viewState=e}else{viewState=null}if(c!=null){otherPrarams=c}else{otherPrarams=null}if(b!=null){moduleId=b}else{moduleId=null}printButtonLodop()}function printButtonLodop(){var a=_ctxPath+"/common/print/lodopprint.jsp?jsessionid="+_sessionid;if(contentType){a+="&contentType="+contentType}if(viewState){a+="&viewState="+viewState}if(moduleId){a+="&moduleId="+moduleId}window.open(a)}function getParentWindow(a){a=a||window;if(a.dialogArguments){return a.dialogArguments}else{return a.opener||a}}function printLoad(){var e=getParentWindow();var b=document.getElementById("context");var h=e.plist;var c=h.size();for(var f=0;f<c;f++){var l=h.get(f);if(typeof(l.dataHtml)==="undefined"||typeof(l.dataHtml)===undefined){b.innerHTML+="<p></p>"}else{b.innerHTML+="<p>"+l.dataHtml+"</p>"}}var d=e.styleData;setStyle(d);var g=document.getElementById("checkOption");var a=e.plist;var k=h.size();var j=0;for(var f=0;f<k;f++){var l=a.get(f);if(l.dataName!=null&&l.dataName!=""){g.innerHTML+="<div for='dataNameBox"+f+"' class='margin_r_10 hand left'><input class='radio_com' type=checkbox checked name='dataNameBoxes' id=dataNameBox"+f+" onclick='printMain(this)'><font style='font-size:12px' color='black'>"+l.dataName+"</font></label>&nbsp;&nbsp;";j++}}if(j>0){g.innerHTML+="<font style='font-size:12px' color='black'><div for='printall' class='margin_r_10 hand left'><input class='radio_com' type=checkbox id ='printall' checked name=cboxs onclick=printAll(this)>"+$.i18n("print.printall.label.js")+"</div></font>"}if(e.notPrintDefaultSelect!=null){for(var f=0;f<e.notPrintDefaultSelect.length;f++){if(document.getElementById("dataNameBox"+e.notPrintDefaultSelect[f])!=null){document.getElementById("dataNameBox"+e.notPrintDefaultSelect[f]).checked=false}}}document.close();var b=document.getElementById("context");creatDataHtml(h,b);disabledLink();if(typeof(e.waterMarkBase64)!="undefined"&&e.waterMarkBase64!=""){document.getElementById("context").style.backgroundImage='url("'+e.waterMarkBase64+'")'}}function printMain(g){var f=getParentWindow();var j=f.plist;var c=document.getElementById("context");creatDataHtml(j,c);checkCount(g,j);disabledLink();initBodyHeight();loadSign();if(c.className=="content set_ul_ls"){var h=$("#context>div>ul>li.comment_li");for(var b=0,a=h.length;b<a;b++){h[b].style.listStyle="none"}var d=$("#context div[class=content]>ul>li");for(var b=0,a=d.length;b<a;b++){d[b].style.listStyle="none"}}}function cleanSpecial(e){var a=e.indexOf("<DIV>");if(a==-1){return e}var c=e.substr(0,a-1);var d=e.substr(a);var b=d.indexOf("</DIV>");var f=d.substr(b+6);return cleanSpecial(c+f)}function creatDataHtml(h,a){var b=h.size();var f=new StringBuffer();f.append("");for(var d=0;d<b;d++){var l=h.get(d);if(l.dataName!=null&&l.dataName!=""){var k=document.getElementById("dataNameBox"+d);if(k.checked){if(typeof(l.dataHtml)==="undefined"||typeof(l.dataHtml)===undefined){f.append("<p></p>")}else{if(SeeUtils.isIE11&&d==0){try{l.dataHtml=l.dataHtml.replace("margin","padding")}catch(j){}}f.append("<p>"+l.dataHtml+"</p>")}}else{var c=document.getElementById("printall");c.checked=false}}if(l.dataName==""){if(typeof(l.dataHtml)==="undefined"||typeof(l.dataHtml)===undefined){f.append("<p></p>")}else{f.append("<p>"+l.dataHtml+"</p>")}}}var g=f.toString();$(a).html(f.toString());if(contentType==20||(contentType==10&&$("div[id^='formmain_']",$(a)).length>0)){replaceFormCompField();initFormContent(true)}else{if(contentType==10&&g.indexOf("formmain_")!=-1){initFormContent(true,true)}}$(":checkbox",$("div[id^='formmain_']")).removeProp("disabled").removeAttr("name").removeAttr("id").attr("onclick","return false;").unbind("click").bind("click",function(){return false})}function replaceFormCompField(){var g=null;var a=$("span[id$='_span']",$("#context"));var b=getParentWindow().otherPrarams;if(b){if(b.formObj){g=b.formObj}}for(var c=0;c<a.length;c++){var e=$(a[c]);var f=e.attr("fieldVal");if(f==undefined){continue}else{f=$.parseJSON(f)}var d=e.attr("id").split("_")[0];if(f.inputType=="attachment"||f.inputType=="document"||f.inputType=="image"){if(20==contentType&&g!=null){e.html(b[getRecordIdByJqueryField(e)+"_"+d]);e.find("div[id^=attachment2Area]").css("background-color","white");e.find("div[id^=attachmentArea]").css("background-color","white")}e.find(".ico16").each(function(){if($(this).hasClass("affix_del_16")||$(this).hasClass("affix_16")||$(this).hasClass("associated_document_16")||$(this).hasClass("insert_pic_16")||$(this).hasClass("editor_16")){$(this).hide()}if($(this).hasClass("collection_16")){$(this).attr("title","")}});e.find(".attachment_operate").remove();e.find("a").each(function(){$(this).attr("title","")})}else{if(f.inputType=="barcode"){if(20==contentType&&g!=null){e.html(b[getRecordIdByJqueryField(e)+"_"+d])}}}}}function checkCount(g,d){var a=d.size();var j=0;for(var c=0;c<a;c++){var k=d.get(c);if(k.dataName==undefined){j=j+1}}j=a-j;if(g.checked==false){var f=0;for(var c=0;c<a;c++){var k=d.get(c);if(k.dataName!=null&&k.dataName!=""){var h=document.getElementById("dataNameBox"+c);if(h.checked==false){f++}}}if(f==j){alert("打印内容不能为空");if(g.id=="printall"){var b=parent.getParentWindow();if(b.printDefaultSelect!=null){if(document.getElementById("dataNameBox"+b.printDefaultSelect[0])!=null){document.getElementById("dataNameBox"+b.printDefaultSelect[0]).checked=true}else{document.getElementById("dataNameBox0").checked=true}}else{document.getElementById("dataNameBox0").checked=true}}else{g.checked=true}printMain(g);return false}}}function PrintFragment(a,b){this.dataName=a;this.dataHtml=b}function disabledLink(){var q=document.body.getElementsByTagName("a");var B=document.body.getElementsByTagName("span");var d=document.body.getElementsByTagName("u");var l=document.body.getElementsByTagName("table");var f=document.body.getElementsByTagName("INPUT");var o=document.body.getElementsByTagName("img");var G=document.body.getElementsByTagName("select");var m=document.body.getElementsByTagName("TEXTAREA");var u=document.body.getElementsByTagName("td");var n=document.body.getElementsByTagName("tr");var b=document.body.getElementsByTagName("OBJECT");var r=$(".xdRepeatingSection");var A="border-left:0px;border-top:0px;border-right:0px;border-bottom:0px solid #ff0000";for(var w=0;w<q.length;w++){q[w].target="_self";q[w].style.color="#000000";q[w].onclick="";q[w].href="###";q[w].style.textDecoration="none";q[w].style.cursor="default"}for(var w=0;w<B.length;w++){B[w].onmouseout="";B[w].onmouseover="";B[w].onclick="";B[w].style.cursor="default"}for(var w=0;w<d.length;w++){d[w].onclick=function(){}}for(var w=0;w<l.length;w++){l[w].onclick=""}for(var w=f.length-1;w>=0;w--){if(f[w].type=="checkbox"){if(f[w].parentNode.parentNode.id=="checkOption"||f[w].id=="printall"){continue}}else{if(f[w].type=="text"){if(f[w].id!="print8"){var x=f[w].style.cssText;var h="WORD-WRAP: break-word;TABLE-LAYOUT: fixed;word-break:break-all;";if(x==""){x=h+"display:inline-block"}else{if(x.toLowerCase().indexOf("display")==-1){h=h+"display:inline-block"}x=x+";"+h}if(x&&x.indexOf('"')!=-1){x=x.replace(/"/g,"&quot;")}var y=f[w].value.escapeSameWidthSpace()?f[w].value.escapeSameWidthSpace():f[w].title.escapeSameWidthSpace();f[w].outerHTML='<span type="text" id="'+f[w].id+'" class="'+f[w].className+'" style="'+x+'">'+y+"</span>";continue}}}var E="print1 print2 print3 print4 print5 print6 print7 print8 dataNameBox0 dataNameBox1 dataNameBox2 dataNameBox3 dataNameBox4 dataNameBox5 printall";if(E.indexOf(f[w].id)==-1){f[w].disabled="disabled";f[w].onkeypress="";f[w].onchange="";f[w].onclick="";f[w].onmouseout="";f[w].onmouseover="";f[w].onfocus="";f[w].onblur="";if(!v3x.isMSIE){f[w].disabled="disabled"}}}for(var w=0;w<o.length;w++){o[w].onkeypress="";o[w].onchange="";o[w].onclick="";o[w].style.cursor="default";o[w].alt="";o[w].title="";try{var t=o[w].src.toString();if(t.indexOf("form/image/selecetUser.gif")!=-1||t.indexOf("form/image/date.gif")!=-1||t.indexOf("form/image/add.gif")!=-1||t.indexOf("form/image/addEmpty.gif")!=-1||t.indexOf("form/image/delete.gif")!=-1||t.indexOf("handwrite.gif")!=-1||t.indexOf("seeyon/apps_res/v3xmain/images/message/16/attachment.gif")!=-1||t.indexOf("seeyon/apps_res/form/image/quoteform.gif")!=-1){o[w].outerHTML="&nbsp;&nbsp;&nbsp;";w--}if(t.indexOf("handwrite.gif")!=-1){for(var F=0;F<b.length;F++){if(b[F].innerHTML.indexOf("Enabled")!=-1){b[F].Enabled=false}}}}catch(z){}}for(var s=G.length-1;s>=0;s--){var x=G[s].style.cssText;try{var g=G[s].parentNode.childNodes;for(var D=0;D<g.length;D++){if(g[D].id==G[s].id+"_autocomplete"){x=g[D].style.cssText;break}}}catch(z){}if(x&&x.indexOf('"')!=-1){x=x.replace(/"/g,"&quot;")}$(G[s].parentNode).replaceWith('<span class="'+G[s].className+'" style="'+x+'">'+G[s].options[G[s].selectedIndex].text+"</span>")}for(var w=0;w<m.length;w++){try{var k="overflow-y:visible;overflow-x:visible;";var x=m[w].style.cssText;if(x==""){x=k}else{x=x+";"+k}m[w].style.cssText=x;m[w].onclick="";m[w].onkeypress="";m[w].onchange="";m[w].onmouseout="";m[w].onmouseover="";m[w].onfocus="";m[w].onblur=""}catch(z){}m[w].readOnly="readOnly"}for(var w=0;w<u.length;w++){u[w].onclick=""}for(var w=0;w<n.length;w++){n[w].onclick="";$(n[w]).unbind("click").attr("onclick","")}r.each(function(){this.onclick="";$(this).unbind("click").attr("onclick","")})}function printInnerLoad(){var d=document.getElementById("context");var f=parent.getParentWindow();var g=f.plist;var c=g.size();for(var b=0;b<c;b++){var e=g.get(b);if(typeof(e.dataHtml)==="undefined"||typeof(e.dataHtml)===undefined){d.innerHTML+="<p></p>"}else{d.innerHTML+="<p>"+e.dataHtml+"</p>"}}var a=f.styleData;if(!a){setStyle(a)}}function setStyle(a){if(a!=null&&a.size()>0){var b=document.getElementById("linkList");if(b==null){return}for(var c=0;c<a.size();c++){var d=document.createElement("link");d.setAttribute("rel","stylesheet");d.setAttribute("href",a.get(c));d.setAttribute("type","text/css");b.appendChild(d)}}}function printAll(c){var a=document.getElementsByName("dataNameBoxes");if(c.checked){for(var b=0;b<a.length;b++){a[b].checked=true}printMain(c)}else{for(var b=0;b<a.length;b++){a[b].checked=false}printMain(c)}loadSign()}function onbeforeprint(){document.getElementById("checkOption").style.display="none"}function onafterprint(){document.getElementById("checkOption").style.display=""}function MxtProgressBar(a){if(a==undefined){a={}}this.id=a.id?a.id:"MxtProgressBar"+Math.floor(Math.random()*100000000);this.text=a.text?a.text:"";this.progress=a.progress?a.progress:"";this.width=a.width?a.width:600;this.height=a.height?a.height:70;this.isMode=a.isMode==undefined?true:a.isMode;this.buttons=a.buttons;if(this.buttons!=null){this.height+=30}this.borderSize=1;this.init();MxtProgressBar.current=this}MxtProgressBar.current=null;MxtProgressBar.createCtpTopBar=function(a){var c=null;try{c=getCtpTop()}catch(b){return null}if(c!=null){c.MxtProgressBar.current=new c.MxtProgressBar(a);return c.MxtProgressBar.current}else{return null}};MxtProgressBar.getCtpTopBar=function(){var b=null;try{b=getCtpTop()}catch(a){return null}if(b!=null){return b.MxtProgressBar.current}else{return null}};MxtProgressBar.prototype.init=function(){var g=this.id+"_mask";var l=document.body.clientWidth;var b=(document.documentElement.scrollHeight>document.documentElement.clientHeight?document.documentElement.scrollHeight:document.documentElement.clientHeight);var d=getMaxZindex(2);if(document.getElementById(g)==null&&this.isMode==true){var m=document.createElement("div");m.style.height=b+"px";m.style.width=l+"px";m.style.zIndex=d;m.id=g;m.className="mask";m.innerHTML="&nbsp;";SeeUtils.prependToBody(m)}var e=document.getElementById(this.id);if(e!=null){e.remove()}var a="";if(this.progress==""){var o=(l-66)/2;var n=(document.documentElement.clientHeight-66)/2;a+="<div id='"+this.id+"' class='common_loading_progress_box absolute clearfix' style='left:"+(o+document.documentElement.scrollLeft)+"px;top:"+(n+document.documentElement.scrollTop)+"px;z-index:"+(d+1)+"'></div>";if(this.text!=""&&this.text!=undefined){a+="<div id='"+this.id+"_text' class='absolute clearfix' style='width:auto;overflow:hidden;border:0px #286fbf solid;background:#f8f8f8;font-size:12px;padding:5px;left:"+(o+document.documentElement.scrollLeft-76)+"px;top:"+(n+document.documentElement.scrollTop+66)+"px;z-index:"+(d+1)+"'>"+this.text+"</div>"}}else{var o=(l-(this.width+5))/2;var n=(document.documentElement.clientHeight-(this.height+5))/2;a+="<div id='"+this.id+"' class='common_progress_box absolute clearfix' style='left:"+((o<0?0:o)+document.documentElement.scrollLeft)+"px;top:"+((n<0?0:n)+document.documentElement.scrollTop)+"px;z-index:"+(d+1)+"'>";a+="<div id='"+this.id+"_shadow' class='common_progress_shadow absolute' style='width:"+(this.width+this.borderSize*2)+"px;height:"+(this.height+this.borderSize*2)+"px;'>&nbsp;</div>";a+="<div class='common_progress_strip absolute padding_5' style='width:"+(this.width-10)+"px;height:"+(this.height-10)+"px;'>";if(this.text!=""){a+="<dl id='"+this.id+"_title' class='common_progress_strip_title margin_b_5 margin_t_5 '>"+this.text+"</dl>"}a+="<dl id='"+this.id+"_text' class='common_progress_strip_per margin_l_10 right margin_r_5'>"+this.progress+"%</dl>";a+="<dl class='common_progress_strip_content'>";a+="<dt id='"+this.id+"_progress' class='common_progress_strip_bg' style='width:"+this.progress+"%'></dt>";a+="</dl>";a+="<div class='padding_10'><table class='common_right'><tr><td class='clearfix' id='"+this.id+"_buttons'>";a+="</td></tr></table></div>";a+="</div>";a+="</div>"}var k=document.createElement("div");k.id=this.id+"_box";k.innerHTML=a;SeeUtils.prependToBody(k);if(this.buttons!=null){for(var f=0;f<this.buttons.length;f++){var h=this.buttons[f];var c=document.createElement("a");c.id=h.id;c.className="common_button common_button_gray margin_r_10";c.setAttribute("href","javascript:void(0)");c.innerHTML=h.text;SeeUtils.addEvent(c,"click",h.handler);SeeUtils.appendTo(c,this.id+"_buttons")}}var j=SeeUtils.getElWidth(this.id+"_text");if(AssertUtils.isNumber(j)){SeeUtils.css(this.id+"_text","left",o+document.documentElement.scrollLeft-((parseFloat(j)-56)/2)+"px")}};MxtProgressBar.prototype.setText=function(b){var a=document.getElementById(this.id+"_text");SeeUtils.css(a,"width","100%");SeeUtils.css(a,"textAlign","center");SeeUtils.css(a,"left","0");SeeUtils.css(a,"background","none");SeeUtils.html(a,"<span style='text-align: center;background-color: #f8f8f8;padding: 3px 5px'>"+b+"</span>")};MxtProgressBar.prototype.setProgress=function(a){SeeUtils.css(this.id+"_text","width",a+"%");SeeUtils.html(this.id+"_text",a+"%")};MxtProgressBar.prototype.setTitle=function(a){SeeUtils.html(this.id+"_title",a)};MxtProgressBar.prototype.close=function(){if(SeeUtils!=null){SeeUtils.removeEl(this.id+"_mask");SeeUtils.removeEl(this.id+"_box");SeeUtils.removeEl(this.id);if(this.text!=""&&this.text!=undefined){SeeUtils.removeEl(this.id+"_text")}MxtProgressBar.current=null}};MxtProgressBar.prototype.start=function(){SeeUtils.showEl(this.id+"_mask");SeeUtils.showEl(this.id);if(this.text!=""&&this.text!=undefined){SeeUtils.showEl(this.id+"_text")}};var Bord=({base:function(b){var a=b.find("option:selected");if(a.length==0){$.alert($.i18n("assistantSetup.select.label"));return false}return a},add:function(){with(this){var addList=base(addObj);if(addList==false){return false}for(var i=0;i<addList.length;i++){if(maxLength!=false&&(i>maxLength-1||removeObj.find("option").length>=maxLength)){$.alert($.i18n("portal.select.max.label",maxLength));return}if(isKeep==true){if(!addObj.find($(addList[i])).hasClass("color_gray")){removeObj.append($(addList[i]).clone(true))}else{$.alert($.i18n("portal.select.repeat.label"));return false}addObj.find($(addList[i])).addClass("color_gray")}else{addObj.find($(addList[i])).remove();removeObj.append($(addList[i]).clone(true))}}}return true},remove:function(){with(this){var removeList=base(removeObj);if(removeList==false){return false}for(var i=0;i<removeList.length;i++){removeObj.find($(removeList[i])).remove();var selectId=$(removeList[i]).attr("type");if(isKeep==true){var val=$(removeList[i]).val();$("#"+selectId).find("option[value='"+val+"']").removeClass("color_gray")}else{$("#"+selectId).append(removeList[i])}}}return true},moveT:function(f){var e=this.base(f);for(var b=0;b<e.length;b++){var c=$(e[b]);var d=f.find("option").eq(b);var a=c.prev("option");c.after(a)}},moveB:function(h){var g=this.base(h);var e=g.length;var b=h.find("option").length;for(var c=0;c<g.length;c++){var d=$(g[e-c-1]);var f=h.find("option").eq(b-c-1);var a=d.next("option");if(d.attr("value")!=f.attr("value")){d.before(a)}}},refreash:function(){with(this){var options=removeObj.find("option");$.each(options,function(i,n){var selectId=$(n).attr("type");var val=$(n).val();if(isKeep==true){$("#"+selectId).find("option[value='"+val+"']").addClass("color_gray")}else{$("#"+selectId).find("option[value='"+val+"']").remove()}})}}});function setBord(a){this.maxLength=a.maxLength;this.isKeep=a.isKeep;this.addObj=a.addObj;this.removeObj=a.removeObj;if(a.dbbinds){$.each(a.dbbinds,function(b,c){$(b).bind("dblclick",c)})}}setBord.prototype=Bord;function MxtTab(a){this.id=a.id;this.width=a.width?a.width:null;this.height=a.height?a.height:null;this.auoHeight=a.height?false:true;this.parentId=a.parentId?a.parentId:null;this.showTabIndex=a.showTabIndex?a.showTabIndex:0;this.refreashTab=a.refreashTab?a.refreashTab:false;this.hideTabHeight=a.hideTabHeight?a.hideTabHeight:false;this.tabsEquallyWidth=a.tabsEquallyWidth?a.tabsEquallyWidth:false;this.needPage=a.needPage==null?false:a.needPage;this._headHeight=SeeUtils.getElHeight(this.id+"_head")+1;if(a.triggerCurrent!=null){this.triggerCurrent=a.triggerCurrent==false?false:true}else{this.triggerCurrent=true}this.init()}MxtTab.prototype.init=function(){this.tabs_head_obj=SeeUtils.getElObj(this.id+"_head");this.tabs_head_ul_obj=SeeUtils.getElByTagAndIndex(this.tabs_head_obj,"ul",0);this.tabs_body_obj=SeeUtils.getElObj(this.id+"_body");var b=document.body.clientWidth;var e=document.documentElement.clientHeight;if(this.width==null){this.width=b}if(this.height==null){this.height=e-this._headHeight}if(this.parentId!=null){this.width=SeeUtils.getElWidth(this.parentId);this.height=SeeUtils.getElHeight(this.parentId)-this._headHeight}if(this.hideTabHeight){this.height=this.height-this._headHeight}if(this.tabs_head_obj!=null){SeeUtils.setElWidth(this.tabs_head_obj,this.width)}if(this.tabs_body_obj!=null){SeeUtils.setElWidth(this.tabs_body_obj,this.width);SeeUtils.setElHeight(this.tabs_body_obj,this.height)}this.tabObjs=SeeUtils.getElByTag(this.tabs_head_ul_obj,"a");if(this.tabsEquallyWidth==true){var c=this.width/this.tabObjs.length-16;for(var a=0;a<this.tabObjs.length;a++){var f=this.tabObjs[a];SeeUtils.setElWidth(f,c);SeeUtils.css(f,"maxWidth",c)}}if(this.needPage){this.reCalcSize()}this.setClick();if(this.triggerCurrent){var d=SeeUtils.getElByTagAndIndex(this.tabs_head_ul_obj,"a",this.showTabIndex);if(d!=null){d.click()}}var g=this;$(window).resize(function(){g.reSetHeight()})};MxtTab.prototype.reSetHeight=function(){if(this.auoHeight){this.height=null}var b=document.documentElement.clientHeight;if(this.height==null){this.height=b-this._headHeight-2}if(this.parentId!=null){this.height=SeeUtils.getElHeight(this.parentId)-this._headHeight-2}if(this.hideTabHeight){this.height=this.height-this._headHeight}this.height=this.height-6;if(this.tabs_body_obj!=null){SeeUtils.setElHeight(this.tabs_body_obj,this.height)}this.setBodyChildrenHeight();try{}catch(a){}};MxtTab.prototype.setBodyChildrenHeightAndWidth=function(){if(this.tabs_body_obj!=null){var b=this.tabs_body_obj.children;for(var c=0,a=b.length;c<a;c++){SeeUtils.setElHeight(b[c],this.height);SeeUtils.setElWidth(b[c],this.width)}}};MxtTab.prototype.setBodyChildrenHeight=function(){if(this.tabs_body_obj!=null){var b=this.tabs_body_obj.children;for(var c=0,a=b.length;c<a;c++){SeeUtils.setElHeight(b[c],this.height)}}};MxtTab.prototype.disabled=function(e){var a=SeeUtils.getElByTag(this.tabs_head_ul_obj,"a");for(var b=0;b<a.length;b++){var d=a[b];var c=SeeUtils.getAttrEl(d,"tgt");if(c==e){SeeUtils.addClass(d,"disable");SeeUtils.removeEvent(d,"click",tabClick)}}};MxtTab.prototype.enable=function(e){var a=SeeUtils.getElByTag(this.tabs_head_ul_obj,"a");for(var b=0;b<a.length;b++){var d=a[b];var c=SeeUtils.getAttrEl(d,"tgt");if(c==e){c=SeeUtils.getElObj(c);SeeUtils.removeClass(d,"disable");SeeUtils.addEvent(a[b],"click",tabClick)}}};function _setTabLiCurrent(a){SeeUtils.addClass(a.parentNode,"current");SeeUtils.eachBySiblings(a.parentNode,function(b){SeeUtils.removeClass(b,"current")})}function _setTabBodeyCurrent(a){SeeUtils.removeClass(a,"hidden");SeeUtils.addClass(a,"show");SeeUtils.eachBySiblings(a,function(b){SeeUtils.removeClass(b,"show");SeeUtils.addClass(b,"hidden")})}MxtTab.prototype.getIframeSize=function(){if(this.tabs_body_obj!=null){var a=SeeUtils.getElByTag(this.tabs_body_obj,"iframe");return a.length}return 0};MxtTab.prototype.setCurrent=function(g){var b=this;var a=SeeUtils.getElByTag(this.tabs_head_ul_obj,"a");for(var c=0;c<a.length;c++){var e=a[c];var d=SeeUtils.getAttrEl(e,"tgt");if(d==g){_setTabLiCurrent(e);d=SeeUtils.getElObj(d);if(d!=null){_setTabBodeyCurrent(d);if(d.tagName.toLowerCase()=="iframe"&&b.getIframeSize()!=1){if(!SeeUtils.getAttrEl(d,"hSrc")){SeeUtils.attrEl(d,"hSrc",SeeUtils.getAttrEl(d,"src"))}var f=SeeUtils.getAttrEl(d,"src");SeeUtils.attrEl(d,"src","");SeeUtils.attrEl(d,"src",f)}}}}};MxtTab.prototype.setMouseOver=function(){var b=this;var a=SeeUtils.getElByTag(this.tabs_head_ul_obj,"a");for(var c=0;c<a.length;c++){var e=a[c];var d=SeeUtils.getAttrEl(e,"tgt");d=SeeUtils.getElObj(d);if(d!=null){if(c!=0&&d.tagName.toLowerCase()=="iframe"&&b.getIframeSize()!=1){SeeUtils.attrEl(d,"hSrc",SeeUtils.getAttrEl(d,"src"));SeeUtils.attrEl(d,"src","")}}SeeUtils.removeEvent(e,"click",tabClick);$(e).mouseover(function(){if(d!=null){_setTabLiCurrent(e);_setTabBodeyCurrent(d);if(SeeUtils.getAttrEl(d,"src")==""&&d.tagName.toLowerCase()=="iframe"&&b.getIframeSize()!=1){SeeUtils.attrEl(d,"src",SeeUtils.getAttrEl(d,"hSrc"))}}})}};var _getTarget=function(b){var a=b||window.event;if(typeof a.target!=="undefined"){return a.target}else{return a.srcElement}};function _getIframeSize(b){var a=SeeUtils.getElByTag(b+"_body","iframe");return a.length}function tabClick(d){var d=d||window.event;var f=SeeUtils.closestByTagName(_getTarget(d),"a");var c=SeeUtils.getAttrEl(f,"tgt");var a=SeeUtils.getAttrEl(f,"falg");var b=SeeUtils.getAttrEl(f,"refreashTab");var g=SeeUtils.getAttrEl(f,"tabCtlId");c=SeeUtils.getElObj(c);if(c!=null){_setTabLiCurrent(f);if(a){SeeUtils.eachByTag("moreTabsList","li",function(e){SeeUtils.removeClass(e,"current")})}_setTabBodeyCurrent(c);if((SeeUtils.getAttrEl(c,"src")==""||b=="true")&&c.tagName.toLowerCase()=="iframe"&&_getIframeSize(g)!=1){SeeUtils.attrEl(c,"src",SeeUtils.getAttrEl(c,"hSrc"))}}}function _initTabsInfo(c,a,b){for(var d=0;d<c.length;d++){var f=c[d];var e=SeeUtils.getAttrEl(f,"tgt");e=SeeUtils.getElObj(e);if(e!=null){SeeUtils.setElHeight(e,b.height);if(e.tagName.toLowerCase()=="iframe"&&_getIframeSize(b.id)!=1){if(!SeeUtils.getAttrEl(e,"hSrc")){SeeUtils.attrEl(e,"hSrc",SeeUtils.getAttrEl(e,"src"))}SeeUtils.attrEl(e,"src","")}}if(a){SeeUtils.attrEl(c[d],"falg",a)}SeeUtils.attrEl(c[d],"refreashTab",b.refreashTab);SeeUtils.attrEl(c[d],"tabCtlId",b.id);$(c[d]).click(function(g){tabClick(g)})}}MxtTab.prototype.setClick=function(){var a=this;this.tabObjs=SeeUtils.getElByTag(this.tabs_head_ul_obj,"a");_initTabsInfo(this.tabObjs,true,a);_initTabsInfo(SeeUtils.getElByTag("moreTabsList","a"),false,a)};MxtTab.prototype.resetSize=function(a){if(this.width==null){this.width=_client_width-2}if(this.height==null){this.height=_client_height-this._headHeight-2}if(this.parentId!=null){this.width=SeeUtils.getElWidth(this.parentId)-2;this.height=SeeUtils.getElHeight(this.parentId)-this._headHeight-2}if(this.hideTabHeight){this.height=this.height-this._headHeight}var a=a;if(a==null){a=[]}if(a.width!=null){this.width=a.width}if(a.height!=null){this.height=a.height}if(this.tabs_head_obj!=null){SeeUtils.setElWidth(this.tabs_head_obj,this.width)}if(this.tabs_body_obj!=null){SeeUtils.setElWidth(this.tabs_body_obj,this.width);SeeUtils.setElHeight(this.tabs_body_obj,this.height)}this.setBodyChildrenHeightAndWidth()};MxtTab.prototype.reCalcSize=function(){var d=SeeUtils.getElWidth(this.id)-20;var a=SeeUtils.getElByTag(this.tabs_head_ul_obj,"li");var n=0;var h=0;var m=a.length;var c=0;var k=false;for(var g=0;g<=m;g++){SeeUtils.css(a[g],"display","inline-block");h=SeeUtils.getElWidth(a[g]);SeeUtils.css(a[g],"display","inline");n+=h;if(n>d){k=true;break}c=g+1}var a=$("#"+this.id).find("ul").find("li");this.tabs_head=$("#"+this.id+"_head");if(k==true){if($("#moreTabsArea").length>0){$("#moreTabsArea").remove()}this.tabs_head.append('<div id="moreTabsArea" class="moreTabsArea left"><div id="moreTabsArror" class="moreTabsArror"><span class="ico16 arrow_2_b"></span></div><div id="moreTabsList" class="moreTabsList"></div></div>');$("#moreTabsArror").height(this._headHeight);$("#moreTabsArror").find(".ico16").css("top",Math.floor((SeeUtils.getElHeight(this.id)-16)/2-1));$("#moreTabsList").css("top",this._headHeight);var l="";for(var f=c;f<=m;f++){var b=a.eq(f).clone();a.eq(f).remove();b.css("display","inline-block");$("#moreTabsList").append(b)}var e=$(window).height();if($("#moreTabsArror").length>0&&$("#moreTabsArror").offset().top+m*25+50>e){$("#moreTabsList").css({height:e-100+"px","overflow-y":"auto"})}}};function WebFXMenuBar(a){this.allMenuBottons=[];this.menuStrBuffer=[];this.render=a.render;this.contextPath=a.contextPath==null?"":a.contextPath;this.isPager=true;if(a.isPager==false){this.isPager=false}this.searchHtml=a.searchHtml;this.top=a.top==null?0:a.top;this.left=a.left==null?0:a.left;this.borderTop=0;if(a.borderTop==true){this.borderTop=1}this.borderBottom=0;if(a.borderBottom==true){this.borderBottom=1}this.borderRight=0;if(a.borderRight==true){this.borderRight=1}this.borderLeft=0;if(a.borderLeft==true){this.borderLeft=1}this.id=a.id?a.id:Math.floor(Math.random()*100000000);this.type=a.type;this.items=a.items;this.disabledItemArr=[];this.hideIdArray=[];this.showSeparate=a.showSeparate!=undefined?a.showSeparate:false}WebFXMenuBar.prototype.add=function(a){this.allMenuBottons[this.allMenuBottons.length]=a;a.webFXMenuBarObj=this};WebFXMenuBar.prototype.addMenu=function(a){this.add(new WebFXMenuButton(a));var b=this.allMenuBottons[this.allMenuBottons.length-1];b.toObj(document.getElementById("toolbar_"+this.id))};WebFXMenuBar.prototype.isA=false;WebFXMenuBar.prototype.isB=false;WebFXMenuBar.prototype.show=function(){var l=this;if(this.allMenuBottons.length>0){this.menuStrBuffer=[];if(this.isPager){var e="toolbar_m_r"+l.id+"Click";var g="toolbar_m_l"+l.id+"Click";this.menuStrBuffer.push("<div id='toolbar_"+this.id+"_box' class='common_toolbar_box clearfix' style='overflow:hidden; border-top-width:"+this.borderTop+"px;border-bottom-width:"+this.borderBottom+"px;border-left-width:"+this.borderLeft+"px;border-right-width:"+this.borderRight+"px;border-color:#b6b6b6;border-style:solid;'>");this.menuStrBuffer.push("<div id='toolbar_"+this.id+"_wrap' class='toolbar_l clearfix' style='overflow:hidden'><div id='toolbar_"+this.id+"' style='height:30px;white-space:nowrap;width:auto'>");this.menuStrBuffer.push("</div></div><div id='toolbar_m' class='left hidden'><span class=' toolbar_m_l' onclick='"+g+"()'></span><span class=' toolbar_m_r' onclick='"+e+"()'></span></div>");this.menuStrBuffer.push("<div id='toolbar_"+this.id+"_wrap_right' class='toolbar_l clearfix' style='overflow:hidden;float: right;'><div id='toolbar_"+this.id+"_right' style='height:30px;white-space:nowrap;width:auto'></div></div>")}else{this.menuStrBuffer.push("<div class='common_toolbar_box clearfix' style='_display:inline; border-top-width:"+this.borderTop+"px;border-bottom-width:"+this.borderBottom+"px;border-left-width:"+this.borderLeft+"px;border-right-width:"+this.borderRight+"px;border-color:#b6b6b6;border-style:solid;'>");this.menuStrBuffer.push("<div id='toolbar_"+this.id+"' class='toolbar_l clearfix'>");this.menuStrBuffer.push("</div>")}if(this.searchHtml!=null){this.menuStrBuffer.push("<div class='toolbar_r clearfix'>");var f=document.getElementById(this.searchHtml);if(f!=null){this.menuStrBuffer.push(f.innerHTML)}this.menuStrBuffer.push("</div>");SeeUtils.removeEl(f)}this.menuStrBuffer.push("</div>")}if(this.render==undefined){document.write(this.menuStrBuffer.join(""))}else{SeeUtils.appendTo(this.menuStrBuffer.join(""),this.render)}var k=document.getElementById("toolbar_"+this.id);var j=document.getElementById("toolbar_"+this.id+"_right");for(var u=0;u<this.allMenuBottons.length;u++){var h=this.allMenuBottons[u];h.toObj(k,j);if(this.showSeparate){if(u!=(this.allMenuBottons.length-1)){h.toSeparate(k)}}}if(this.isPager){this.setPage()}var c=SeeUtils.getByClass(document,".sub_ico");var b=SeeUtils.getByClass(document,".rolling_btn_b");var m=[];for(var z=0;z<c.length;z++){m.push(c[z])}for(var x=0;z<x.length;x++){m.push(b[x])}for(var a=0;a<m.length;a++){var d=m[a];var o=d.id;l.initDisabledItem(o);var w=navigator.userAgent.toLowerCase();var y=(w.indexOf("opera")!=-1);var n=(w.indexOf("msie")!=-1&&!y);var t="sub_"+o+"mouseover";var s="sub_"+o+"mouseout";var r="sub_"+o+"mouseenter";var q="sub_"+o+"mouseleave";if(n){window[t]=function(A){A=SeeUtils.getElObj(A);var B=A.id;if(SeeUtils.hasClass(A,"common_menu_dis")!==true){window.setTimeout(function(){l.showMoreMenu(B)},20)}};window[s]=function(){window.setTimeout(function(){l.hideMoreMenu()},20)}}else{window[r]=function(B){B=SeeUtils.getElObj(B);var A=B.id;l.isA=true;if(SeeUtils.hasClass(B,"common_menu_dis")!==true){window.setTimeout(function(){l.showMoreMenu(A)},1)}};window[q]=function(){l.isA=false;window.setTimeout(function(){l.hideMoreMenu()},1)}}}this.menuStrBuffer=[]};WebFXMenuBar.prototype.setPage=function(o){var n=this;if(o=="hideBtn"){SeeUtils.css("toolbar_"+this.id+"_wrap","width","auto");SeeUtils.css("toolbar_m","display","none")}var b=SeeUtils.getElWidth("toolbar_"+this.id);var u=SeeUtils.getElWidth("toolbar_"+this.id+"_box");SeeUtils.attrEl("toolbar_"+this.id,"totalWidth",b);var j=0;var x=SeeUtils.getByClass(document,".common_search_condition");if(x!=null&&x.length>0){var a=SeeUtils.getElWidth(x[0]);var c=SeeUtils.getAttrEl(x[0],"searchWidth");if(c==null){SeeUtils.attrEl(x[0],"searchWidth",a)}else{a=c}var t=SeeUtils.getByClass(x[0],"searchLicommon");var d=[];for(var s=0;s<t.length;s++){var B=t[s];if(SeeUtils.getCss(B,"display")!="none"){d.push(B)}}var w=SeeUtils.getByClass(document,".typeDatemulti");if(SeeUtils.getCss(x[0],"position")=="static"){j=0}else{if(w!=null&&w.length>0){j=(a)*3-10}else{if(d.length>2){j=a}else{j=a*2}}}}var k=SeeUtils.getElWidth("toolbar_"+this.id+"_wrap_right");var f=SeeUtils.getElWidth("toolbar_m");if(b>(u-j-k-f)){var m=u-j-k-f;var z=SeeUtils.getElObj("toolbar_"+this.id).children;var D=z.length;var g=0;this._subm=[];for(var r=0;r<D;r++){var l=z[r];if(l){var A=parseInt(SeeUtils.getCss(l,"margin-left"))||5;if(isNaN(A)){A=0}var y=parseInt(SeeUtils.getCss(l,"margin-right"))||0;if(isNaN(y)){y=0}var q=parseInt(l.offsetWidth);if(isNaN(q)){q=0}g=g+q+A+y;SeeUtils.attrEl(l,"pageNum",this._subm.length);if(g>m){g=g-q-A-y;SeeUtils.attrEl(l,"pageNum",this._subm.length+1);this._subm[this._subm.length]=g;g=q+A+y}}}if(this._subm.length>0){m=this._subm[0];SeeUtils.attrEl("toolbar_m","move",0)}SeeUtils.showEl("toolbar_m");SeeUtils.css("toolbar_"+this.id+"_wrap","width",m);var e="toolbar_m_r"+n.id+"Click";window[e]=function(){window.rightBt=setTimeout(function(){if(window.rightBt!=null){clearTimeout(window.rightBt)}var E=parseInt(SeeUtils.getNumber(SeeUtils.getCss("toolbar_"+n.id,"margin-left")));var F=parseInt(SeeUtils.getAttrEl("toolbar_m","move"));if(n._subm[F]){$("#toolbar_"+n.id).animate({"margin-left":E-n._subm[F]},200);if(SeeUtils.isIE8){SeeUtils.attrEl("toolbar_"+n.id,"margin-left",E-n._subm[F])}F=F+1;SeeUtils.attrEl("toolbar_m","move",F)}},250)};var h="toolbar_m_l"+n.id+"Click";window[h]=function(){window.leftBt=setTimeout(function(){if(window.leftBt!=null){clearTimeout(window.leftBt)}var E=parseInt(SeeUtils.getNumber(SeeUtils.getCss("toolbar_"+n.id,"margin-left")));if(SeeUtils.isIE8){E=SeeUtils.getNumber(SeeUtils.getAttrEl("toolbar_"+n.id,"margin-left"))}var F=parseInt(SeeUtils.getAttrEl("toolbar_m","move"))-1;if(n._subm[F]){$("#toolbar_"+n.id).animate({"margin-left":E+n._subm[F]},200);SeeUtils.attrEl("toolbar_m","move",F)}},250)}}};WebFXMenuBar.prototype.hideMoreMenu=function(b){if(this.isA||this.isB||this.isC){return}this.hiddenFlag=true;var a=this;setTimeout(function(){a.hideMoreMenuAction(b)},20)};WebFXMenuBar.prototype.hideMoreMenuAction=function(){if(this.hiddenFlag==true){SeeUtils.removeEl("toolbar_more");SeeUtils.removeEl("toolbar_more_iframe");showOfficeObj()}};WebFXMenuBar.prototype.getPosition=function(d){if(this.top==0&&this.left==0){var c=document.getElementById(d+"_a");var a=c.getBoundingClientRect().left+"px";var b=(c.getBoundingClientRect().top-1)+c.offsetHeight+"px";return{position:"absolute",top:b,left:a,width:185,"z-index":500}}else{return{position:"absolute",top:this.top,left:this.left,width:185,"z-index":500}}};WebFXMenuBar.prototype.initDisabledItem=function(g){if(g){var c=this.getMenuButton(g);var a=c.subMenu;var e=a.allItems;var b=this.hideIdArray.join(",");for(var d=0;d<e.length;d++){var f=e[d];if(f.disabled!=undefined&&f.disabled==true){this.disabledItemArr.push(f.id)}}}};WebFXMenuBar.prototype.showMoreMenu=function(j){if(j){this.hiddenFlag=false;var b=this.getMenuButton(j);var m=b.subMenu;if(SeeUtils.getElObj("toolbar_more")!=null){SeeUtils.removeEl("toolbar_more");SeeUtils.removeEl("toolbar_more_iframe")}var w=this.getPosition(j);var o="toolbar_more"+this.id+"mouseover";var n="toolbar_more"+this.id+"mouseout";var c="<div id='toolbar_more' onmouseenter='"+o+"()' onmouseleave='"+n+"()' style='background:#ffffff;z-index:599;' class='common_order_menu_box clearfix'><ul id='toolbar_more_ul' class='common_order_menu'></ul></div>";SeeUtils.appendToBody(c);SeeUtils.cssByJson("toolbar_more",w);if(m.allItems.length===0){SeeUtils.cssByJson("toolbar_more_ul",{border:"0"})}var h=this;window[o]=function(){h.isB=true;h.hiddenFlag=false};window[n]=function(){h.hiddenFlag=true;h.isB=false;h.hideMoreMenu()};var g=m.allItems;var t=this.hideIdArray.join(",");for(var q=0;q<g.length;q++){var d=g[q];if(t.indexOf(d.id)!=-1){continue}var f="toolbar_more_ul"+q+"Click";var l='<li><a  id="'+d.id+'_a" onclick="'+f+'(this)" class="order_menuitem" title="'+d.name+'">'+d.name+"</a></li>";SeeUtils.appendTo(l,document.getElementById("toolbar_more_ul"));SeeUtils.attrEl(d.id+"_a","value",d.value);if(this.disabledItemArr.indexOf(d.id)==-1){(function(x){window[f]=function(y){WebFXMenuBar.prototype.isC=true;x.click.apply(y);setTimeout(function(){SeeUtils.removeEl("toolbar_more");SeeUtils.removeEl("toolbar_more_iframe");WebFXMenuBar.prototype.isC=false},100)}})(d)}else{window[f]=function(){};SeeUtils.css(d.id+"_a","color","#D2D2D2")}}var a=document.createElement("iframe");a.id="toolbar_more_iframe";a.className="absolute";a.setAttribute("src","about:blank");a.setAttribute("frameborder","0");a.style.zIndex=9;a.style.top=parseFloat(SeeUtils.getCss("toolbar_more","top"))+"px";a.style.left=parseFloat(SeeUtils.getCss("toolbar_more","left"))+"px";a.style.width=SeeUtils.getElWidth("toolbar_more")+"px";a.style.height=SeeUtils.getElHeight("toolbar_more")+"px";SeeUtils.appendToBody(a);var r=document.getElementById(j+"_a");var e=parseInt(r.getBoundingClientRect().top)+parseInt(r.clientHeight);var s=SeeUtils.getElHeight("toolbar_more");var k=parseInt(SeeUtils.getDocumentHeight());if((e+s)>k){var u=SeeUtils.getElHeight(r);SeeUtils.css("toolbar_more","height",k-e-u);SeeUtils.css("toolbar_more","overflow","auto");SeeUtils.addClass("toolbar_more","border_all");SeeUtils.css("toolbar_more_ul","border",0);SeeUtils.css("toolbar_more_iframe","height",k-e-u)}hideOfficeObj()}};WebFXMenuBar.prototype.disabledAll=function(){var a=this;for(var b=0;b<this.allMenuBottons.length;b++){var c=this.allMenuBottons[b];a.disabled(c.id)}};WebFXMenuBar.prototype.selected=function(c){var a=this;if(c){var b=c+"_a";SeeUtils.addClass(b,"selected")}};WebFXMenuBar.prototype.unselected=function(c){var a=this;if(c){var b=c+"_a";SeeUtils.removeClass(b,"selected")}else{SeeUtils.removeClass("toolbar_"+this.id+" a","selected")}};function _enabledMouse(b){var e=SeeUtils.getAttrEl(b,"bakonmouseover");var d=SeeUtils.getAttrEl(b,"bakonmouseout");var c=SeeUtils.getAttrEl(b,"bakonmouseenter");var a=SeeUtils.getAttrEl(b,"bakonmouseleave");if(typeof(c)!="undefined"||typeof(a)!="undefined"){SeeUtils.attrEl(b,"onmouseenter",c);SeeUtils.attrEl(b,"onmouseleave",a);SeeUtils.removeAttrEl(b,"bakonmouseenter");SeeUtils.removeAttrEl(b,"bakonmouseleave")}if(typeof(e)!="undefined"||typeof(d)!="undefined"){SeeUtils.attrEl(b,"onmouseover",e);SeeUtils.attrEl(b,"onmouseout",d);SeeUtils.removeAttrEl(b,"bakonmouseover");SeeUtils.removeAttrEl(b,"bakonmouseout")}}function _disabledMouse(b){var e=SeeUtils.getAttrEl(b,"onmouseover");var d=SeeUtils.getAttrEl(b,"onmouseout");var c=SeeUtils.getAttrEl(b,"onmouseenter");var a=SeeUtils.getAttrEl(b,"onmouseleave");if(typeof(c)!="undefined"||typeof(a)!="undefined"){SeeUtils.attrEl(b,"bakonmouseenter",c);SeeUtils.attrEl(b,"bakonmouseleave",a);SeeUtils.attrEl(b,"onmouseenter","void(0)");SeeUtils.attrEl(b,"onmouseleave","void(0)")}if(typeof(e)!="undefined"||typeof(d)!="undefined"){SeeUtils.attrEl(b,"bakonmouseover",e);SeeUtils.attrEl(b,"bakonmouseout",d);SeeUtils.attrEl(b,"onmouseover","void(0);");SeeUtils.attrEl(b,"onmouseout","void(0);")}}WebFXMenuBar.prototype.disabled=function(b){var j=this;if(b){var a=b+"_a";SeeUtils.addClass(a,"common_menu_dis");var h=SeeUtils.getAttrEl(a,"onclick");var d=SeeUtils.getAttrEl(a,"bakclick");if(typeof(h)=="undefined"){var g=SeeUtils.getAttrEl(a,"onmouseover");var f=SeeUtils.getAttrEl(a,"onmouseout");var e=SeeUtils.getAttrEl(a,"onmouseenter");var c=SeeUtils.getAttrEl(a,"onmouseleave");if(typeof(g)=="undefined"){SeeUtils.attrEl(a,"bakonmouseenter",e);SeeUtils.attrEl(a,"bakonmouseleave",c);SeeUtils.attrEl(a,"onmouseenter","void(0)");SeeUtils.attrEl(a,"onmouseleave","void(0)")}else{SeeUtils.attrEl(a,"bakonmouseover",g);SeeUtils.attrEl(a,"bakonmouseout",f);SeeUtils.attrEl(a,"onmouseover","void(0);");SeeUtils.attrEl(a,"onmouseout","void(0);")}}else{if(h=="void(0);"){SeeUtils.attrEl(a,"bakclick",d)}else{SeeUtils.attrEl(a,"bakclick",h);_disabledMouse(a)}SeeUtils.attrEl(a,"onclick","void(0);")}this.disabledItemArr.push(b)}};WebFXMenuBar.prototype.enabledAll=function(){var a=this;for(var b=0;b<this.allMenuBottons.length;b++){var c=this.allMenuBottons[b];a.enabled(c.id)}};WebFXMenuBar.prototype.enabled=function(b){var m=this;if(b){var a=b+"_a";if(SeeUtils.getElObj(a)&&!SeeUtils.hasClass(a,"common_menu_dis")){return}SeeUtils.removeClass(a,"common_menu_dis");var j=this.getMenuButton(b);if(j){var h=SeeUtils.getAttrEl(a,"bakclick");if(typeof(h)=="undefined"){var g=SeeUtils.getAttrEl(a,"bakonmouseover");var e=SeeUtils.getAttrEl(a,"bakonmouseout");var d=SeeUtils.getAttrEl(a,"bakonmouseenter");var c=SeeUtils.getAttrEl(a,"bakonmouseleave");if(typeof(g)=="undefined"){SeeUtils.attrEl(a,"onmouseenter",d);SeeUtils.attrEl(a,"onmouseleave",c);SeeUtils.removeAttrEl(a,"bakonmouseenter");SeeUtils.removeAttrEl(a,"bakonmouseleave")}else{SeeUtils.attrEl(a,"onmouseover",g);SeeUtils.attrEl(a,"onmouseout",e);SeeUtils.removeAttrEl(a,"bakonmouseover");SeeUtils.removeAttrEl(a,"bakonmouseout")}}else{SeeUtils.attrEl(a,"onclick",h);SeeUtils.removeAttrEl(a,"bakclick");_enabledMouse(a)}}if(this.disabledItemArr.length>0){var k=[];for(var f=0;f<this.disabledItemArr.length;f++){var l=this.disabledItemArr[f];if(l!=b){k.push(l)}}this.disabledItemArr=k}SeeUtils.attrEl(a,"style","")}};WebFXMenuBar.prototype.hideBtn=function(d){var a=this;if(d){this.hideIdArray.push(d);var b=d+"_a";if(document.getElementById(b)!=null){SeeUtils.hideEl(b);var c=document.getElementById(b).nextSibling;if(SeeUtils.hasClass(c,"seperate")){SeeUtils.hideEl(c)}if(this.isPager){this.setPage("hideBtn")}}}};WebFXMenuBar.prototype.showBtn=function(h){var a=this;if(h){if(this.hideIdArray.length>0){var g=[];for(var d=0;d<this.hideIdArray.length;d++){var c=this.hideIdArray[d];if(c!=h){g.push(c)}}this.hideIdArray=g}var b=h+"_a";SeeUtils.showEl(b);var e=document.getElementById(b);if(e==null){return}var f=e.nextSibling;if(SeeUtils.hasClass(f,"seperate")){SeeUtils.showEl(f)}}};WebFXMenuBar.prototype.getMenuButton=function(c){if(c&&this.allMenuBottons.length>0){for(var b=0;b<this.allMenuBottons.length;b++){var a=this.allMenuBottons[b];if(a.id==c){return a}}}};function WebFXMenuButton(a){this.data=a.data||"";this.extendClass=a.extendClass||"";this.colorType=a.colorType||"";this.color=a.color||"";this.img=a.img||"";this.id=a.id;this.name=a.name;this.click=a.click;this.className=typeof(a.className)=="undefined"?"":a.className;this.subMenu=a.subMenu;this.selected=a.selected;this.type=a.type;this.text=a.text;this.items=a.items;this.onchange=a.onchange;this.disabled=a.disabled;this.value=a.value;this.checked=a.checked;this.position=a.position;this.fontColor=a.fontColor;this.iconPosition=a.iconPosition;this.border=a.border}function _getExtendData(a){if(a.data!=null&&a.data!=""){return" data='"+a.data+"' "}else{return""}}function _getExtendClass(c){var b="";var a=[];if(c.extendClass!=null&&c.extendClass!=""){a.push(c.extendClass)}else{b=""}if(c.disabled){a.push("common_menu_dis")}if(a.length>0){return" class='"+a.join(" ")+"'"}else{return""}return b}function _getExtendStyle(a){if(a.colorType!=null&&(a.colorType===2||a.colorType==="2")){return"background-color:#009def;color:#fff;'"}else{return""}}function _getImgColor(a){if(a.color!=null){return" style='color:"+a.color+";' "}else{return""}}WebFXMenuButton.prototype.toObj=function(a,b){var s=[];var h=this.name;var e=this;var q="toolbar"+this.id+"_aChange";var r="toolbar"+this.id+"_aClick";if(this.type=="select"){var t=this.text;s.push("<select id='"+this.id+"'");if(this.disabled==true){s.push(" disabled='true' ")}else{s.push(" onchange='"+q+"(this)' ");window[q]=function(n){e.onchange.apply(n)}}s.push("class='valign_m "+this.className+"' ><option value='"+this.value+"'>"+t+"</option>");if(this.items!=null){for(var o=0;o<this.items.length;o++){var g=this.items[o];s.push("<option value='"+g.value+"'>"+g.text+"</option>")}}s.push("</select>");if(a!=null&&a.get!=null&&a.get(0)!=null){SeeUtils.appendTo(s.join(""),a.get(0))}else{if(a!=null){SeeUtils.appendTo(s.join(""),a)}}}else{if(this.type=="checkbox"){s.push('<label for="'+this.id+'" class="margin_l_10 margin_r_10 hand"><input onclick="'+r+'()" type="checkbox" id="'+this.id+'" value="'+this.value+'" ');if(this.checked==true){s.push(' checked="checked" ')}s.push(' class="radio_com">'+this.text+"</label>");if(a!=null&&a.get!=null&&a.get(0)!=null){SeeUtils.appendTo(s.join(""),a.get(0))}else{if(a!=null){SeeUtils.appendTo(s.join(""),a)}}window[r]=function(){e.click()}}else{if(this.type=="__line"){s.push('<div class="toolbar_line" style="margin-top: 6px;margin-bottom: 2px;width: 100%;"><div class="hr_heng">&nbsp;</div></div>');if(a!=null&&a.get!=null&&a.get(0)!=null){SeeUtils.appendTo(s.join(""),a.get(0))}else{if(a!=null){SeeUtils.appendTo(s.join(""),a)}}}else{if(this.type=="__text"){s.push('<div class="toolbar_line" style="margin-top: 6px;margin-bottom: 2px;width: 100%;color:#333;padding-left: 8px;">'+this.name+"</div>");if(a!=null&&a.get!=null&&a.get(0)!=null){SeeUtils.appendTo(s.join(""),a.get(0))}else{if(a!=null){SeeUtils.appendTo(s.join(""),a)}}}else{var c=navigator.userAgent.toLowerCase();var d=(c.indexOf("opera")!=-1);var f=(c.indexOf("msie")!=-1&&!d);var m="sub_"+this.id+"mouseover";var l="sub_"+this.id+"mouseout";var k="sub_"+this.id+"mouseenter";var j="sub_"+this.id+"mouseleave";if(this.position=="right"){s.push("<a style='float:right;"+_getExtendStyle(this)+"' "+_getExtendData(this)+" "+_getExtendClass(this)+" id='"+this.id+"_a' ");if(this.selected!=undefined&&this.selected==true){s.push(" class='selected'")}if(this.iconPosition!="right"&&this.subMenu!=null){if(f){s.push(' onmouseover="'+m+"('"+this.id+'\')" onmouseout="'+l+"('"+this.id+"')\" >")}else{s.push(' onmouseenter="'+k+"('"+this.id+'\')" onmouseleave="'+j+"('"+this.id+"')\" >")}}else{s.push(" onclick='"+r+"(this)' >")}if(this.iconPosition=="right"){if(this.fontColor){s.push("<span id='"+this.id+"_span' class='menu_span' style='color: "+this.fontColor+";' title='"+h+"'>"+h+"</span>")}else{s.push("<span id='"+this.id+"_span' class='menu_span' title='"+h+"'>"+h+"</span>")}if(this.className!=null){s.push("<em id='"+this.id+"_em' class='"+this.className+"' style='margin-right: 0;'></em>")}if(this.subMenu!=null){s.push("<em id='"+this.id+"'  class='ico16 rolling_btn_b' style='margin-right:-5px;margin-left:5px;'></em>")}s.push("</a>")}else{if(this.className!=null){if(this.img!=null){s.push("<em id='"+this.id+"_em' class='"+this.img+"' "+_getImgColor(this)+"></em>")}else{s.push("<em id='"+this.id+"_em' class='"+this.className+"'></em>")}}s.push("<span id='"+this.id+"_span' class='menu_span' title='"+h+"'>"+h+"</span>");if(this.subMenu!=null){s.push("<em id='"+this.id+"'  class='sub_ico' style='margin-right:-5px;margin-left:5px;'></em>")}s.push("</a>")}if(b!=null&&b.get!=null&&b.get(0)!=null){SeeUtils.appendTo(s.join(""),b.get(0))}else{if(b!=null){SeeUtils.appendTo(s.join(""),b)}}window[r]=function(n){e.click(n)}}else{s.push("<a  style='"+_getExtendStyle(this)+"' "+_getExtendData(this)+" "+_getExtendClass(this)+"  id='"+this.id+"_a' ");if(this.selected!=undefined&&this.selected==true){s.push(" class='selected'")}if(this.subMenu!=null){if(f){s.push(' onmouseover="'+m+"('"+this.id+'\')" onmouseout="'+l+"('"+this.id+"')\" >")}else{s.push(' onmouseenter="'+k+"('"+this.id+'\')" onmouseleave="'+j+"('"+this.id+"')\" >")}}else{s.push(" onclick='"+r+"(this)' >")}if(this.className!=null){if(this.img!=null&&this.img==this.className){s.push("<em id='"+this.id+"_em' class='"+this.img+"' "+_getImgColor(this)+"></em>")}else{s.push("<em id='"+this.id+"_em' class='"+this.className+"'></em>")}}s.push("<span    id='"+this.id+"_span' class='menu_span' title='"+h+"'>"+h+"</span>");if(this.subMenu!=null){s.push("<em id='"+this.id+"'  class='sub_ico' style='margin-right:-5px;margin-left:5px;'></em>")}s.push("</a>");if(a!=null&&a.get!=null&&a.get(0)!=null){SeeUtils.appendTo(s.join(""),a.get(0))}else{if(a!=null){SeeUtils.appendTo(s.join(""),a)}}if(this.disabled!==true){window[r]=function(n){e.click(n)}}else{e.webFXMenuBarObj.disabled(this.id)}}}}}}};WebFXMenuButton.prototype.toSeparate=function(c){var a="seperate margin_lr_5";if(this.className&&this.className.indexOf("hidden")!=-1){a="seperate margin_lr_5 hidden"}var b=document.createElement("em");b.className=a;if(c!=null&&c.get!=null&&c.get(0)!=null){SeeUtils.appendTo(b,c.get(0))}else{if(c!=null){SeeUtils.appendTo(b,c)}}};function WebFXMenu(){this.allItems=[]}WebFXMenu.prototype.add=function(a){this.allItems[this.allItems.length]=a};function WebFXMenuItem(a){this.id=a.id;this.name=a.name;this.click=a.click;this.className=a.className;this.value=a.value;this.disabled=a.disabled}function MxtToolTip(a){this.id=a.id?a.id:"toolTip_"+Math.floor(Math.random()*1000000000);this.width=a.width?a.width:200;this.event=a.event?a.event:null;this.targetId=a.targetId?a.targetId:null;this.openPoint=a.openPoint?a.openPoint:[];this.openAuto=a.openAuto?a.openAuto:false;this.direction=a.direction?a.direction:"TL";this.showHtmlID=a.htmlID?a.htmlID:null;this.showMsg=a.msg?a.msg:null;this.targetWindow=a.targetWindow==null?window:a.targetWindow;this.z_index=this.targetWindow.getMaxZindex();this.left=0;this.top=0;this.init()}MxtToolTip.prototype.init=function(){var b=this;$(".tooltip").remove();var a="";a+="<div id='"+this.id+"' class='tooltip' style='display:none; position: absolute; width: "+this.width+"px;z-index:"+this.z_index+"'>";a+="<div class='tooltip_border'>";a+="<span><em class='tooltip_em' style=''></em></span>";a+="<div class='tooltip_text'></div>";a+="</div>";a+="</div>";$(this.targetWindow.document).find("body").append(a);if(this.showHtmlID!=null){$("#"+this.showHtmlID).wrap("<div id='"+this.id+"_area'></div>");$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").append($("#"+this.showHtmlID).clone(true));$("#"+this.id+"_area").empty()}else{if(this.showMsg!=null){$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").html(this.showMsg)}else{$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").html($("#"+this.targetId).attr("tooltip"))}}this.setPoint(this.left,this.top);if(this.openAuto==true){this.show()}var b=this;$(this.targetWindow.document).find("#"+this.id+" .tooltip_close").click(function(){b.hide()})};MxtToolTip.prototype.getPD=function(){var e;var b;var d=$(this.targetWindow.document).find("#"+this.id).width();var f=$(this.targetWindow.document).find("#"+this.id).height();var c=$(this.targetWindow).width();var a=$(this.targetWindow).height();if(this.event){e=$("#"+this.targetId).offset().left;b=$("#"+this.targetId).offset().top+$("#"+this.targetId).height()}else{e=this.openPoint[0];b=this.openPoint[1]}if((this.direction.substr(0,1)=="T")||(this.direction.substr(0,1)=="B")){if(e+d>c){this.direction=this.direction.substr(0,1)+"R";this.left=e-d}else{this.left=e}if(b+f>a-5){this.direction="B"+this.direction.substr(1);this.top=b-f}else{this.top=b+5}}else{if(e+d>c){this.direction="R"+this.direction.substr(1);this.left=e-d}else{this.left=e}if(b+f>a){this.direction=this.direction.substr(0,1)+"B";this.top=b-f}else{this.top=b}}this.setDirection(this.direction)};MxtToolTip.prototype.setPoint=function(a,b){this.left=a;this.top=b;this.getPD();$(this.targetWindow.document).find("#"+this.id).css({left:this.left+"px",top:this.top+"px"})};MxtToolTip.prototype.setDirection=function(b){var c=$(this.targetWindow.document).find("#"+this.id+" .tooltip_em");var a="";switch(b){case"TL":a="0 -166px";c.css({left:"",top:"-5px",right:"",bottom:""});break;case"TR":a="0 -166px";c.css({left:"",top:"-5px",right:"10px",bottom:""});break;case"BL":a="0 -160px";c.css({left:"",top:"",right:"",bottom:"-5px"});break;case"BR":a="0 -160px";c.css({left:"",top:"",right:"10px",bottom:"-5px"});break;case"LT":a="-22px -160px";c.css({left:"-5px",top:"",right:"",bottom:"",width:"6px",height:"11px"});break;case"LB":a="-22px -160px";c.css({left:"-5px",top:"",right:"",bottom:"10px",width:"6px",height:"11px"});break;case"RT":a="-16px -160px";c.css({left:"",top:"",right:"-5px",bottom:"",width:"6px",height:"11px"});break;case"RB":a="-16px -160px";c.css({left:"",top:"",right:"-5px",bottom:"10px",width:"6px",height:"11px"});break}c.css({"background-position":a})};MxtToolTip.prototype.setHtml=function(a){if(a.id){if(this.showHtmlID!=null){$(this.targetWindow.document).find("#"+this.showHtmlID).clone(true).appendTo("#"+this.id+"_area");$("#"+this.showHtmlID).unwrap()}this.showHtmlID=a.id;$("#"+this.showHtmlID).wrap("<div id='"+this.showHtmlID+"_area'></div>");$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").empty().append($("#"+this.showHtmlID).clone(true));$("#"+this.showHtmlID+"_area").empty()}if(a.text){$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").html(a.text)}};MxtToolTip.prototype.close=function(){$(this.targetWindow.document).find("#"+this.showHtmlID).clone(true).appendTo("#"+this.id+"_area");$("#"+this.showHtmlID).unwrap();$(this.targetWindow.document).find("#"+this.id).remove()};MxtToolTip.prototype.show=function(){$(this.targetWindow.document).find("#"+this.id).show()};MxtToolTip.prototype.hide=function(){$(this.targetWindow.document).find("#"+this.id).hide()};function MxtTip(a){this.settings={id:"MxtTip"+Math.floor(Math.random()*100000000),targetId:null,top:0,left:0,keepTime:2000,autoShow:true,autoClose:true,offsetTop:0,offsetLeft:0,checkPosition:true,color:"#463900",background:"#FDF0A4",content:"需要你给我指定内容,亲~",beforeShowCallBack:function(){},callBack:function(){}};$.extend(this.settings,a);this.init()}MxtTip.prototype.init=function(){var e=this;var c="";c+="<div id='"+e.settings.id+"' class='MxtTip' style='display:none;position:absolute;z-index:10000;left:0;top:0; background:"+e.settings.background+";color:"+e.settings.color+";'><div class='MxtTip_content' style='padding: 5px 10px;font-size:12px;'>"+e.settings.content+"<em class='close ico16 close_16' style='display:none;'></em></div></div>";$("body").append(c);e.myObj=$("#"+e.settings.id);if(e.settings.targetId){var a=e.myObj.width();var g=$("#"+e.settings.targetId);var d=g.width()==null?d=document.body.clientWidth:g.width();var h,j;var b=g.length?g.offset().top:0;var f=g.length?g.offset().left:0;h=b;j=f*1+(d-a)/2;e.setPosition({top:h,left:j})}else{if(e.settings.top&&e.settings.left){e.setPosition({top:e.settings.top,left:e.settings.left})}}this.mouserHander();if(e.settings.autoShow){e.show()}};MxtTip.prototype.setPosition=function(a){var d=this;var c=a.top*1+d.settings.offsetTop;var b=a.left*1+d.settings.offsetLeft;if(d.settings.checkPosition){c=c>=0?c:0;b=b>=0?b:0}d.myObj.css({top:c+"px",left:b+"px"})};MxtTip.prototype.mouserHander=function(){};MxtTip.prototype.show=function(){var a=this;a.settings.beforeShowCallBack();a.myObj.fadeIn("fast");setTimeout(function(){a.close()},a.settings.keepTime)};MxtTip.prototype.close=function(){var a=this;a.myObj.fadeOut("fast",function(){a.myObj.remove();a.settings.callBack()})};(function($){var settings={},roots={},caches={},zId=0,_consts={event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:true,dblClickExpand:true,expandSpeed:"fast",fontCss:{},nameIsHTML:false,selectedMulti:true,showIcon:true,showLine:true,showTitle:true},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:false,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:false,leaf:false}},async:{enable:false,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(setting){var r=data.getRoot(setting);if(!r){r={};data.setRoot(setting,r)}r.children=[];r.expandTriggerFlag=false;r.curSelectedList=[];r.noSelection=true;r.createdNodes=[]},_initCache=function(setting){var c=data.getCache(setting);if(!c){c={};data.setCache(setting,c)}c.nodes=[];c.doms=[]},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.NODECREATED);o.bind(c.NODECREATED,function(event,treeId,node){tools.apply(setting.callback.onNodeCreated,[event,treeId,node])});o.unbind(c.CLICK);o.bind(c.CLICK,function(event,srcEvent,treeId,node,clickFlag){tools.apply(setting.callback.onClick,[srcEvent,treeId,node,clickFlag])});o.unbind(c.EXPAND);o.bind(c.EXPAND,function(event,treeId,node){tools.apply(setting.callback.onExpand,[event,treeId,node])});o.unbind(c.COLLAPSE);o.bind(c.COLLAPSE,function(event,treeId,node){tools.apply(setting.callback.onCollapse,[event,treeId,node])});o.unbind(c.ASYNC_SUCCESS);o.bind(c.ASYNC_SUCCESS,function(event,treeId,node,msg){tools.apply(setting.callback.onAsyncSuccess,[event,treeId,node,msg])});o.unbind(c.ASYNC_ERROR);o.bind(c.ASYNC_ERROR,function(event,treeId,node,XMLHttpRequest,textStatus,errorThrown){tools.apply(setting.callback.onAsyncError,[event,treeId,node,XMLHttpRequest,textStatus,errorThrown])})},_eventProxy=function(event){var target=event.target,setting=settings[event.data.treeId],tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(event.type,"mousedown")){treeEventType="mousedown"}else{if(tools.eqs(event.type,"mouseup")){treeEventType="mouseup"}else{if(tools.eqs(event.type,"contextmenu")){treeEventType="contextmenu"}else{if(tools.eqs(event.type,"click")){if(tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.SWITCH)!==null){tId=target.parentNode.id;nodeEventType="switchNode"}else{tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tmp.parentNode.id;nodeEventType="clickNode"}}}else{if(tools.eqs(event.type,"dblclick")){treeEventType="dblclick";tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tmp.parentNode.id;nodeEventType="switchNode"}}}}}}if(treeEventType.length>0&&tId.length==0){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tmp.parentNode.id}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"switchNode":if(!node.isParent){nodeEventType=""}else{if(tools.eqs(event.type,"click")||(tools.eqs(event.type,"dblclick")&&tools.apply(setting.view.dblClickExpand,[setting.treeId,node],setting.view.dblClickExpand))){nodeEventCallback=handler.onSwitchNode}else{nodeEventType=""}}break;case"clickNode":nodeEventCallback=handler.onClickNode;break}}switch(treeEventType){case"mousedown":treeEventCallback=handler.onZTreeMousedown;break;case"mouseup":treeEventCallback=handler.onZTreeMouseup;break;case"dblclick":treeEventCallback=handler.onZTreeDblclick;break;case"contextmenu":treeEventCallback=handler.onZTreeContextmenu;break}var proxyResult={stop:false,node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n){return}var childKey=setting.data.key.children;n.level=level;n.tId=setting.treeId+"_"+(++zId);n.parentTId=parentNode?parentNode.tId:null;if(n[childKey]&&n[childKey].length>0){if(typeof n.open=="string"){n.open=tools.eqs(n.open,"true")}n.open=!!n.open;n.isParent=true;n.zAsync=true}else{n.open=false;if(typeof n.isParent=="string"){n.isParent=tools.eqs(n.isParent,"true")}n.isParent=!!n.isParent;n.zAsync=!n.isParent}n.isFirstNode=isFirstNode;n.isLastNode=isLastNode;n.getParentNode=function(){return data.getNodeCache(setting,n.parentTId)};n.getPreNode=function(){return data.getPreNode(setting,n)};n.getNextNode=function(){return data.getNextNode(setting,n)};n.isAjaxing=false;data.fixPIdKeyValue(setting,n)},_init={bind:[_bindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(setting,node){data.getCache(setting).nodes[node.tId]=node},addAfterA:function(afterA){_init.afterA.push(afterA)},addBeforeA:function(beforeA){_init.beforeA.push(beforeA)},addInnerAfterA:function(innerAfterA){_init.innerAfterA.push(innerAfterA)},addInnerBeforeA:function(innerBeforeA){_init.innerBeforeA.push(innerBeforeA)},addInitBind:function(bindEvent){_init.bind.push(bindEvent)},addInitCache:function(initCache){_init.caches.push(initCache)},addInitNode:function(initNode){_init.nodes.push(initNode)},addInitProxy:function(initProxy){_init.proxys.push(initProxy)},addInitRoot:function(initRoot){_init.roots.push(initRoot)},addNodesData:function(setting,parentNode,nodes){var childKey=setting.data.key.children;if(!parentNode[childKey]){parentNode[childKey]=[]}if(parentNode[childKey].length>0){parentNode[childKey][parentNode[childKey].length-1].isLastNode=false;view.setNodeLineIcos(setting,parentNode[childKey][parentNode[childKey].length-1])}parentNode.isParent=true;parentNode[childKey]=parentNode[childKey].concat(nodes)},addSelectedNode:function(setting,node){var root=data.getRoot(setting);if(!data.isSelectedNode(setting,node)){root.curSelectedList.push(node)}},addCreatedNode:function(setting,node){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);root.createdNodes.push(node)}},addZTreeTools:function(zTreeTools){_init.zTreeTools.push(zTreeTools)},exSetting:function(s){$.extend(true,_setting,s)},fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId}},getAfterA:function(setting,node,array){for(var i=0,j=_init.afterA.length;i<j;i++){_init.afterA[i].apply(this,arguments)}},getBeforeA:function(setting,node,array){for(var i=0,j=_init.beforeA.length;i<j;i++){_init.beforeA[i].apply(this,arguments)}},getInnerAfterA:function(setting,node,array){for(var i=0,j=_init.innerAfterA.length;i<j;i++){_init.innerAfterA[i].apply(this,arguments)}},getInnerBeforeA:function(setting,node,array){for(var i=0,j=_init.innerBeforeA.length;i<j;i++){_init.innerBeforeA[i].apply(this,arguments)}},getCache:function(setting){return caches[setting.treeId]},getNextNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);if(node.isLastNode){return null}else{if(node.isFirstNode){return p[childKey][1]}else{for(var i=1,l=p[childKey].length-1;i<l;i++){if(p[childKey][i]===node){return p[childKey][i+1]}}}}return null},getNodeByParam:function(setting,nodes,key,value){if(!nodes||!key){return null}var childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){return nodes[i]}var tmp=data.getNodeByParam(setting,nodes[i][childKey],key,value);if(tmp){return tmp}}return null},getNodeCache:function(setting,tId){if(!tId){return null}var n=caches[setting.treeId].nodes[tId];return n?n:null},getNodes:function(setting){return data.getRoot(setting)[setting.data.key.children]},getNodesByParam:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){result.push(nodes[i])}result=result.concat(data.getNodesByParam(setting,nodes[i][childKey],key,value))}return result},getNodesByParamFuzzy:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];for(var i=0,l=nodes.length;i<l;i++){if(typeof nodes[i][key]=="string"&&nodes[i][key].indexOf(value)>-1){result.push(nodes[i])}result=result.concat(data.getNodesByParamFuzzy(setting,nodes[i][childKey],key,value))}return result},getNodesByFilter:function(setting,nodes,filter,isSingle){if(!nodes){return(isSingle?null:[])}var childKey=setting.data.key.children,result=isSingle?null:[];for(var i=0,l=nodes.length;i<l;i++){if(tools.apply(filter,[nodes[i]],false)){if(isSingle){return nodes[i]}result.push(nodes[i])}var tmpResult=data.getNodesByFilter(setting,nodes[i][childKey],filter,isSingle);if(isSingle&&!!tmpResult){return tmpResult}result=isSingle?tmpResult:result.concat(tmpResult)}return result},getPreNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);if(node.isFirstNode){return null}else{if(node.isLastNode){return p[childKey][p[childKey].length-2]}else{for(var i=1,l=p[childKey].length-1;i<l;i++){if(p[childKey][i]===node){return p[childKey][i-1]}}}}return null},getRoot:function(setting){return setting?roots[setting.treeId]:null},getSetting:function(treeId){return settings[treeId]},getSettings:function(){return settings},getTitleKey:function(setting){return setting.data.key.title===""?setting.data.key.name:setting.data.key.title},getZTreeTools:function(treeId){var r=this.getRoot(this.getSetting(treeId));return r?r.treeTools:null},initCache:function(setting){for(var i=0,j=_init.caches.length;i<j;i++){_init.caches[i].apply(this,arguments)}},initNode:function(setting,level,node,parentNode,preNode,nextNode){for(var i=0,j=_init.nodes.length;i<j;i++){_init.nodes[i].apply(this,arguments)}},initRoot:function(setting){for(var i=0,j=_init.roots.length;i<j;i++){_init.roots[i].apply(this,arguments)}},isSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]){return true}}return false},removeNodeCache:function(setting,node){var childKey=setting.data.key.children;if(node[childKey]){for(var i=0,l=node[childKey].length;i<l;i++){arguments.callee(setting,node[childKey][i])}}delete data.getCache(setting).nodes[node.tId]},removeSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]||!data.getNodeCache(setting,root.curSelectedList[i].tId)){root.curSelectedList.splice(i,1);i--;j--}}},setCache:function(setting,cache){caches[setting.treeId]=cache},setRoot:function(setting,root){roots[setting.treeId]=root},setZTreeTools:function(setting,zTreeTools){for(var i=0,j=_init.zTreeTools.length;i<j;i++){_init.zTreeTools[i].apply(this,arguments)}},transformToArrayFormat:function(setting,nodes){if(!nodes){return[]}var childKey=setting.data.key.children,r=[];if(tools.isArray(nodes)){for(var i=0,l=nodes.length;i<l;i++){r.push(nodes[i]);if(nodes[i][childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[i][childKey]))}}}else{r.push(nodes);if(nodes[childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[childKey]))}}return r},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||key==""||!sNodes){return[]}if(tools.isArray(sNodes)){var r=[];var tmpMap=[];for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i]}for(i=0,l=sNodes.length;i<l;i++){if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){if(!tmpMap[sNodes[i][parentKey]][childKey]){tmpMap[sNodes[i][parentKey]][childKey]=[]}tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])}else{r.push(sNodes[i])}}return r}else{return[sNodes]}}},event={bindEvent:function(setting){for(var i=0,j=_init.bind.length;i<j;i++){_init.bind[i].apply(this,arguments)}},bindTree:function(setting){var eventParam={treeId:setting.treeId},o=setting.treeObj;o.unbind("click",event.proxy);o.bind("click",eventParam,event.proxy);o.unbind("dblclick",event.proxy);o.bind("dblclick",eventParam,event.proxy);o.unbind("mouseover",event.proxy);o.bind("mouseover",eventParam,event.proxy);o.unbind("mouseout",event.proxy);o.bind("mouseout",eventParam,event.proxy);o.unbind("mousedown",event.proxy);o.bind("mousedown",eventParam,event.proxy);o.unbind("mouseup",event.proxy);o.bind("mouseup",eventParam,event.proxy);o.unbind("contextmenu",event.proxy);o.bind("contextmenu",eventParam,event.proxy)},doProxy:function(e){var results=[];for(var i=0,j=_init.proxys.length;i<j;i++){var proxyResult=_init.proxys[i].apply(this,arguments);results.push(proxyResult);if(proxyResult.stop){break}}return results},proxy:function(e){var setting=data.getSetting(e.data.treeId);if(!tools.uCanDo(setting,e)){return true}var results=event.doProxy(e),r=true,x=false;for(var i=0,l=results.length;i<l;i++){var proxyResult=results[i];if(proxyResult.nodeEventCallback){x=true;r=proxyResult.nodeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}if(proxyResult.treeEventCallback){x=true;r=proxyResult.treeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}}try{if(x&&$("input:focus").length==0){tools.noSel(setting)}}catch(e){}return r}},handler={onSwitchNode:function(event,node){var setting=settings[event.data.treeId];if(node.open){if(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}else{if(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}return true},onClickNode:function(event,node){var setting=settings[event.data.treeId],clickFlag=((setting.view.autoCancelSelected&&event.ctrlKey)&&data.isSelectedNode(setting,node))?0:(setting.view.autoCancelSelected&&event.ctrlKey&&setting.view.selectedMulti)?2:1;if(tools.apply(setting.callback.beforeClick,[setting.treeId,node,clickFlag],true)==false){return true}if(clickFlag===0){view.cancelPreSelectedNode(setting,node)}else{view.selectNode(setting,node,clickFlag===2)}setting.treeObj.trigger(consts.event.CLICK,[event,setting.treeId,node,clickFlag]);return true},onZTreeMousedown:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeMouseDown,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseDown,[event,setting.treeId,node])}return true},onZTreeMouseup:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeMouseUp,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseUp,[event,setting.treeId,node])}return true},onZTreeDblclick:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeDblClick,[setting.treeId,node],true)){tools.apply(setting.callback.onDblClick,[event,setting.treeId,node])}return true},onZTreeContextmenu:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeRightClick,[setting.treeId,node],true)){tools.apply(setting.callback.onRightClick,[event,setting.treeId,node])}return(typeof setting.callback.onRightClick)!="function"}},tools={apply:function(fun,param,defaultValue){if((typeof fun)=="function"){return fun.apply(zt,param?param:[])}return defaultValue},canAsync:function(setting,node){var childKey=setting.data.key.children;return(setting.async.enable&&node&&node.isParent&&!(node.zAsync||(node[childKey]&&node[childKey].length>0)))},clone:function(jsonObj){var buf;if(jsonObj instanceof Array){buf=[];var i=jsonObj.length;while(i--){buf[i]=arguments.callee(jsonObj[i])}return buf}else{if(typeof jsonObj=="function"){return jsonObj}else{if(jsonObj instanceof Object){buf={};for(var k in jsonObj){buf[k]=arguments.callee(jsonObj[k])}return buf}else{return jsonObj}}}},eqs:function(str1,str2){return str1.toLowerCase()===str2.toLowerCase()},isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},getMDom:function(setting,curDom,targetExpr){if(!curDom){return null}while(curDom&&curDom.id!==setting.treeId){for(var i=0,l=targetExpr.length;curDom.tagName&&i<l;i++){if(tools.eqs(curDom.tagName,targetExpr[i].tagName)&&curDom.getAttribute(targetExpr[i].attrName)!==null){return curDom}}curDom=curDom.parentNode}return null},noSel:function(setting){var r=data.getRoot(setting);if(r.noSelection){try{window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}catch(e){}}},uCanDo:function(setting,e){return true}},view={addNodes:function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent){return}if(!tools.isArray(newNodes)){newNodes=[newNodes]}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes)}if(parentNode){var target_switchObj=$("#"+parentNode.tId+consts.id.SWITCH),target_icoObj=$("#"+parentNode.tId+consts.id.ICON),target_ulObj=$("#"+parentNode.tId+consts.id.UL);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({display:"none"})}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true)}}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null)}},appendNodes:function(setting,level,nodes,parentNode,initFlag,openFlag){if(!nodes){return[]}var html=[],childKey=setting.data.key.children,nameKey=setting.data.key.name,titleKey=data.getTitleKey(setting);for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i],tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=((tmpPChild.length==nodes.length)&&(i==0)),isLastNode=(i==(nodes.length-1));if(initFlag){data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}var childHtml=[];if(node[childKey]&&node[childKey].length>0){childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open)}if(openFlag){var url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";")}html.push("<li id='",node.tId,"' class='level",node.level,"' tabindex='0' hidefocus='true' treenode>","<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>");data.getBeforeA(setting,node,html);html.push("<a id='",node.tId,consts.id.A,"' class='level",node.level,"' treeNode",consts.id.A,' onclick="',(node.click||""),'" ',((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&node[titleKey]){html.push("title='",node[titleKey].replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'")}html.push(">");data.getInnerBeforeA(setting,node,html);var name=setting.view.nameIsHTML?node[nameKey]:node[nameKey].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>");data.getInnerAfterA(setting,node,html);html.push("</a>");data.getAfterA(setting,node,html);if(node.isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(""))}html.push("</li>");data.addCreatedNode(setting,node)}}return html},appendParentULDom:function(setting,node){var html=[],nObj=$("#"+node.tId),ulObj=$("#"+node.tId+consts.id.UL),childKey=setting.data.key.children,childHtml=view.appendNodes(setting,node.level+1,node[childKey],node,false,true);view.makeUlHtml(setting,node,html,childHtml.join(""));if(!nObj.get(0)&&!!node.parentTId){view.appendParentULDom(setting,node.getParentNode());nObj=$("#"+node.tId)}if(ulObj.get(0)){ulObj.remove()}nObj.append(html.join(""));view.createNodeCallback(setting)},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){tools.apply(callback);return false}else{if(node&&node.isAjaxing){return false}else{if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false}}}if(node){node.isAjaxing=true;var icoObj=$("#"+node.tId+consts.id.ICON);icoObj.attr({style:"","class":"button ico_loading"})}var isJson=(setting.async.contentType=="application/json"),tmpParam=isJson?"{":"",jTemp="";for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0]}if(isJson){jTemp=(typeof node[pKey]=="string")?'"':"";tmpParam+='"'+spKey+('":'+jTemp+node[pKey]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=spKey+("="+node[pKey]).replace(/&/g,"%26")+"&"}}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;i<l;i+=2){if(isJson){jTemp=(typeof setting.async.otherParam[i+1]=="string")?'"':"";tmpParam+='"'+setting.async.otherParam[i]+('":'+jTemp+setting.async.otherParam[i+1]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=setting.async.otherParam[i]+("="+setting.async.otherParam[i+1]).replace(/&/g,"%26")+"&"}}}else{for(var p in setting.async.otherParam){if(isJson){jTemp=(typeof setting.async.otherParam[p]=="string")?'"':"";tmpParam+='"'+p+('":'+jTemp+setting.async.otherParam[p]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=p+("="+setting.async.otherParam[p]).replace(/&/g,"%26")+"&"}}}if(tmpParam.length>1){tmpParam=tmpParam.substring(0,tmpParam.length-1)}if(isJson){tmpParam+="}"}$.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){var newNodes=[];try{if(!msg||msg.length==0){newNodes=[]}else{if(typeof msg=="string"){newNodes=eval("("+msg+")")}else{newNodes=msg}}}catch(err){}if(node){node.isAjaxing=null;node.zAsync=true}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!=""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,!!newNodes?tools.clone(newNodes):[],!!isSilent)}else{view.addNodes(setting,node,[],!!isSilent)}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},error:function(XMLHttpRequest,textStatus,errorThrown){if(node){node.isAjaxing=null}view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,XMLHttpRequest,textStatus,errorThrown])}});return true},cancelPreSelectedNode:function(setting,node){var list=data.getRoot(setting).curSelectedList;for(var i=0,j=list.length-1;j>=i;j--){if(!node||node===list[j]){$("#"+list[j].tId+consts.id.A).removeClass(consts.node.CURSELECTED);view.setNodeName(setting,list[j]);if(node){data.removeSelectedNode(setting,node);break}}}if(!node){data.getRoot(setting).curSelectedList=[]}},createNodeCallback:function(setting){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);while(root.createdNodes.length>0){var node=root.createdNodes.shift();tools.apply(setting.view.addDiyDom,[setting.treeId,node]);if(!!setting.callback.onNodeCreated){setting.treeObj.trigger(consts.event.NODECREATED,[setting.treeId,node])}}}},createNodes:function(setting,level,nodes,parentNode){if(!nodes||nodes.length==0){return}var root=data.getRoot(setting),childKey=setting.data.key.children,openFlag=!parentNode||parentNode.open||!!$("#"+parentNode[childKey][0].tId).get(0);root.createdNodes=[];var zTreeHtml=view.appendNodes(setting,level,nodes,parentNode,true,openFlag);if(!parentNode){setting.treeObj.append(zTreeHtml.join(""))}else{var ulObj=$("#"+parentNode.tId+consts.id.UL);if(ulObj.get(0)){ulObj.append(zTreeHtml.join(""))}}view.createNodeCallback(setting)},expandCollapseNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children;if(!node){tools.apply(callback,[]);return}if(root.expandTriggerFlag){var _callback=callback;callback=function(){if(_callback){_callback()}if(node.open){setting.treeObj.trigger(consts.event.EXPAND,[setting.treeId,node])}else{setting.treeObj.trigger(consts.event.COLLAPSE,[setting.treeId,node])}};root.expandTriggerFlag=false}if(node.open==expandFlag){tools.apply(callback,[]);return}if(!node.open&&node.isParent&&((!$("#"+node.tId+consts.id.UL).get(0))||(node[childKey]&&node[childKey].length>0&&!$("#"+node[childKey][0].tId).get(0)))){view.appendParentULDom(setting,node)}var ulObj=$("#"+node.tId+consts.id.UL),switchObj=$("#"+node.tId+consts.id.SWITCH),icoObj=$("#"+node.tId+consts.id.ICON);if(node.isParent){node.open=!node.open;if(node.iconOpen&&node.iconClose){icoObj.attr("style",view.makeNodeIcoStyle(setting,node))}if(node.open){view.replaceSwitchClass(node,switchObj,consts.folder.OPEN);view.replaceIcoClass(node,icoObj,consts.folder.OPEN);if(animateFlag==false||setting.view.expandSpeed==""){ulObj.show();tools.apply(callback,[])}else{if(node[childKey]&&node[childKey].length>0){ulObj.slideDown(setting.view.expandSpeed,callback)}else{ulObj.show();tools.apply(callback,[])}}}else{view.replaceSwitchClass(node,switchObj,consts.folder.CLOSE);view.replaceIcoClass(node,icoObj,consts.folder.CLOSE);if(animateFlag==false||setting.view.expandSpeed==""||!(node[childKey]&&node[childKey].length>0)){ulObj.hide();tools.apply(callback,[])}else{ulObj.slideUp(setting.view.expandSpeed,callback)}}}else{tools.apply(callback,[])}},expandCollapseParentNode:function(setting,node,expandFlag,animateFlag,callback){if(!node){return}if(!node.parentTId){view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);return}else{view.expandCollapseNode(setting,node,expandFlag,animateFlag)}if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,animateFlag,callback)}},expandCollapseSonNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children,treeNodes=(node)?node[childKey]:root[childKey],selfAnimateSign=(node)?false:animateFlag,expandTriggerFlag=data.getRoot(setting).expandTriggerFlag;data.getRoot(setting).expandTriggerFlag=false;if(treeNodes){for(var i=0,l=treeNodes.length;i<l;i++){if(treeNodes[i]){view.expandCollapseSonNode(setting,treeNodes[i],expandFlag,selfAnimateSign)}}}data.getRoot(setting).expandTriggerFlag=expandTriggerFlag;view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback)},makeNodeFontCss:function(setting,node){var fontCss=tools.apply(setting.view.fontCss,[setting.treeId,node],setting.view.fontCss);return(fontCss&&((typeof fontCss)!="function"))?fontCss:{}},makeNodeIcoClass:function(setting,node){var icoCss=["ico"];if(!node.isAjaxing){icoCss[0]=(node.iconSkin?node.iconSkin+"_":"")+icoCss[0];if(node.isParent){icoCss.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{icoCss.push(consts.folder.DOCU)}}return"button "+icoCss.join("_")},makeNodeIcoStyle:function(setting,node){var icoStyle=[];if(!node.isAjaxing){var icon=(node.isParent&&node.iconOpen&&node.iconClose)?(node.open?node.iconOpen:node.iconClose):node.icon;if(icon){icoStyle.push("background:url(",icon,") 0 0 no-repeat;")}if(setting.view.showIcon==false||!tools.apply(setting.view.showIcon,[setting.treeId,node],true)){icoStyle.push("width:0px;height:0px;")}}return icoStyle.join("")},makeNodeLineClass:function(setting,node){var lineClass=[];if(setting.view.showLine){if(node.level==0&&node.isFirstNode&&node.isLastNode){lineClass.push(consts.line.ROOT)}else{if(node.level==0&&node.isFirstNode){lineClass.push(consts.line.ROOTS)}else{if(node.isLastNode){lineClass.push(consts.line.BOTTOM)}else{lineClass.push(consts.line.CENTER)}}}}else{lineClass.push(consts.line.NOLINE)}if(node.isParent){lineClass.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{lineClass.push(consts.folder.DOCU)}return view.makeNodeLineClassEx(node)+lineClass.join("_")},makeNodeLineClassEx:function(node){return"button level"+node.level+" switch "},makeNodeTarget:function(node){return(node.target||"_blank")},makeNodeUrl:function(setting,node){var urlKey=setting.data.key.url;return node[urlKey]?node[urlKey]:null},makeUlHtml:function(setting,node,html,content){html.push("<ul id='",node.tId,consts.id.UL,"' class='level",node.level," ",view.makeUlLineClass(setting,node),"' style='display:",(node.open?"block":"none"),"'>");html.push(content);html.push("</ul>")},makeUlLineClass:function(setting,node){return((setting.view.showLine&&!node.isLastNode)?consts.line.LINE:"")},removeChildNodes:function(setting,node){if(!node){return}var childKey=setting.data.key.children,nodes=node[childKey];if(!nodes){return}for(var i=0,l=nodes.length;i<l;i++){data.removeNodeCache(setting,nodes[i])}data.removeSelectedNode(setting);delete node[childKey];if(!setting.data.keep.parent){node.isParent=false;node.open=false;var tmp_switchObj=$("#"+node.tId+consts.id.SWITCH),tmp_icoObj=$("#"+node.tId+consts.id.ICON);view.replaceSwitchClass(node,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(node,tmp_icoObj,consts.folder.DOCU);$("#"+node.tId+consts.id.UL).remove()}else{$("#"+node.tId+consts.id.UL).empty()}},removeNode:function(setting,node){var root=data.getRoot(setting),childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():root;node.isFirstNode=false;node.isLastNode=false;node.getPreNode=function(){return null};node.getNextNode=function(){return null};$("#"+node.tId).remove();data.removeNodeCache(setting,node);data.removeSelectedNode(setting,node);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i].tId==node.tId){parentNode[childKey].splice(i,1);break}}var tmp_ulObj,tmp_switchObj,tmp_icoObj;if(!setting.data.keep.parent&&parentNode[childKey].length<1){parentNode.isParent=false;parentNode.open=false;tmp_ulObj=$("#"+parentNode.tId+consts.id.UL);tmp_switchObj=$("#"+parentNode.tId+consts.id.SWITCH);tmp_icoObj=$("#"+parentNode.tId+consts.id.ICON);view.replaceSwitchClass(parentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(parentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}else{if(setting.view.showLine&&parentNode[childKey].length>0){var newLast=parentNode[childKey][parentNode[childKey].length-1];newLast.isLastNode=true;newLast.isFirstNode=(parentNode[childKey].length==1);tmp_ulObj=$("#"+newLast.tId+consts.id.UL);tmp_switchObj=$("#"+newLast.tId+consts.id.SWITCH);tmp_icoObj=$("#"+newLast.tId+consts.id.ICON);if(parentNode==root){if(parentNode[childKey].length==1){view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.ROOT)}else{var tmp_first_switchObj=$("#"+parentNode[childKey][0].tId+consts.id.SWITCH);view.replaceSwitchClass(parentNode[childKey][0],tmp_first_switchObj,consts.line.ROOTS);view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}}else{view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}tmp_ulObj.removeClass(consts.line.LINE)}}},replaceIcoClass:function(node,obj,newName){if(!obj||node.isAjaxing){return}var tmpName=obj.attr("class");if(tmpName==undefined){return}var tmpList=tmpName.split("_");switch(newName){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[tmpList.length-1]=newName;break}obj.attr("class",tmpList.join("_"))},replaceSwitchClass:function(node,obj,newName){if(!obj){return}var tmpName=obj.attr("class");if(tmpName==undefined){return}var tmpList=tmpName.split("_");switch(newName){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:tmpList[0]=view.makeNodeLineClassEx(node)+newName;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[1]=newName;break}obj.attr("class",tmpList.join("_"));if(newName!==consts.folder.DOCU){obj.removeAttr("disabled")}else{obj.attr("disabled","disabled")}},selectNode:function(setting,node,addFlag){if(!addFlag){view.cancelPreSelectedNode(setting)}$("#"+node.tId+consts.id.A).addClass(consts.node.CURSELECTED);data.addSelectedNode(setting,node)},setNodeFontCss:function(setting,treeNode){var aObj=$("#"+treeNode.tId+consts.id.A),fontCss=view.makeNodeFontCss(setting,treeNode);if(fontCss){aObj.css(fontCss)}},setNodeLineIcos:function(setting,node){if(!node){return}var switchObj=$("#"+node.tId+consts.id.SWITCH),ulObj=$("#"+node.tId+consts.id.UL),icoObj=$("#"+node.tId+consts.id.ICON),ulLine=view.makeUlLineClass(setting,node);if(ulLine.length==0){ulObj.removeClass(consts.line.LINE)}else{ulObj.addClass(ulLine)}switchObj.attr("class",view.makeNodeLineClass(setting,node));if(node.isParent){switchObj.removeAttr("disabled")}else{switchObj.attr("disabled","disabled")}icoObj.removeAttr("style");icoObj.attr("style",view.makeNodeIcoStyle(setting,node));icoObj.attr("class",view.makeNodeIcoClass(setting,node))},setNodeName:function(setting,node){var nameKey=setting.data.key.name,titleKey=data.getTitleKey(setting),nObj=$("#"+node.tId+consts.id.SPAN);nObj.empty();if(setting.view.nameIsHTML){nObj.html(node[nameKey])}else{nObj.text(node[nameKey])}if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&node[titleKey]){var aObj=$("#"+node.tId+consts.id.A);aObj.attr("title",node[titleKey])}},setNodeTarget:function(node){var aObj=$("#"+node.tId+consts.id.A);aObj.attr("target",view.makeNodeTarget(node))},setNodeUrl:function(setting,node){var aObj=$("#"+node.tId+consts.id.A),url=view.makeNodeUrl(setting,node);if(url==null||url.length==0){aObj.removeAttr("href")}else{aObj.attr("href",url)}},switchNode:function(setting,node){if(node.open||!tools.canAsync(setting,node)){view.expandCollapseNode(setting,node,!node.open)}else{if(setting.async.enable){if(!view.asyncNode(setting,node)){view.expandCollapseNode(setting,node,!node.open);return}}else{if(node){view.expandCollapseNode(setting,node,!node.open)}}}}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(treeId){var o=data.getZTreeTools(treeId);return o?o:null},init:function(obj,zSetting,zNodes){var setting=tools.clone(_setting);$.extend(true,setting,zSetting);setting.treeId=obj.attr("id");setting.treeObj=obj;setting.treeObj.empty();settings[setting.treeId]=setting;if($.browser.msie&&parseInt($.browser.version)<7){setting.view.expandSpeed=""}data.initRoot(setting);var root=data.getRoot(setting),childKey=setting.data.key.children;zNodes=zNodes?tools.clone(tools.isArray(zNodes)?zNodes:[zNodes]):[];if(setting.data.simpleData.enable){root[childKey]=data.transformTozTreeFormat(setting,zNodes)}else{root[childKey]=zNodes}data.initCache(setting);event.bindTree(setting);event.bindEvent(setting);var zTreeTools={setting:setting,addNodes:function(parentNode,newNodes,isSilent){if(!newNodes){return null}if(!parentNode){parentNode=null}if(parentNode&&!parentNode.isParent&&setting.data.keep.leaf){return null}var xNewNodes=tools.clone(tools.isArray(newNodes)?newNodes:[newNodes]);function addCallback(){view.addNodes(setting,parentNode,xNewNodes,(isSilent==true))}if(tools.canAsync(setting,parentNode)){view.asyncNode(setting,parentNode,isSilent,addCallback)}else{addCallback()}return xNewNodes},cancelSelectedNode:function(node){view.cancelPreSelectedNode(this.setting,node)},expandAll:function(expandFlag){expandFlag=!!expandFlag;view.expandCollapseSonNode(this.setting,null,expandFlag,true);return expandFlag},expandNode:function(node,expandFlag,sonSign,focus,callbackFlag){if(!node||!node.isParent){return null}if(expandFlag!==true&&expandFlag!==false){expandFlag=!node.open}callbackFlag=!!callbackFlag;if(callbackFlag&&expandFlag&&(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false)){return null}else{if(callbackFlag&&!expandFlag&&(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false)){return null}}if(expandFlag&&node.parentTId){view.expandCollapseParentNode(this.setting,node.getParentNode(),expandFlag,false)}if(expandFlag===node.open&&!sonSign){return null}data.getRoot(setting).expandTriggerFlag=callbackFlag;if(sonSign){view.expandCollapseSonNode(this.setting,node,expandFlag,true,function(){if(focus!==false){$("#"+node.tId).focus().blur()}})}else{node.open=!expandFlag;view.switchNode(this.setting,node);if(focus!==false){$("#"+node.tId).focus().blur()}}return expandFlag},getNodes:function(){return data.getNodes(this.setting)},getNodeByParam:function(key,value,parentNode){if(!key){return null}return data.getNodeByParam(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodeByTId:function(tId){return data.getNodeCache(this.setting,tId)},getNodesByParam:function(key,value,parentNode){if(!key){return null}return data.getNodesByParam(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodesByParamFuzzy:function(key,value,parentNode){if(!key){return null}return data.getNodesByParamFuzzy(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodesByFilter:function(filter,isSingle,parentNode){isSingle=!!isSingle;if(!filter||(typeof filter!="function")){return(isSingle?null:[])}return data.getNodesByFilter(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),filter,isSingle)},getNodeIndex:function(node){if(!node){return null}var childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():data.getRoot(this.setting);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i]==node){return i}}return -1},getSelectedNodes:function(){var r=[],list=data.getRoot(this.setting).curSelectedList;for(var i=0,l=list.length;i<l;i++){r.push(list[i])}return r},isSelectedNode:function(node){return data.isSelectedNode(this.setting,node)},reAsyncChildNodes:function(parentNode,reloadType,isSilent){if(!this.setting.async.enable){return}var isRoot=!parentNode;if(isRoot){parentNode=data.getRoot(this.setting)}if(reloadType=="refresh"){parentNode[this.setting.data.key.children]=[];if(isRoot){this.setting.treeObj.empty()}else{var ulObj=$("#"+parentNode.tId+consts.id.UL);ulObj.empty()}}view.asyncNode(this.setting,isRoot?null:parentNode,!!isSilent)},refresh:function(){this.setting.treeObj.empty();var root=data.getRoot(this.setting),nodes=root[this.setting.data.key.children];data.initRoot(this.setting);root[this.setting.data.key.children]=nodes;data.initCache(this.setting);view.createNodes(this.setting,0,root[this.setting.data.key.children])},removeChildNodes:function(node){if(!node){return null}var childKey=setting.data.key.children,nodes=node[childKey];view.removeChildNodes(setting,node);return nodes?nodes:null},removeNode:function(node,callbackFlag){if(!node){return}callbackFlag=!!callbackFlag;if(callbackFlag&&tools.apply(setting.callback.beforeRemove,[setting.treeId,node],true)==false){return}view.removeNode(setting,node);if(callbackFlag){this.setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node])}},selectNode:function(node,addFlag){if(!node){return}if(tools.uCanDo(this.setting)){addFlag=setting.view.selectedMulti&&addFlag;if(node.parentTId){view.expandCollapseParentNode(this.setting,node.getParentNode(),true,false,function(){$("#"+node.tId).focus().blur()})}else{$("#"+node.tId).focus().blur()}view.selectNode(this.setting,node,addFlag)}},transformTozTreeNodes:function(simpleNodes){return data.transformTozTreeFormat(this.setting,simpleNodes)},transformToArray:function(nodes){return data.transformToArrayFormat(this.setting,nodes)},updateNode:function(node,checkTypeFlag){if(!node){return}var nObj=$("#"+node.tId);if(nObj.get(0)&&tools.uCanDo(this.setting)){view.setNodeName(this.setting,node);view.setNodeTarget(node);view.setNodeUrl(this.setting,node);view.setNodeLineIcos(this.setting,node);view.setNodeFontCss(this.setting,node)}}};root.treeTools=zTreeTools;data.setZTreeTools(setting,zTreeTools);if(root[childKey]&&root[childKey].length>0){view.createNodes(setting,0,root[childKey])}else{if(setting.async.enable&&setting.async.url&&setting.async.url!==""){view.asyncNode(setting)}}return zTreeTools}};var zt=$.fn.zTree,consts=zt.consts})(jQuery);(function(f){var A={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},m={check:{enable:false,autoCheckTrigger:false,chkStyle:A.checkbox.STYLE,nocheckInherit:false,radioType:A.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},x=function(B){var D=z.getRoot(B);D.radioCheckedList=[]},d=function(B){},n=function(B){var D=B.treeObj,E=r.event;D.unbind(E.CHECK);D.bind(E.CHECK,function(G,H,F){u.apply(B.callback.onCheck,[G,H,F])})},o=function(I){var J=I.target,M=z.getSetting(I.data.treeId),G="",D=null,E="",H="",B=null,F=null;if(u.eqs(I.type,"mouseover")){if(M.check.enable&&u.eqs(J.tagName,"span")&&J.getAttribute("treeNode"+r.id.CHECK)!==null){G=J.parentNode.id;E="mouseoverCheck"}}else{if(u.eqs(I.type,"mouseout")){if(M.check.enable&&u.eqs(J.tagName,"span")&&J.getAttribute("treeNode"+r.id.CHECK)!==null){G=J.parentNode.id;E="mouseoutCheck"}}else{if(u.eqs(I.type,"click")){if(M.check.enable&&u.eqs(J.tagName,"span")&&J.getAttribute("treeNode"+r.id.CHECK)!==null){G=J.parentNode.id;E="checkNode"}}}}if(G.length>0){D=z.getNodeCache(M,G);switch(E){case"checkNode":B=l.onCheckNode;break;case"mouseoverCheck":B=l.onMouseoverCheck;break;case"mouseoutCheck":B=l.onMouseoutCheck;break}}var K={stop:false,node:D,nodeEventType:E,nodeEventCallback:B,treeEventType:H,treeEventCallback:F};return K},w=function(F,J,I,B,H,E,G){if(!I){return}var D=F.data.key.checked;if(typeof I[D]=="string"){I[D]=u.eqs(I[D],"true")}I[D]=!!I[D];I.checkedOld=I[D];I.nocheck=!!I.nocheck||(F.check.nocheckInherit&&B&&!!B.nocheck);I.chkDisabled=!!I.chkDisabled||(B&&!!B.chkDisabled);if(typeof I.halfCheck=="string"){I.halfCheck=u.eqs(I.halfCheck,"true")}I.halfCheck=!!I.halfCheck;I.check_Child_State=-1;I.check_Focus=false;I.getCheckStatus=function(){return z.getCheckStatus(F,I)};if(E){z.makeChkFlag(F,B)}},a=function(E,G,D){var B=E.data.key.checked;if(E.check.enable){z.makeChkFlag(E,G);if(E.check.chkStyle==r.radio.STYLE&&E.check.radioType==r.radio.TYPE_ALL&&G[B]){var F=z.getRoot(E);F.radioCheckedList.push(G)}D.push("<span ID='",G.tId,r.id.CHECK,"' class='",j.makeChkClass(E,G),"' treeNode",r.id.CHECK,(G.nocheck===true?" style='display:none;'":""),"></span>")}},k=function(E,D){D.checkNode=function(J,I,K,H){var F=this.setting.data.key.checked;if(J.chkDisabled===true){return}if(I!==true&&I!==false){I=!J[F]}H=!!H;if(J[F]===I&&!K){return}else{if(H&&u.apply(this.setting.callback.beforeCheck,[this.setting.treeId,J],true)==false){return}}if(u.uCanDo(this.setting)&&this.setting.check.enable&&J.nocheck!==true){J[F]=I;var G=f("#"+J.tId+r.id.CHECK);if(K||this.setting.check.chkStyle===r.radio.STYLE){j.checkNodeRelation(this.setting,J)}j.setChkClass(this.setting,G,J);j.repairParentChkClassWithSelf(this.setting,J);if(H){E.treeObj.trigger(r.event.CHECK,[E.treeId,J])}}};D.checkAllNodes=function(F){j.repairAllChk(this.setting,!!F)};D.getCheckedNodes=function(G){var F=this.setting.data.key.children;G=(G!==false);return z.getTreeCheckedNodes(this.setting,z.getRoot(E)[F],G)};D.getChangeCheckedNodes=function(){var F=this.setting.data.key.children;return z.getTreeChangeCheckedNodes(this.setting,z.getRoot(E)[F])};D.setChkDisabled=function(G,F){F=!!F;j.repairSonChkDisabled(this.setting,G,F);if(!F){j.repairParentChkDisabled(this.setting,G,F)}};var B=D.updateNode;D.updateNode=function(H,I){if(B){B.apply(D,arguments)}if(!H||!this.setting.check.enable){return}var F=f("#"+H.tId);if(F.get(0)&&u.uCanDo(this.setting)){var G=f("#"+H.tId+r.id.CHECK);if(I==true||this.setting.check.chkStyle===r.radio.STYLE){j.checkNodeRelation(this.setting,H)}j.setChkClass(this.setting,G,H);j.repairParentChkClassWithSelf(this.setting,H)}}},q={getRadioCheckedList:function(F){var E=z.getRoot(F).radioCheckedList;for(var D=0,B=E.length;D<B;D++){if(!z.getNodeCache(F,E[D].tId)){E.splice(D,1);D--;B--}}return E},getCheckStatus:function(D,F){if(!D.check.enable||F.nocheck){return null}var B=D.data.key.checked,E={checked:F[B],half:F.halfCheck?F.halfCheck:(D.check.chkStyle==r.radio.STYLE?(F.check_Child_State===2):(F[B]?(F.check_Child_State>-1&&F.check_Child_State<2):(F.check_Child_State>0)))};return E},getTreeCheckedNodes:function(H,E,J,G){if(!E){return[]}var I=H.data.key.children,D=H.data.key.checked;G=!G?[]:G;for(var F=0,B=E.length;F<B;F++){if(E[F].nocheck!==true&&E[F][D]==J){G.push(E[F])}z.getTreeCheckedNodes(H,E[F][I],J,G)}return G},getTreeChangeCheckedNodes:function(H,E,G){if(!E){return[]}var I=H.data.key.children,D=H.data.key.checked;G=!G?[]:G;for(var F=0,B=E.length;F<B;F++){if(E[F].nocheck!==true&&E[F][D]!=E[F].checkedOld){G.push(E[F])}z.getTreeChangeCheckedNodes(H,E[F][I],G)}return G},makeChkFlag:function(M,F){if(!F){return}var E=M.data.key.children,B=M.data.key.checked,H=-1;if(F[E]){var D=false;for(var J=0,G=F[E].length;J<G;J++){var K=F[E][J];var I=-1;if(M.check.chkStyle==r.radio.STYLE){if(K.nocheck===true){I=K.check_Child_State}else{if(K.halfCheck===true){I=2}else{if(K.nocheck!==true&&K[B]){I=2}else{I=K.check_Child_State>0?2:0}}}if(I==2){H=2;break}else{if(I==0){H=0}}}else{if(M.check.chkStyle==r.checkbox.STYLE){if(K.nocheck===true){I=K.check_Child_State}else{if(K.halfCheck===true){I=1}else{if(K.nocheck!==true&&K[B]){I=(K.check_Child_State===-1||K.check_Child_State===2)?2:1}else{I=(K.check_Child_State>0)?1:0}}}if(I===1){H=1;break}else{if(I===2&&D&&I!==H){H=1;break}else{if(H===2&&I>-1&&I<2){H=1;break}else{if(I>-1){H=I}}}}if(!D){D=(K.nocheck!==true)}}}}}F.check_Child_State=H}},g={},l={onCheckNode:function(G,F){if(F.chkDisabled===true){return false}var E=z.getSetting(G.data.treeId),B=E.data.key.checked;if(u.apply(E.callback.beforeCheck,[E.treeId,F],true)==false){return true}F[B]=!F[B];j.checkNodeRelation(E,F);var D=f("#"+F.tId+r.id.CHECK);j.setChkClass(E,D,F);j.repairParentChkClassWithSelf(E,F);E.treeObj.trigger(r.event.CHECK,[E.treeId,F]);return true},onMouseoverCheck:function(F,E){if(E.chkDisabled===true){return false}var D=z.getSetting(F.data.treeId),B=f("#"+E.tId+r.id.CHECK);E.check_Focus=true;j.setChkClass(D,B,E);return true},onMouseoutCheck:function(F,E){if(E.chkDisabled===true){return false}var D=z.getSetting(F.data.treeId),B=f("#"+E.tId+r.id.CHECK);E.check_Focus=false;j.setChkClass(D,B,E);return true}},h={},e={checkNodeRelation:function(M,F){var J,H,G,E=M.data.key.children,D=M.data.key.checked,B=r.radio;if(M.check.chkStyle==B.STYLE){var K=z.getRadioCheckedList(M);if(F[D]){if(M.check.radioType==B.TYPE_ALL){for(H=K.length-1;H>=0;H--){J=K[H];J[D]=false;K.splice(H,1);j.setChkClass(M,f("#"+J.tId+r.id.CHECK),J);if(J.parentTId!=F.parentTId){j.repairParentChkClassWithSelf(M,J)}}K.push(F)}else{var I=(F.parentTId)?F.getParentNode():z.getRoot(M);for(H=0,G=I[E].length;H<G;H++){J=I[E][H];if(J[D]&&J!=F){J[D]=false;j.setChkClass(M,f("#"+J.tId+r.id.CHECK),J)}}}}else{if(M.check.radioType==B.TYPE_ALL){for(H=0,G=K.length;H<G;H++){if(F==K[H]){K.splice(H,1);break}}}}}else{if(F[D]&&(!F[E]||F[E].length==0||M.check.chkboxType.Y.indexOf("s")>-1)){j.setSonNodeCheckBox(M,F,true)}if(!F[D]&&(!F[E]||F[E].length==0||M.check.chkboxType.N.indexOf("s")>-1)){j.setSonNodeCheckBox(M,F,false)}if(F[D]&&M.check.chkboxType.Y.indexOf("p")>-1){j.setParentNodeCheckBox(M,F,true)}if(!F[D]&&M.check.chkboxType.N.indexOf("p")>-1){j.setParentNodeCheckBox(M,F,false)}}},makeChkClass:function(D,G){var B=D.data.key.checked,I=r.checkbox,F=r.radio,H="";if(G.chkDisabled===true){H=I.DISABLED}else{if(G.halfCheck){H=I.PART}else{if(D.check.chkStyle==F.STYLE){H=(G.check_Child_State<1)?I.FULL:I.PART}else{H=G[B]?((G.check_Child_State===2||G.check_Child_State===-1)?I.FULL:I.PART):((G.check_Child_State<1)?I.FULL:I.PART)}}}var E=D.check.chkStyle+"_"+(G[B]?I.TRUE:I.FALSE)+"_"+H;E=(G.check_Focus&&G.chkDisabled!==true)?E+"_"+I.FOCUS:E;return"button "+I.DEFAULT+" "+E},repairAllChk:function(G,J){if(G.check.enable&&G.check.chkStyle===r.checkbox.STYLE){var E=G.data.key.checked,I=G.data.key.children,D=z.getRoot(G);for(var F=0,B=D[I].length;F<B;F++){var H=D[I][F];if(H.nocheck!==true){H[E]=J}j.setSonNodeCheckBox(G,H,J)}}},repairChkClass:function(D,E){if(!E){return}z.makeChkFlag(D,E);var B=f("#"+E.tId+r.id.CHECK);j.setChkClass(D,B,E)},repairParentChkClass:function(D,E){if(!E||!E.parentTId){return}var B=E.getParentNode();j.repairChkClass(D,B);j.repairParentChkClass(D,B)},repairParentChkClassWithSelf:function(B,E){if(!E){return}var D=B.data.key.children;if(E[D]&&E[D].length>0){j.repairParentChkClass(B,E[D][0])}else{j.repairParentChkClass(B,E)}},repairSonChkDisabled:function(G,I,F){if(!I){return}var H=G.data.key.children;if(I.chkDisabled!=F){I.chkDisabled=F;if(I.nocheck!==true){j.repairChkClass(G,I)}}if(I[H]){for(var E=0,D=I[H].length;E<D;E++){var B=I[H][E];j.repairSonChkDisabled(G,B,F)}}},repairParentChkDisabled:function(D,E,B){if(!E){return}if(E.chkDisabled!=B){E.chkDisabled=B;if(E.nocheck!==true){j.repairChkClass(D,E)}}j.repairParentChkDisabled(D,E.getParentNode(),B)},setChkClass:function(B,E,D){if(!E){return}if(D.nocheck===true){E.hide()}else{E.show()}E.removeClass();E.addClass(j.makeChkClass(B,D))},setParentNodeCheckBox:function(N,F,M,I){var E=N.data.key.children,B=N.data.key.checked,J=f("#"+F.tId+r.id.CHECK);if(!I){I=F}z.makeChkFlag(N,F);if(F.nocheck!==true&&F.chkDisabled!==true){F[B]=M;j.setChkClass(N,J,F);if(N.check.autoCheckTrigger&&F!=I&&F.nocheck!==true){N.treeObj.trigger(r.event.CHECK,[N.treeId,F])}}if(F.parentTId){var K=true;if(!M){var D=F.getParentNode()[E];for(var H=0,G=D.length;H<G;H++){if((D[H].nocheck!==true&&D[H][B])||(D[H].nocheck===true&&D[H].check_Child_State>0)){K=false;break}}}if(K){j.setParentNodeCheckBox(N,F.getParentNode(),M,I)}}},setSonNodeCheckBox:function(N,F,M,I){if(!F){return}var E=N.data.key.children,B=N.data.key.checked,J=f("#"+F.tId+r.id.CHECK);if(!I){I=F}var D=false;if(F[E]){for(var H=0,G=F[E].length;H<G&&F.chkDisabled!==true;H++){var K=F[E][H];j.setSonNodeCheckBox(N,K,M,I);if(K.chkDisabled===true){D=true}}}if(F!=z.getRoot(N)&&F.chkDisabled!==true){if(D&&F.nocheck!==true){z.makeChkFlag(N,F)}if(F.nocheck!==true){F[B]=M;if(!D){F.check_Child_State=(F[E]&&F[E].length>0)?(M?2:0):-1}}else{F.check_Child_State=-1}j.setChkClass(N,J,F);if(N.check.autoCheckTrigger&&F!=I&&F.nocheck!==true){N.treeObj.trigger(r.event.CHECK,[N.treeId,F])}}}},t={tools:h,view:e,event:g,data:q};f.extend(true,f.fn.zTree.consts,A);f.extend(true,f.fn.zTree._z,t);var c=f.fn.zTree,u=c._z.tools,r=c.consts,j=c._z.view,z=c._z.data,s=c._z.event;z.exSetting(m);z.addInitBind(n);z.addInitCache(d);z.addInitNode(w);z.addInitProxy(o);z.addInitRoot(x);z.addBeforeA(a);z.addZTreeTools(k);var y=j.createNodes;j.createNodes=function(E,F,D,B){if(y){y.apply(j,arguments)}if(!D){return}j.repairParentChkClassWithSelf(E,B)};var b=j.removeNode;j.removeNode=function(D,E){var B=E.getParentNode();if(b){b.apply(j,arguments)}if(!E||!B){return}j.repairChkClass(D,B);j.repairParentChkClass(D,B)}})(jQuery);(function(f){var D={event:{DRAG:"ztree_drag",DROP:"ztree_drop",REMOVE:"ztree_remove",RENAME:"ztree_rename"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},m={edit:{enable:false,editNameSelectAll:false,showRemoveBtn:true,showRenameBtn:true,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:false,isCopy:true,isMove:true,prev:true,next:true,inner:true,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDrop:null,onRename:null}},y=function(E){var F=A.getRoot(E);F.curEditNode=null;F.curEditInput=null;F.curHoverNode=null;F.dragFlag=0;F.dragNodeShowBefore=[];F.dragMaskList=new Array();F.showHoverDom=true},c=function(E){},n=function(E){var F=E.treeObj;var G=r.event;F.unbind(G.RENAME);F.bind(G.RENAME,function(H,J,I){w.apply(E.callback.onRename,[H,J,I])});F.unbind(G.REMOVE);F.bind(G.REMOVE,function(H,J,I){w.apply(E.callback.onRemove,[H,J,I])});F.unbind(G.DRAG);F.bind(G.DRAG,function(I,H,K,J){w.apply(E.callback.onDrag,[H,K,J])});F.unbind(G.DROP);F.bind(G.DROP,function(K,J,N,M,O,I,H){w.apply(E.callback.onDrop,[J,N,M,O,I,H])})},o=function(M){var N=M.target,Q=A.getSetting(M.data.treeId),O=M.relatedTarget,J="",F=null,G="",K="",E=null,I=null,H=null;if(w.eqs(M.type,"mouseover")){H=w.getMDom(Q,N,[{tagName:"a",attrName:"treeNode"+r.id.A}]);if(H){J=H.parentNode.id;G="hoverOverNode"}}else{if(w.eqs(M.type,"mouseout")){H=w.getMDom(Q,O,[{tagName:"a",attrName:"treeNode"+r.id.A}]);if(!H){J="remove";G="hoverOutNode"}}else{if(w.eqs(M.type,"mousedown")){H=w.getMDom(Q,N,[{tagName:"a",attrName:"treeNode"+r.id.A}]);if(H){J=H.parentNode.id;G="mousedownNode"}}}}if(J.length>0){F=A.getNodeCache(Q,J);switch(G){case"mousedownNode":E=l.onMousedownNode;break;case"hoverOverNode":E=l.onHoverOverNode;break;case"hoverOutNode":E=l.onHoverOutNode;break}}var P={stop:false,node:F,nodeEventType:G,nodeEventCallback:E,treeEventType:K,treeEventCallback:I};return P},x=function(G,K,J,E,I,F,H){if(!J){return}J.isHover=false;J.editNameFlag=false},k=function(F,E){E.cancelEditName=function(H){var G=A.getRoot(F),I=F.data.key.name,J=G.curEditNode;if(!G.curEditNode){return}j.cancelCurEditNode(F,H?H:J[I])};E.copyNode=function(K,J,I,M){if(!J){return null}if(K&&!K.isParent&&F.data.keep.leaf&&I===r.move.TYPE_INNER){return null}var G=w.clone(J);if(!K){K=null;I=r.move.TYPE_INNER}if(I==r.move.TYPE_INNER){function H(){j.addNodes(F,K,[G],M)}if(w.canAsync(F,K)){j.asyncNode(F,K,M,H)}else{H()}}else{j.addNodes(F,K.parentNode,[G],M);j.moveNode(F,K,G,I,false,M)}return G};E.editName=function(G){if(!G||!G.tId||G!==A.getNodeCache(F,G.tId)){return}if(G.parentTId){j.expandCollapseParentNode(F,G.getParentNode(),true)}j.editNode(F,G)};E.moveNode=function(I,H,G,K){if(!H){return H}if(I&&!I.isParent&&F.data.keep.leaf&&G===r.move.TYPE_INNER){return null}else{if(I&&((H.parentTId==I.tId&&G==r.move.TYPE_INNER)||f("#"+H.tId).find("#"+I.tId).length>0)){return null}else{if(!I){I=null}}}function J(){j.moveNode(F,I,H,G,false,K)}if(w.canAsync(F,I)){j.asyncNode(F,I,K,J)}else{J()}return H};E.setEditable=function(G){F.edit.enable=G;return this.refresh()}},q={setSonNodeLevel:function(H,E,J){if(!J){return}var I=H.data.key.children;J.level=(E)?E.level+1:0;if(!J[I]){return}for(var G=0,F=J[I].length;G<F;G++){if(J[I][G]){A.setSonNodeLevel(H,J,J[I][G])}}}},g={},l={onHoverOverNode:function(H,G){var F=A.getSetting(H.data.treeId),E=A.getRoot(F);if(E.curHoverNode!=G){l.onHoverOutNode(H)}E.curHoverNode=G;j.addHoverDom(F,G)},onHoverOutNode:function(H,G){var F=A.getSetting(H.data.treeId),E=A.getRoot(F);if(E.curHoverNode&&!A.isSelectedNode(F,E.curHoverNode)){j.removeTreeDom(F,E.curHoverNode);E.curHoverNode=null}},onMousedownNode:function(R,K){var ad,aa,Q=A.getSetting(R.data.treeId),Z=A.getRoot(Q);if(R.button==2||!Q.edit.enable||(!Q.edit.drag.isCopy&&!Q.edit.drag.isMove)){return true}var ag=R.target,J=A.getRoot(Q).curSelectedList,S=[];if(!A.isSelectedNode(Q,K)){S=[K]}else{for(ad=0,aa=J.length;ad<aa;ad++){if(J[ad].editNameFlag&&w.eqs(ag.tagName,"input")&&ag.getAttribute("treeNode"+r.id.INPUT)!==null){return true}S.push(J[ad]);if(S[0].parentTId!==J[ad].parentTId){S=[K];break}}}j.editNodeBlur=true;j.cancelCurEditNode(Q,null,true);var aj=f(document),ac,M,ae,af=false,ah=Q,E,I,W=null,H=null,P=null,F=r.move.TYPE_INNER,ab=R.clientX,Y=R.clientY,N=(new Date()).getTime();if(w.uCanDo(Q)){aj.bind("mousemove",O)}function O(bm){if(Z.dragFlag==0&&Math.abs(ab-bm.clientX)<Q.edit.drag.minMoveSize&&Math.abs(Y-bm.clientY)<Q.edit.drag.minMoveSize){return true}var bh,bb,aM,a6,aY,a5=Q.data.key.children;w.noSel(Q);f("body").css("cursor","pointer");if(Z.dragFlag==0){if(w.apply(Q.callback.beforeDrag,[Q.treeId,S],true)==false){ai(bm);return true}for(bh=0,bb=S.length;bh<bb;bh++){if(bh==0){Z.dragNodeShowBefore=[]}aM=S[bh];if(aM.isParent&&aM.open){j.expandCollapseNode(Q,aM,!aM.open);Z.dragNodeShowBefore[aM.tId]=true}else{Z.dragNodeShowBefore[aM.tId]=false}}Z.dragFlag=1;Z.showHoverDom=false;w.showIfameMask(Q,true);var am=true,ay=-1;if(S.length>1){var aK=S[0].parentTId?S[0].getParentNode()[a5]:A.getNodes(Q);aY=[];for(bh=0,bb=aK.length;bh<bb;bh++){if(Z.dragNodeShowBefore[aK[bh].tId]!==undefined){if(am&&ay>-1&&(ay+1)!==bh){am=false}aY.push(aK[bh]);ay=bh}if(S.length===aY.length){S=aY;break}}}if(am){E=S[0].getPreNode();I=S[S.length-1].getNextNode()}ac=f("<ul class='zTreeDragUL'></ul>");for(bh=0,bb=S.length;bh<bb;bh++){aM=S[bh];aM.editNameFlag=false;j.selectNode(Q,aM,bh>0);j.removeTreeDom(Q,aM);a6=f("<li id='"+aM.tId+"_tmp'></li>");a6.append(f("#"+aM.tId+r.id.A).clone());a6.css("padding","0");a6.children("#"+aM.tId+r.id.A).removeClass(r.node.CURSELECTED);ac.append(a6);if(bh==Q.edit.drag.maxShowNodeNum-1){a6=f("<li id='"+aM.tId+"_moretmp'><a>  ...  </a></li>");ac.append(a6);break}}ac.attr("id",S[0].tId+r.id.UL+"_tmp");ac.addClass(Q.treeObj.attr("class"));ac.appendTo("body");M=f("<span class='tmpzTreeMove_arrow'></span>");M.attr("id","zTreeMove_arrow_tmp");M.appendTo("body");Q.treeObj.trigger(r.event.DRAG,[bm,Q.treeId,S])}if(Z.dragFlag==1){if(ae&&M.attr("id")==bm.target.id&&P&&(bm.clientX+aj.scrollLeft()+2)>(f("#"+P+r.id.A,ae).offset().left)){var bl=f("#"+P+r.id.A,ae);bm.target=(bl.length>0)?bl.get(0):bm.target}else{if(ae){ae.removeClass(r.node.TMPTARGET_TREE);if(P){f("#"+P+r.id.A,ae).removeClass(r.node.TMPTARGET_NODE+"_"+r.move.TYPE_PREV).removeClass(r.node.TMPTARGET_NODE+"_"+D.move.TYPE_NEXT).removeClass(r.node.TMPTARGET_NODE+"_"+D.move.TYPE_INNER)}}}ae=null;P=null;af=false;ah=Q;var bi=A.getSettings();for(var a7 in bi){if(bi[a7].treeId&&bi[a7].edit.enable&&bi[a7].treeId!=Q.treeId&&(bm.target.id==bi[a7].treeId||f(bm.target).parents("#"+bi[a7].treeId).length>0)){af=true;ah=bi[a7]}}var aJ=aj.scrollTop(),bk=aj.scrollLeft(),aw=ah.treeObj.offset(),aS=ah.treeObj.get(0).scrollHeight,a8=ah.treeObj.get(0).scrollWidth,bj=(bm.clientY+aJ-aw.top),a4=(ah.treeObj.height()+aw.top-bm.clientY-aJ),aZ=(bm.clientX+bk-aw.left),aH=(ah.treeObj.width()+aw.left-bm.clientX-bk),aL=(bj<Q.edit.drag.borderMax&&bj>Q.edit.drag.borderMin),bn=(a4<Q.edit.drag.borderMax&&a4>Q.edit.drag.borderMin),a2=(aZ<Q.edit.drag.borderMax&&aZ>Q.edit.drag.borderMin),aF=(aH<Q.edit.drag.borderMax&&aH>Q.edit.drag.borderMin),ax=bj>Q.edit.drag.borderMin&&a4>Q.edit.drag.borderMin&&aZ>Q.edit.drag.borderMin&&aH>Q.edit.drag.borderMin,aW=(aL&&ah.treeObj.scrollTop()<=0),aV=(bn&&(ah.treeObj.scrollTop()+ah.treeObj.height()+10)>=aS),aA=(a2&&ah.treeObj.scrollLeft()<=0),aP=(aF&&(ah.treeObj.scrollLeft()+ah.treeObj.width()+10)>=a8);if(bm.target.id&&ah.treeObj.find("#"+bm.target.id).length>0){var aG=bm.target;while(aG&&aG.tagName&&!w.eqs(aG.tagName,"li")&&aG.id!=ah.treeId){aG=aG.parentNode}var aO=true;for(bh=0,bb=S.length;bh<bb;bh++){aM=S[bh];if(aG.id===aM.tId){aO=false;break}else{if(f("#"+aM.tId).find("#"+aG.id).length>0){aO=false;break}}}if(aO){if(bm.target.id&&(bm.target.id==(aG.id+r.id.A)||f(bm.target).parents("#"+aG.id+r.id.A).length>0)){ae=f(aG);P=aG.id}}}aM=S[0];if(ax&&(bm.target.id==ah.treeId||f(bm.target).parents("#"+ah.treeId).length>0)){if(!ae&&(bm.target.id==ah.treeId||aW||aV||aA||aP)&&(af||(!af&&aM.parentTId))){ae=ah.treeObj}if(aL){ah.treeObj.scrollTop(ah.treeObj.scrollTop()-10)}else{if(bn){ah.treeObj.scrollTop(ah.treeObj.scrollTop()+10)}}if(a2){ah.treeObj.scrollLeft(ah.treeObj.scrollLeft()-10)}else{if(aF){ah.treeObj.scrollLeft(ah.treeObj.scrollLeft()+10)}}if(ae&&ae!=ah.treeObj&&ae.offset().left<ah.treeObj.offset().left){ah.treeObj.scrollLeft(ah.treeObj.scrollLeft()+ae.offset().left-ah.treeObj.offset().left)}}ac.css({top:(bm.clientY+aJ+3)+"px",left:(bm.clientX+bk+3)+"px"});var aU=0;var aT=0;if(ae&&ae.attr("id")!=ah.treeId){var a3=P==null?null:A.getNodeCache(ah,P),aX=(bm.ctrlKey&&Q.edit.drag.isMove&&Q.edit.drag.isCopy)||(!Q.edit.drag.isMove&&Q.edit.drag.isCopy),aD=!!(E&&P===E.tId),a1=!!(I&&P===I.tId),bf=(aM.parentTId&&aM.parentTId==P),a0=(aX||!a1)&&w.apply(ah.edit.drag.prev,[ah.treeId,S,a3],!!ah.edit.drag.prev),aB=(aX||!aD)&&w.apply(ah.edit.drag.next,[ah.treeId,S,a3],!!ah.edit.drag.next),ak=(aX||!bf)&&!(ah.data.keep.leaf&&!a3.isParent)&&w.apply(ah.edit.drag.inner,[ah.treeId,S,a3],!!ah.edit.drag.inner);if(!a0&&!aB&&!ak){ae=null;P="";F=r.move.TYPE_INNER;M.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}else{var aR=f("#"+P+r.id.A,ae),ba=a3.isLastNode?null:f("#"+a3.getNextNode().tId+r.id.A,ae.next()),bd=aR.offset().top,bg=aR.offset().left,a9=a0?(ak?0.25:(aB?0.5:1)):-1,aE=aB?(ak?0.75:(a0?0.5:0)):-1,az=(bm.clientY+aJ-bd)/aR.height();if((a9==1||az<=a9&&az>=-0.2)&&a0){aU=1-M.width();aT=bd-M.height()/2;F=r.move.TYPE_PREV}else{if((aE==0||az>=aE&&az<=1.2)&&aB){aU=1-M.width();aT=(ba==null||(a3.isParent&&a3.open))?(bd+aR.height()-M.height()/2):(ba.offset().top-M.height()/2);F=r.move.TYPE_NEXT}else{aU=5-M.width();aT=bd;F=r.move.TYPE_INNER}}M.css({display:"block",top:aT+"px",left:(bg+aU)+"px"});aR.addClass(r.node.TMPTARGET_NODE+"_"+F);if(W!=P||H!=F){N=(new Date()).getTime()}if(a3&&a3.isParent&&F==r.move.TYPE_INNER){var aN=true;if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==a3.tId){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}else{if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===a3.tId){aN=false}}if(aN){window.zTreeMoveTimer=setTimeout(function(){if(F!=r.move.TYPE_INNER){return}if(a3&&a3.isParent&&!a3.open&&(new Date()).getTime()-N>ah.edit.drag.autoOpenTime&&w.apply(ah.callback.beforeDragOpen,[ah.treeId,a3],true)){j.switchNode(ah,a3);if(ah.edit.drag.autoExpandTrigger){ah.treeObj.trigger(r.event.EXPAND,[ah.treeId,a3])}}},ah.edit.drag.autoOpenTime+50);window.zTreeMoveTargetNodeTId=a3.tId}}}}else{F=r.move.TYPE_INNER;if(ae&&w.apply(ah.edit.drag.inner,[ah.treeId,S,null],!!ah.edit.drag.inner)){ae.addClass(r.node.TMPTARGET_TREE)}else{ae=null}M.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}W=P;H=F}return false}aj.bind("mouseup",ai);function ai(aB){if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}W=null;H=null;aj.unbind("mousemove",O);aj.unbind("mouseup",ai);aj.unbind("selectstart",G);f("body").css("cursor","auto");if(ae){ae.removeClass(r.node.TMPTARGET_TREE);if(P){f("#"+P+r.id.A,ae).removeClass(r.node.TMPTARGET_NODE+"_"+r.move.TYPE_PREV).removeClass(r.node.TMPTARGET_NODE+"_"+D.move.TYPE_NEXT).removeClass(r.node.TMPTARGET_NODE+"_"+D.move.TYPE_INNER)}}w.showIfameMask(Q,false);Z.showHoverDom=true;if(Z.dragFlag==0){return}Z.dragFlag=0;var az,am,aA;for(az=0,am=S.length;az<am;az++){aA=S[az];if(aA.isParent&&Z.dragNodeShowBefore[aA.tId]&&!aA.open){j.expandCollapseNode(Q,aA,!aA.open);delete Z.dragNodeShowBefore[aA.tId]}}if(ac){ac.remove()}if(M){M.remove()}var ak=(aB.ctrlKey&&Q.edit.drag.isMove&&Q.edit.drag.isCopy)||(!Q.edit.drag.isMove&&Q.edit.drag.isCopy);if(!ak&&ae&&P&&S[0].parentTId&&P==S[0].parentTId&&F==r.move.TYPE_INNER){ae=null}if(ae){var aw=P==null?null:A.getNodeCache(ah,P);if(w.apply(Q.callback.beforeDrop,[ah.treeId,S,aw,F,ak],true)==false){return}var ax=ak?w.clone(S):S;function ay(){if(af){if(!ak){for(var aE=0,aD=S.length;aE<aD;aE++){j.removeNode(Q,S[aE])}}if(F==r.move.TYPE_INNER){j.addNodes(ah,aw,ax)}else{j.addNodes(ah,aw.getParentNode(),ax);if(F==r.move.TYPE_PREV){for(aE=0,aD=ax.length;aE<aD;aE++){j.moveNode(ah,aw,ax[aE],F,false)}}else{for(aE=-1,aD=ax.length-1;aE<aD;aD--){j.moveNode(ah,aw,ax[aD],F,false)}}}}else{if(ak&&F==r.move.TYPE_INNER){j.addNodes(ah,aw,ax)}else{if(ak){j.addNodes(ah,aw.getParentNode(),ax)}if(F==r.move.TYPE_PREV){for(aE=0,aD=ax.length;aE<aD;aE++){j.moveNode(ah,aw,ax[aE],F,false)}}else{for(aE=-1,aD=ax.length-1;aE<aD;aD--){j.moveNode(ah,aw,ax[aD],F,false)}}}}for(aE=0,aD=ax.length;aE<aD;aE++){j.selectNode(ah,ax[aE],aE>0)}f("#"+ax[0].tId).focus().blur()}if(F==r.move.TYPE_INNER&&w.canAsync(ah,aw)){j.asyncNode(ah,aw,false,ay)}else{ay()}Q.treeObj.trigger(r.event.DROP,[aB,ah.treeId,ax,aw,F,ak])}else{for(az=0,am=S.length;az<am;az++){j.selectNode(ah,S[az],az>0)}Q.treeObj.trigger(r.event.DROP,[aB,Q.treeId,S,null,null,null])}}aj.bind("selectstart",G);function G(){return false}if(R.preventDefault){R.preventDefault()}return true}},h={getAbs:function(E){var F=E.getBoundingClientRect();return[F.left,F.top]},inputFocus:function(E){if(E.get(0)){E.focus();w.setCursorPosition(E.get(0),E.val().length)}},inputSelect:function(E){if(E.get(0)){E.focus();E.select()}},setCursorPosition:function(F,G){if(F.setSelectionRange){F.focus();F.setSelectionRange(G,G)}else{if(F.createTextRange){var E=F.createTextRange();E.collapse(true);E.moveEnd("character",G);E.moveStart("character",G);E.select()}}},showIfameMask:function(M,J){var I=A.getRoot(M);while(I.dragMaskList.length>0){I.dragMaskList[0].remove();I.dragMaskList.shift()}if(J){var N=f("iframe");for(var H=0,F=N.length;H<F;H++){var G=N.get(H),E=w.getAbs(G),K=f("<div id='zTreeMask_"+H+"' class='zTreeMask' style='background-color:yellow;opacity: 0.3;filter: alpha(opacity=30);    top:"+E[1]+"px; left:"+E[0]+"px; width:"+G.offsetWidth+"px; height:"+G.offsetHeight+"px;'></div>");K.appendTo("body");I.dragMaskList.push(K)}}}},d={addEditBtn:function(F,G){if(G.editNameFlag||f("#"+G.tId+r.id.EDIT).length>0){return}if(!w.apply(F.edit.showRenameBtn,[F.treeId,G],F.edit.showRenameBtn)){return}var H=f("#"+G.tId+r.id.A),E="<span class='button edit' id='"+G.tId+r.id.EDIT+"' title='"+w.apply(F.edit.renameTitle,[F.treeId,G],F.edit.renameTitle)+"' treeNode"+r.id.EDIT+" style='display:none;'></span>";H.append(E);f("#"+G.tId+r.id.EDIT).bind("click",function(){if(!w.uCanDo(F)||w.apply(F.callback.beforeEditName,[F.treeId,G],true)==false){return false}j.editNode(F,G);return false}).show()},addRemoveBtn:function(E,F){if(F.editNameFlag||f("#"+F.tId+r.id.REMOVE).length>0){return}if(!w.apply(E.edit.showRemoveBtn,[E.treeId,F],E.edit.showRemoveBtn)){return}var H=f("#"+F.tId+r.id.A),G="<span class='button remove' id='"+F.tId+r.id.REMOVE+"' title='"+w.apply(E.edit.removeTitle,[E.treeId,F],E.edit.removeTitle)+"' treeNode"+r.id.REMOVE+" style='display:none;'></span>";H.append(G);f("#"+F.tId+r.id.REMOVE).bind("click",function(){if(!w.uCanDo(E)||w.apply(E.callback.beforeRemove,[E.treeId,F],true)==false){return false}j.removeNode(E,F);E.treeObj.trigger(r.event.REMOVE,[E.treeId,F]);return false}).bind("mousedown",function(I){return true}).show()},addHoverDom:function(E,F){if(A.getRoot(E).showHoverDom){F.isHover=true;if(E.edit.enable){j.addEditBtn(E,F);j.addRemoveBtn(E,F)}w.apply(E.view.addHoverDom,[E.treeId,F])}},cancelCurEditNode:function(J,H){var F=A.getRoot(J),I=J.data.key.name,K=F.curEditNode;if(K){var G=F.curEditInput;var E=H?H:G.val();if(!H&&w.apply(J.callback.beforeRename,[J.treeId,K,E],true)===false){K.editNameFlag=true;return false}else{K[I]=E?E:G.val();if(!H){J.treeObj.trigger(r.event.RENAME,[J.treeId,K])}}var M=f("#"+K.tId+r.id.A);M.removeClass(r.node.CURSELECTED_EDIT);G.unbind();j.setNodeName(J,K);K.editNameFlag=false;F.curEditNode=null;F.curEditInput=null;j.selectNode(J,K,false)}F.noSelection=true;return true},editNode:function(H,I){var E=A.getRoot(H);j.editNodeBlur=false;if(A.isSelectedNode(H,I)&&E.curEditNode==I&&I.editNameFlag){setTimeout(function(){w.inputFocus(E.curEditInput)},0);return}var G=H.data.key.name;I.editNameFlag=true;j.removeTreeDom(H,I);j.cancelCurEditNode(H);j.selectNode(H,I,false);f("#"+I.tId+r.id.SPAN).html("<input type=text class='rename' id='"+I.tId+r.id.INPUT+"' treeNode"+r.id.INPUT+" >");var F=f("#"+I.tId+r.id.INPUT);F.attr("value",I[G]);if(H.edit.editNameSelectAll){w.inputSelect(F)}else{w.inputFocus(F)}F.bind("blur",function(J){if(!j.editNodeBlur){j.cancelCurEditNode(H)}}).bind("keydown",function(J){if(J.keyCode=="13"){j.editNodeBlur=true;j.cancelCurEditNode(H,null,true)}else{if(J.keyCode=="27"){j.cancelCurEditNode(H,I[G])}}}).bind("click",function(J){return false}).bind("dblclick",function(J){return false});f("#"+I.tId+r.id.A).addClass(r.node.CURSELECTED_EDIT);E.curEditInput=F;E.noSelection=false;E.curEditNode=I},moveNode:function(P,H,S,G,ah,I){var Y=A.getRoot(P),N=P.data.key.children;if(H==S){return}if(P.data.keep.leaf&&H&&!H.isParent&&G==r.move.TYPE_INNER){return}var ab=(S.parentTId?S.getParentNode():Y),R=(H===null||H==Y);if(R&&H===null){H=Y}if(R){G=r.move.TYPE_INNER}var E=(H.parentTId?H.getParentNode():Y);if(G!=r.move.TYPE_PREV&&G!=r.move.TYPE_NEXT){G=r.move.TYPE_INNER}if(G==r.move.TYPE_INNER){if(R){S.parentTId=null}else{if(!H.isParent){H.isParent=true;H.open=!!H.open;j.setNodeLineIcos(P,H)}S.parentTId=H.tId}}var J,M;if(R){J=P.treeObj;M=J}else{if(!I&&G==r.move.TYPE_INNER){j.expandCollapseNode(P,H,true,false)}else{if(!I){j.expandCollapseNode(P,H.getParentNode(),true,false)}}J=f("#"+H.tId);M=f("#"+H.tId+r.id.UL);if(!M.get(0)){var af=[];j.makeUlHtml(P,H,af,"");J.append(af.join(""))}M=f("#"+H.tId+r.id.UL)}var ad=f("#"+S.tId);if(M.get(0)&&G==r.move.TYPE_INNER){M.append(ad)}else{if(J.get(0)&&G==r.move.TYPE_PREV){J.before(ad)}else{if(J.get(0)&&G==r.move.TYPE_NEXT){J.after(ad)}}}var aa,Z,K=-1,ac=0,ag=null,F=null,ae=S.level;if(S.isFirstNode){K=0;if(ab[N].length>1){ag=ab[N][1];ag.isFirstNode=true}}else{if(S.isLastNode){K=ab[N].length-1;ag=ab[N][K-1];ag.isLastNode=true}else{for(aa=0,Z=ab[N].length;aa<Z;aa++){if(ab[N][aa].tId==S.tId){K=aa;break}}}}if(K>=0){ab[N].splice(K,1)}if(G!=r.move.TYPE_INNER){for(aa=0,Z=E[N].length;aa<Z;aa++){if(E[N][aa].tId==H.tId){ac=aa}}}if(G==r.move.TYPE_INNER){if(!H[N]){H[N]=new Array()}if(H[N].length>0){F=H[N][H[N].length-1];F.isLastNode=false}H[N].splice(H[N].length,0,S);S.isLastNode=true;S.isFirstNode=(H[N].length==1)}else{if(H.isFirstNode&&G==r.move.TYPE_PREV){E[N].splice(ac,0,S);F=H;F.isFirstNode=false;S.parentTId=H.parentTId;S.isFirstNode=true;S.isLastNode=false}else{if(H.isLastNode&&G==r.move.TYPE_NEXT){E[N].splice(ac+1,0,S);F=H;F.isLastNode=false;S.parentTId=H.parentTId;S.isFirstNode=false;S.isLastNode=true}else{if(G==r.move.TYPE_PREV){E[N].splice(ac,0,S)}else{E[N].splice(ac+1,0,S)}S.parentTId=H.parentTId;S.isFirstNode=false;S.isLastNode=false}}}A.fixPIdKeyValue(P,S);A.setSonNodeLevel(P,S.getParentNode(),S);j.setNodeLineIcos(P,S);j.repairNodeLevelClass(P,S,ae);if(!P.data.keep.parent&&ab[N].length<1){ab.isParent=false;ab.open=false;var Q=f("#"+ab.tId+r.id.UL),W=f("#"+ab.tId+r.id.SWITCH),O=f("#"+ab.tId+r.id.ICON);j.replaceSwitchClass(ab,W,r.folder.DOCU);j.replaceIcoClass(ab,O,r.folder.DOCU);Q.css("display","none")}else{if(ag){j.setNodeLineIcos(P,ag)}}if(F){j.setNodeLineIcos(P,F)}if(!!P.check&&P.check.enable&&j.repairChkClass){j.repairChkClass(P,ab);j.repairParentChkClassWithSelf(P,ab);if(ab!=S.parent){j.repairParentChkClassWithSelf(P,S)}}if(!I){j.expandCollapseParentNode(P,S.getParentNode(),true,ah)}},removeEditBtn:function(E){f("#"+E.tId+r.id.EDIT).unbind().remove()},removeRemoveBtn:function(E){f("#"+E.tId+r.id.REMOVE).unbind().remove()},removeTreeDom:function(E,F){F.isHover=false;j.removeEditBtn(F);j.removeRemoveBtn(F);w.apply(E.view.removeHoverDom,[E.treeId,F])},repairNodeLevelClass:function(F,H,G){if(G===H.level){return}var I=f("#"+H.tId),M=f("#"+H.tId+r.id.A),K=f("#"+H.tId+r.id.UL),E="level"+G,J="level"+H.level;I.removeClass(E);I.addClass(J);M.removeClass(E);M.addClass(J);K.removeClass(E);K.addClass(J)}},t={tools:h,view:d,event:s,data:q};f.extend(true,f.fn.zTree.consts,D);f.extend(true,f.fn.zTree._z,t);var b=f.fn.zTree,w=b._z.tools,r=b.consts,j=b._z.view,A=b._z.data,s=b._z.event;A.exSetting(m);A.addInitBind(n);A.addInitCache(c);A.addInitNode(x);A.addInitProxy(o);A.addInitRoot(y);A.addZTreeTools(k);var u=j.cancelPreSelectedNode;j.cancelPreSelectedNode=function(G,H){var I=A.getRoot(G).curSelectedList;for(var F=0,E=I.length;F<E;F++){if(!H||H===I[F]){j.removeTreeDom(G,I[F]);if(H){break}}}if(u){u.apply(j,arguments)}};var z=j.createNodes;j.createNodes=function(G,H,F,E){if(z){z.apply(j,arguments)}if(!F){return}if(j.repairParentChkClassWithSelf){j.repairParentChkClassWithSelf(G,E)}};j.makeNodeUrl=function(E,F){return(F.url&&!E.edit.enable)?F.url:null};var a=j.removeNode;j.removeNode=function(F,G){var E=A.getRoot(F);if(E.curEditNode===G){E.curEditNode=null}if(a){a.apply(j,arguments)}};var B=j.selectNode;j.selectNode=function(G,H,F){var E=A.getRoot(G);if(A.isSelectedNode(G,H)&&E.curEditNode==H&&H.editNameFlag){return false}if(B){B.apply(j,arguments)}j.addHoverDom(G,H);return true};var e=w.uCanDo;w.uCanDo=function(F,G){var E=A.getRoot(F);if(G&&(w.eqs(G.type,"mouseover")||w.eqs(G.type,"mouseout")||w.eqs(G.type,"mousedown")||w.eqs(G.type,"mouseup"))){return true}return(!E.curEditNode)&&(e?e.apply(j,arguments):true)}})(jQuery);var CKEDITOR_BASEPATH=_ctxPath+"/common/ckeditor/";function FCKeditor_OnComplete(a){$("#"+a.Name).attr("editorReadyState","complete");$("#"+a.Name).trigger("editorReady")}function mutAccountDep(c,d){if(!d){return}if(!d.attr("hiddenValue")||d.attr("hiddenValue")==""){d.val(c);return}var b=d.attr("hiddenValue");var a=_ctxPath+"/govdoc/govdoc.do?method=mutAccountDep";$.ajax({async:true,url:a,dataType:"text",data:{input:c,primaryInput:b},success:function(e){if(e&&e!=""){d.attr("hiddenValue",e);if(d.attr("hiddenValue")==""){d.val(c)}else{d.val(c+"hiddenValue"+d.attr("hiddenValue"))}}}})}function getBrowserInfo(){var d=navigator.userAgent.toLowerCase();var e=/msie [\d.]+;/gi;var b=/firefox\/[\d.]+/gi;var a=/chrome\/[\d.]+/gi;var c=/safari\/[\d.]+/gi;if(d.indexOf("msie")>0){return d.match(e)}if(d.indexOf("firefox")>0){return d.match(b)}if(d.indexOf("chrome")>0){return d.match(a)}if(d.indexOf("safari")>0&&d.indexOf("chrome")<0){return d.match(c)}}function realSupportCk5(){var b=getBrowserInfo();var a=(b+"").replace(/[^0-9.]/ig,"");if(b.indexOf("chrome")&&parseFloat(a)>51){return true}else{return false}if(b.indexOf("firefox")&&parseFloat(a)>53){return true}else{return false}if(b.indexOf("safari")&&parseFloat(a)>10){return true}else{return false}return false}var ctpEventIntercept={};function ctpEventType(a){if(a=="beforSendColl"){return ctpEventIntercept.ctpEventIntercept}else{if(a=="beforeSaveDraftColl"){return ctpEventIntercept.beforeSaveDraftColl}else{if(a=="dealRepeatChange"){return ctpEventIntercept.dealRepeatChange}else{if(a=="fieldValueChange"){return ctpEventIntercept.fieldValueChange}else{if(a=="beforeDealSubmit"){return ctpEventIntercept.beforeDealSubmit}else{if(a=="beforeDealSaveWait"){return ctpEventIntercept.beforeDealSaveWait}else{if(a=="beforeDealCancel"){return ctpEventIntercept.beforeDealCancel}else{if(a=="beforeDealstepback"){return ctpEventIntercept.beforeDealstepback}else{if(a=="beforeDealstepstop"){return ctpEventIntercept.beforeDealstepstop}else{if(a=="beforeDealaddnode"){return ctpEventIntercept.beforeDealaddnode}else{if(a=="beforeDealdeletenode"){return ctpEventIntercept.beforeDealdeletenode}else{if(a=="beforeDealspecifiesReturn"){return ctpEventIntercept.beforeDealspecifiesReturn}else{if(a=="beforeDoneTakeBack"){return ctpEventIntercept.beforeDoneTakeBack}else{if(a=="beforeWaitSendDelete"){return ctpEventIntercept.beforeWaitSendDelete}else{if(a=="beforeSentCancel"){return ctpEventIntercept.beforeSentCancel}else{return ctpEventIntercept[a]}}}}}}}}}}}}}}}}function setCtpEvent(a,b){if(a=="beforSendColl"){ctpEventIntercept.ctpEventIntercept=b}else{if(a=="beforeSaveDraftColl"){ctpEventIntercept.beforeSaveDraftColl=b}else{if(a=="dealRepeatChange"){ctpEventIntercept.dealRepeatChange=b}else{if(a=="fieldValueChange"){ctpEventIntercept.fieldValueChange=b}else{if(a=="beforeDealSubmit"){ctpEventIntercept.beforeDealSubmit=b}else{if(a=="beforeDealSaveWait"){ctpEventIntercept.beforeDealSaveWait=b}else{if(a=="beforeDealCancel"){ctpEventIntercept.beforeDealCancel=b}else{if(a=="beforeDealstepback"){ctpEventIntercept.beforeDealstepback=b}else{if(a=="beforeDealstepstop"){ctpEventIntercept.beforeDealstepstop=b}else{if(a=="beforeDealaddnode"){ctpEventIntercept.beforeDealaddnode=b}else{if(a=="beforeDealdeletenode"){ctpEventIntercept.beforeDealdeletenode=b}else{if(a=="beforeDealspecifiesReturn"){ctpEventIntercept.beforeDealspecifiesReturn=b}else{if(a=="beforeDoneTakeBack"){ctpEventIntercept.beforeDoneTakeBack=b}else{if(a=="beforeWaitSendDelete"){ctpEventIntercept.beforeWaitSendDelete=b}else{if(a=="beforeSentCancel"){ctpEventIntercept.beforeSentCancel=b}else{return ctpEventIntercept[a]=b}}}}}}}}}}}}}}}}$.ctp={bind:function(a,c){var d=ctpEventType(a);var b=d;if(!Boolean(b)){b=[];b.push(c);setCtpEvent(a,b)}else{b.push(c)}},trigger:function(a,d){var c=ctpEventType(a);if(Boolean(c)){for(var b=0;b<c.length;b++){if(!c[b](d)){return false}}}else{return true}return true}};(function(d){var s=false;d.messageBox=function(D){return new MxtMsgBox(D)};d.alert=function(E){var D=null;if(typeof(E)=="object"){D=E}D=D==null?{}:D;D.title=D.title?D.title:d.i18n("system.prompt.js");D.type=D.type?D.type:0;D.imgType=D.imgType?D.imgType:2;D.close_fn=D.close_fn?D.close_fn:null;if(typeof(E)!="object"){D.msg=E}return new MxtMsgBox(D)};d.infor=function(E){var D=null;if(typeof(E)=="object"){D=E}var D=D==undefined?{}:D;D.title=d.i18n("system.prompt.js");D.type=0;if(typeof(E)!="object"){D.msg=E}D.imgType=D.imgType?D.imgType:0;D.close_fn=D.close_fn?D.close_fn:null;return new MxtMsgBox(D)};d.confirm=function(D){var D=D==undefined?{}:D;D.title=D.title?D.title:d.i18n("system.prompt.js");D.type=1;D.imgType=D.imgType?D.imgType:4;D.close_fn=D.close_fn?D.close_fn:null;return new MxtMsgBox(D)};d.error=function(E){var D=null;if(typeof(E)=="object"){D=E}var D=D==undefined?{}:D;D.title=D.title?D.title:d.i18n("system.prompt.js");D.type=D.type?D.type:0;D.imgType=D.imgType?D.imgType:1;D.close_fn=D.close_fn?D.close_fn:null;if(typeof(E)!="object"){D.msg=E}return new MxtMsgBox(D)};d.gc=function(){if(typeof(CollectGarbage)=="function"){CollectGarbage()}};d.releaseContext=function(){function E(G){if(typeof G!=="undefined"){for(var H in G){try{if(typeof G[H]=="object"&&(G[H]!=null)){E(G[H])}G[H]=null}catch(F){}}}}try{if(d&&d.ctx){E(d.ctx)}E(v3x);E(MainLang);E(CTPLang);E(sectionHandler);d("iframe").each(function(){var F=this.contentWindow;E(F.sectionHandler);E(F.MainLang);E(F.CTPLang);E(F.v3x);if(F.$&&F.$.ctx){E(F.$.ctx)}this.src="about:blank"})}catch(D){}};d.releaseOnunload=function(){if(d.browser.msie){d(window).bind("unload",function(){d.releaseContext()})}d(window).unload(function(){for(var E in jQuery.cache){if(jQuery.cache[E].handle){try{jQuery.event.remove(jQuery.cache[E].handle.elem)}catch(D){}}delete jQuery.cache[E]}})};d.globalCache=function(D,F){var G=window.sessionStorage;if(typeof G!=="undefined"&&G!==null&&(typeof JSON!=="undefined")){if(typeof F!=="undefined"){G.setItem(D,JSON.stringify(F));return}var E=G.getItem(D);if(E!=undefined){return JSON.parse(E)}return undefined}};d.progressBar=function(D){if(D==undefined){D={}}return new MxtProgressBar(D)};d.dialog=function(D){var E=D.targetWindow;if(!D.targetWindow){E=getCtpTop()}if(!(D.url)&&!(D.type)&&D.htmlId){if(!D.targetWindow){E=window;D.contentCopyWindow=window}else{D.contentCopyWindow=window}}if(D.url){D.url=D.url+CsrfGuard.getUrlSurffix(D.url)}if(D.type=="panel"&&D.htmlId){E=window;D.contentCopyWindow=window}if(D.type=="panel"&&D.targetId&&D.url){E=window;D.contentCopyWindow=window}if(D.type=="panel"&&D.targetId&&D.html){E=window;D.contentCopyWindow=window}D.targetWindow=E;if(typeof(getCtpTop().isVJTop)!="undefined"&&getCtpTop().isVJTop!=null){return getCtpTop().vjOpenDialog(D)}else{if(D.targetWindow.layer){return D.targetWindow.layer.open(D)}else{return window.layer.open(D)}}};d.PeopleCard=function(D){insertScriptP();return PeopleCard(D)};d.PeopleCardWithOutButton=function(D){insertScriptP();return PeopleCardWithOutButton(D)};d.PeopleCardMini=function(E){var D=insertScript(E);return new PeopleCardMini_flash(D)};d.fn.PeopleCardMini=function(E){var D=insertScript(E);return new PeopleCardMini(D,this)};d.metadata=function(E){function D(G){this.data=G;function F(J,I,H){var N=G[J];var M=N.columns;if(M!=null){for(var K=0;K<M.length;K++){if(M[K][H]==I){return M[K]}}}return null}this.getColumn=function(I,H){return F(I,H,"name")};this.getColumnByAlias=function(I,H){return F(I,H,"alias")};this.getColumns=function(H){var I=G[H];return I.columns}}return new D(E)};d.renderMetadata=function(){};d.metadataForm=function(D,M,O){var G=serverMetadata;var I=[];function P(S){var R=S.component;if(R=="codecfg"){return N(S)}var W="";var Q="";var Y=S.rule;if(R!=null){Y=Y==null?"":","+Y;W=' class="comp" comp="type:\''+R+"'"+Y+'"'}else{if(Y!=null){Q=' class="validate" validate="'+Y+'"'}}return'<input type="text" '+J(S.name)+W+Q+"/>"}function J(R){var S='name="'+R+'"';var Q=' id="'+R+'"';return Q+S}function N(Q){var R="";var S=Q.rule;S=S==null?"":S;R=' class="codecfg" codecfg="'+S+'"';return"<select "+J(Q.name)+R+'><option value="">'+d.i18n("pleaseSelect")+"...</option></select>"}var F=O?O.columns:null;var H=O?O.position:"in";var K=d.metadata(G);var E=[];if(F){d.each(F,function(R,Q){var S=K.getColumnByAlias(M,Q);if(S){E.push(S)}else{S=K.getColumn(M,Q);if(S){E.push(S)}}})}else{E=K.getColumns(M)}d.each(E,function(S,W){var R=W.label;var Q=P(W);I.push('<tr><th nowrap="nowrap"><label class="margin_r_10" for="'+W.name+'">'+R+':</label></th><td><div class="common_txtbox_wrap">'+Q+"</div></td></tr>")});if(H=="after"){d(D).after(I.join(""))}else{if(H=="before"){d(D).before(I.join(""))}else{d(D).html(I.join(""))}}};function j(D,R){var P=getCtpTop?getCtpTop():parent;if(P.vPortal&&P.vPortal.mainIsSpace){return}var E=R.code;if(E===""){return}var N=R.type;var Q=R.suffix;function H(S){var W=getA8Top();if(W){W.showLocation(S)}else{D.addClass("common_crumbs");D.html(S)}}if(R.html){H(K)}function F(Z,S,aa){for(var W=0;W<Z.length;W++){var ab=Z[W];ab.parentMenu=S;var Y=ab.resourceCode;if(Y!=null){aa[Y]=ab}if(ab.items){F(ab.items,ab,aa)}}}function G(W){var ad=getCtpTop?getCtpTop():parent;if(ad){if(ad.vPortal&&ad.vPortal.memberMenus&&ad.vPortal.memberMenus.length>0){var aa=ad.vPortal.memberMenus}else{if(ad.vPortal&&ad.vPortal.menu&&ad.vPortal.menu.length>0){var aa=ad.vPortal.menu}else{if(ad.vPortal&&ad.vPortal.space&&ad.vPortal.space.length>0){var aa=[];for(var Z=0,ac=ad.vPortal.space.length;Z<ac;Z++){if(ad.vPortal.space[Z].menu&&ad.vPortal.space[Z].menu.items){aa.push(ad.vPortal.space[Z].menu)}}if(aa.length==0){aa=null}}else{return[]}}}if(aa){var ab="resourceMenuCache";var S=ad.$.data(ad.document.body,ab);if(S==undefined||S.length==0){S=new Array();F(aa,null,S);ad.$.data(ad.document.body,ab,S)}var ae=[];var Y=S[W];if(Y!=undefined){while(Y!=null){ae.push(Y);Y=Y.parentMenu}}return ae.reverse()}}return[]}var I=G(E);if(I.length>0){var O=("vp-"+getCtpTop().currentSpaceType)||"vp-home";var K='<i class="vportal '+O+'"></i>';K+='<span class="nowLocation_content">';var M=[];for(var J=0;J<I.length;J++){if(I[J].url){M.push('<a class="hand" onclick="showMenu(\''+_ctxPath+I[J].url+"')\">"+escapeStringToHTML(I[J].name,false)+"</a>")}else{M.push('<a style="cursor:default" >'+escapeStringToHTML(I[J].name,false)+"</a>")}}K+=M.join(" > ");if(Q){K+=" > "+Q}K+="</span>";H(K)}}d.fn.tooltip=function(D){return f(D,1,d(this))};d.tooltip=function(D){return f(D,0)};function f(D,H,F){var D=D;var G;if(H==1){var E=F.attr("id").replace("#","");d.extend(D,{event:true,targetId:E});G=new MxtToolTip(D);F.mouseenter(function(){G.setPoint(null,null);G.show()}).mouseleave(function(){G.hide()})}else{G=new MxtToolTip(D)}return G}var a=1;d.fn.layout=function(){var Q=d(this),M=Q.attrObj("_layout");if(M){return M}var H=a,D=Q[0].id,G=d("#"+D+" > .layout_north"),N=d("#"+D+" > .layout_east"),E=d("#"+D+" > .layout_west"),F=d("#"+D+" > .layout_south"),K=d("#"+D+" > .layout_center"),J={id:D},O,I,P;G.each(function(){this.id=this.id?this.id:("north"+H);O={id:this.id};P=d(this).attr("layout");I=P?d.parseJSON("{"+P+"}"):{};O=d.extend(O,I);J.northArea=O});N.each(function(){this.id=this.id?this.id:("east"+H);O={id:this.id};P=d(this).attr("layout");I=P?d.parseJSON("{"+P+"}"):{};O=d.extend(O,I);J.eastArea=O});E.each(function(){this.id=this.id?this.id:("west"+H);O={id:this.id};P=d(this).attr("layout");I=P?d.parseJSON("{"+P+"}"):{};O=d.extend(O,I);J.westArea=O});F.each(function(){this.id=this.id?this.id:("south"+H);O={id:this.id};P=d(this).attr("layout");I=P?d.parseJSON("{"+P+"}"):{};O=d.extend(O,I);J.southArea=O});K.each(function(){this.id=this.id?this.id:("center"+H);O={id:this.id};P=d(this).attr("layout");I=P?d.parseJSON("{"+P+"}"):{};O=d.extend(O,I);J.centerArea=O});Q.attrObj("_layout",new MxtLayout(J));a++};d.fn.compThis=function(M){var K=this;if(K.attrObj("_comp")){K=K.attrObj("_comp")}var F=K.attr("comp"),D,J;if(F){D=d.parseJSON("{"+F+"}");if(M){D=d.extend(D,M);var E=d.toJSON(D);K.attr("comp",E.substring(1,E.length-1))}J=D.type;K.attr("compType",J);switch(J){case"onlyNumber":K.onlyNumber(D);break;case"calendar":K.calendar(D);break;case"layout":K.layout();break;case"tab":K.tab(D);break;case"fileupload":try{w(K,D)}catch(H){}break;case"attachlist":u(K);break;case"showattachlist":c(K,D);break;case"assdoc":y(K,D);break;case"selectPeople":D.srcElement=K;K.selectPeople(D);break;case"barCode":K.barCode(D);break;case"editor":K.showEditor(D);break;case"tooltip":K.tooltip(D);break;case"slider":var I=d("<div id='"+K.attr("id")+"'></div>");K.replaceWith(I);K=I;K.slider(D);break;case"workflowEdit":var G=d.ctx.CurrentUser;if(D.isTemplate){if(D.isView){K.click(function(){showDiagram({targetWin:getCtpTop(),valueWin:window,isTemplate:true,isDebugger:false,scene:2,SPK:"0",isModalDialog:true,processId:D.workflowId,currentAccountName:G.loginAccountName,appName:D.moduleType,currentUserName:G.name,canExePrediction:D.canExePrediction})})}else{K.click(function(){alert("暂未实现")})}}else{if(D.isView){K.click(function(){var N={targetWin:getCtpTop(),caseId:D.caseId,processId:D.workflowId,isTemplate:false,showHastenButton:false,appName:"collaboration",scene:3,SPK:"0",canExePrediction:D.canExePrediction};showDiagram(N)})}else{K.click(function(){var N={targetWin:getCtpTop(),valueWin:window,appName:D.moduleType,isTemplate:false,currentUserId:G.id,currentUserName:G.name,currentAccountName:G.loginAccountName,flowPermAccountId:G.loginAccount,processId:D.workflowId,defaultPolicyId:D.defaultPolicyId,defaultPolicyName:D.defaultPolicyName,scene:1,SPK:"0",canExePrediction:D.canExePrediction};showDiagram(N)})}}break;case"correlation_form":z(K,J,D);break;case"affix":z(K,J,D);break;case"associated_document":z(K,J,D);break;case"insert_pic":z(K,J,D);break;case"correlation_project":z(K,J,D);break;case"data_task":z(K,J,D);break;case"search":z(K,J,D);break;case"breadcrumb":if(!D.code){D.code=_resourceCode}j(K,D);break;case"autocomplete":if(K.autocomplete){K.autocomplete(D)}break;case"select":if(D.mode=="dropdown"){if(K.imageDropdown){return K.imageDropdown(D)}}break;case"office":K.showOffice(D);break;case"PeopleCardMini":K.PeopleCardMini(D);break;case"htmlSignature":K.htmlSignature(K,D);break;case"chooseProject":K.chooseProject(D);break;case"map":if(K.initMap){K.initMap(D)}break;case"fastSelect":D.srcElement=K;K.fastSelect(D);break;case"aceEditor":K.initAceEditor(D);break}}};d.fn.comp=function(D){d(".comp",this).add(this).each(function(E){d(this).compThis(D)})};d.fn.chooseProject=function(I){var E=d(this);var F=E.width();var H=E.attr("id");E.attr("id",H+"_txt");E.attr("name",H+"_txt");var G=d("<input id='"+H+"' name='"+H+"' type='hidden'/>");if(typeof(I.text)!="undefined"){E.val(I.text);E.attr("title",I.text)}if(typeof(I.value)!="undefined"){G.val(I.value)}E.before(G);var D=d("<span class='ico16 correlation_project_16'></span>");E.after(D);if(I.okCallback!=undefined){E.blur(function(){I.okCallback(D)})}if(G.height()!=0){E.height(G.height())}F=F-D.outerWidth(true)-8;if(F>0){E.width(F)}else{setTimeout(function(){F=E.width()-D.outerWidth(true)-8;E.width(F)},300)}D.unbind("click").bind("click",function(){var M=E.prev().val();var N=I.resetCallback;var K=I.okCallback;var J=d.dialog({id:"projectSelectDialog",url:_ctxPath+"/project/project.do?method=projectSelect"+CsrfGuard.getUrlSurffix(),title:d.i18n("form.base.relationProject.title"),width:700,height:450,targetWindow:getCtpTop(),transParams:{projectRole:"0,1,2,3,4,5",projectState:"0,1,2",projectId:M},buttons:[{text:d.i18n("common.button.reset.label"),handler:function(){E.val("");E.prev().val("");if(N!=undefined){N(D)}J.close()}},{text:d.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var O=J.getReturnValue();if(O==false){d.alert(d.i18n("form.base.relationProject.chooseItem"));return}else{E.val(O.projectName);E.attr("title",O.projectName);E.prev().val(O.projectId);if(K!=undefined){K(D)}J.close()}}},{text:d.i18n("common.button.cancel.label"),handler:function(){J.close()}}]})})};d.fn.showEditor=function(O){var I=d(this);if(O.contentType=="html"){var E=_ctxPath;var F=d.extend({},{toolbarSet:"Basic",category:"1",maxSize:1048576,autoResize:true,showToolbar:true,backFun:function(){},height:"100%"},O);I.attr("editorReadyState","loading");d.ajaxSetup({cache:true});if(s){d.getScript(E+"/common/RTE/fckeditor.js",function(){var Q=E+"/common/RTE/";var P=new FCKeditor(I[0].id);P.BasePath=Q;P.Config.DefaultLanguage=_locale.replace("_","-").toLowerCase();P.ToolbarSet=F.toolbarSet;P.Config.ImageUploadURL=E+"/fileUpload.do?method=processUpload&type=1&applicationCategory="+F.category+"&extensions=jpg,gif,jpeg,png&maxSize="+F.maxSize;P.Config.FlashUploadURL=E+"/fileUpload.do?method=processUpload&type=1&applicationCategory="+F.category+"&extensions=swf,fla&maxSize="+F.maxSize;P.Config.ImageUploadMaxFileSize="1M";P.ReplaceTextarea()})}else{var N="/common/ckeditor";var J=parseInt(d.browser.version,10);var D=navigator.userAgent;var K=d.browser.msie;var M;var H=false;if(typeof useHighVersionEditor!=="undefined"){M=useHighVersionEditor;if(!useHighVersionEditor&&!(K&&(J<9))){H=true;M=true}if(K&&(J<9)){H=true}M=true}else{M=!(K&&(J<9))}if(M){N=N+"410";CKEDITOR_BASEPATH=CKEDITOR_BASEPATH.indexOf("ckeditor410")>-1?CKEDITOR_BASEPATH:CKEDITOR_BASEPATH.replace("ckeditor","ckeditor410")}function G(){CKEDITOR.basePath=E+N+"/";CKEDITOR.baseHref=CKEDITOR.basePath;if(CKEDITOR.instances[I[0].id]){CKEDITOR.instances[I[0].id].destroy()}var P=d(I[0]).height();var Q=(typeof(editorStartupFocus)=="undefined")?false:editorStartupFocus;if(!F.showToolbar){d(I[0]).parent().hide()}if(F.defaultStyle){CKEDITOR.addCss(F.defaultStyle)}CKEDITOR.replace(I[0].id,{height:F.height,startupFocus:Q,toolbar:F.toolbarSet,on:{instanceReady:function(Z){var W=CKEDITOR.instances[I.attr("id")];I.attr("editorReadyState","complete");I.trigger("editorReady",Z);if(P!=0){try{W.document.getBody().setStyle("height",P-10+"px")}catch(aa){}}if(d.browser.mozilla&&W.document.getBody().getHtml()=="<p><br></p>"){W.document.getBody().setHtml('<p><br type="_moz"></p>')}if(!F.showToolbar){d("#"+Z.editor.id+"_top").hide();d(I[0]).parent().show()}if(F.toolbarSet=="VerySimple"&&d(I[0]).attr("comp")!==undefined&&!(d.parseJSON("{"+d(I[0]).attr("comp")+"}").showToolbar)){d("#"+Z.editor.id+"_top").hide();d(I[0]).parent().show()}function R(){var ae=CKEDITOR.instances[I.attr("id")];var af=ae.ui.space("contents");if(af){var ab=document.body.clientHeight-d(af.$).offset().top;ab=ab<0?0:ab;try{if(_fckEditorDecentHeight){ab-=20}}catch(ag){}af.setStyle("height",ab+"px");var ad=ae.window.getFrame();if(ad.$.style.width!="786px"){ad.$.style.width="786px"}}ae.window.getFrame().$.style.display="block";ae.window.getFrame().$.style.margin="auto";ae.window.getFrame().$.parentNode.style.marginTop="0px";var ac=ae.window.getFrame().$.parentNode.offsetHeight;ae.window.getFrame().$.parentNode.style.backgroundColor="#d8d9db"}if(F.autoResize){R();window.onresize=function(ab){R()};d(I[0]).parent().resize(function(){R()})}else{var Y=W.ui.space("contents");Y.setStyle("height",F.height)}if(F.toolbarSet=="VerySimple"){W.document.getBody().setStyle("padding",0);W.document.getBody().setStyle("margin","5px 0 0 0");var S=W.window.getFrame();S.$.style.width=d(I[0]).width()+"px"}if(F.backFun!=null&&typeof F.backFun=="function"){F.backFun()}if(v3x&&v3x.isMSIE){Z.editor.on("dialogShow",function(ac){var ab=ac.data._.element.$.getElementsByTagName("a");for(var ae=0;ae<ab.length;ae++){var ad=ab[ae].getAttribute("href");if(ad&&ad.indexOf("void(0)")>-1){ab[ae].removeAttribute("href")}}})}}}})}if(!H){if(typeof(CKEDITOR)==="undefined"){d.getScript(E+N+"/ckeditor.js",function(){G()})}else{G()}}else{CKEDITOR=null;d.getScript(E+N+"/ckeditor.js",function(){G()})}}d.ajaxSetup({cache:false})}};d.fn.getEditorContent=function(G){var F=d(this);var J=CKEDITOR.instances[d(this).attr("id")];if(J!=null){var D=F.attr("comp");if(D){var H=d.parseJSON("{"+D+"}");if(H.type=="editor"&&H.contentType=="html"){if(s){return FCKeditorAPI.GetInstance(this.attr("id")).GetHTML()}else{var I=CKEDITOR.instances[this.attr("id")].getData();return I.replace(/\u200B/g,"").replace(/\n/g,"").replace(/\t/g,"")}}}}else{var E=d(this).val();if(E!=null){E=E.replace(/\n/g,"<br/>")}return E}return null};d.fn.getEditorText=function(M){var J=d(this),I="";var G=CKEDITOR.instances[d(this).attr("id")];if(G!=null){var E=J.attr("comp");if(E){var D=d.parseJSON("{"+E+"}");if(D.type=="editor"&&D.contentType=="html"){if(s){return"not supported yet"}else{var F=CKEDITOR.instances[this.attr("id")].document.$.body;if(d.browser.mozilla&&(d.browser.version).substring(0,2)<45){I=F.textContent}else{if(D.toolbarSet=="VerySimple"){var H=document.createElement("div");H.id="VerySimple_tempHtml";H.innerHTML=F.innerHTML;J.append(H);var K=document.getElementById("VerySimple_tempHtml");if((d.browser.msie&&(parseInt(d.browser.version,10)==9))||(d.browser.msie&&(parseInt(d.browser.version,10)==10))){K.innerHTML=K.innerHTML.replace(/<p>/g,"").replace(/<\/p>/g,"<br>");I=K.innerText}else{if(d.browser.msie&&(parseInt(d.browser.version,10)>10)){K.innerHTML=K.innerHTML.replace(/<p>/g,"").replace(/<\/p>/g,"");I=K.innerText}else{if(d.browser.mozilla){F.innerHTML=F.innerHTML.replace(/<p>/g,"").replace(/<\/p>/g,"").replace(/<br><\/li>/g,"</li>");I=F.innerText}else{I=F.innerText}}}d(K).remove()}else{I=F.innerText}}I=I.replace(/\u00A0/g," ");I=I.replace(/\ufeff/g,"");I=I.replace(/\u200b/g,"");return I}}}}else{var I=d(this).val();return I}return null};d.fn.toggleEditorToolbar=function(D){var E=CKEDITOR.instances[this.attr("id")];if(E){if(D.hide){d("#"+E.id+"_top").hide()}else{d("#"+E.id+"_top").show()}}};function q(D,F){if(this.CKEDITOR){var E=CKEDITOR.instances[D];E.setData(F)}d("#"+D).bind("editorReady",function(){var G=CKEDITOR.instances[D];G.setData(F)})}d.fn.setEditorContent=function(G){var E=d(this);var D=E.attr("comp");if(D){var F=d.parseJSON("{"+D+"}");if(F.type=="editor"&&F.contentType=="html"){if(s){FCKeditorAPI.GetInstance(this.attr("id")).SetHTML(G)}else{q(this.attr("id"),G)}return null}}if(E.val){E.val(G)}return null};d.fn.initEditorContent=function(J){var F=d(this);var D=F.attr("comp");if(D){var G=d.parseJSON("{"+D+"}");if(G.type=="editor"&&G.contentType=="html"){var H=CKEDITOR.instances[this.attr("id")];var E=H.createRange();E.selectNodeContents(H.editable());var I=H.getSelection();I.selectRanges([E]);H.insertHtml(J,"html",E);return null}}return null};d.fn.insertEditorContent=function(H){var E=d(this);var D=E.attr("comp");if(D){var F=d.parseJSON("{"+D+"}");if(F.type=="editor"&&F.contentType=="html"){var G=CKEDITOR.instances[this.attr("id")];G.insertHtml(H);return null}}return null};d.fn.selectPeople=function(F){var M=d(this),Q=M.attr("id"),Z=M.attr("_inited"),ac=28;var S=Q,J,G,E,N,H,I=F.showBtn!=undefined?F.showBtn:false;if(Z){J=M.next();S=J.attr("id");G=J.next(),E=G.attrObj("tmpclone"),N=G.attr("_hide");G.remove();J.remove()}else{M.attr("id",Q+"_txt");M.attr("name",Q+"_txt");M.attr("readonly","readonly");if(I&&!F.extendWidth&&M.width()!=0){M.width(M.width()-ac)}M.attr("_inited",1)}J=d('<input type="hidden" />');J.attr("id",S);J.attr("name",S);J.attrObj("_comp",M);if(F.value){var ab=F.value;if(F.isMultipleAccountAndDepartment){if(F.isCanEdit){J.attr(S+"_txt","disabled")}J.attr("hiddenValue",ab);if(J.attr("hiddenValue")==""){J.val(d(this).val())}else{if(J.attr("hiddenValue")==d(this).val()){J.val(d(this).val())}else{J.val(d(this).val()+"hiddenValue"+J.attr("hiddenValue"))}}}else{J.val(F.value)}}M.after(J);if(F.valueChange){J.change(F.valueChange(J))}if(I){var ae=!(F.maxSize===1)||(M[0].tagName&&M[0].tagName.toLowerCase()=="textarea");var aa={Account:"account",Department:"dept",Team:"team",Post:"post",Level:"level",Member:"people"};var P=aa[F.selectType.split(",")[0]];P=P?P:"people";H=d("<span></span>");M.attrObj("_rel",H);H.attr("_isrel",1);H.attr("class","ico16 "+(ae?"check":"radio")+"_"+P+"_16");H.addClass("_autoBtn");if(E){H.attrObj("tmpclone",E)}if(N==1){H.hide()}J.after(H)}else{H=M;H.css("cursor","pointer")}var ad={};if(F.isMultipleAccountAndDepartment){var R=J.val();M.attr("readonly",false);if(!F.isCanEdit){M.attr("readonly","readonly")}M.bind("change").change(function(){var af=d(this).val();d(this).attr("title",af);mutAccountDep(af,J)})}if(F.extendWidth){if(!d.browser.msie||(d.browser.msie&&(parseInt(d.browser.version,10)>=9))){var W=J.css("display");J.css("display","block");if(J.css("width").indexOf("%")!=-1){M.css("width",J.css("width"))}else{if(J.width()>0){M.width(J.width())}}J.css("display",W)}else{var Y=false;if(M.width()<=0){M.css("width","100%");Y=true}if(M.width()<=0){M.css("width","100");Y=true}}if(I){var K=0;if(d.browser.msie&&d.browser.version=="7.0"){K=M.width()*2-M.outerWidth(true)-H.outerWidth(true)-15}else{K=M.width()*2-M.outerWidth(true)-H.outerWidth(true)-2}if(K>0){M.width(K)}}}if(F.text){M.val(F.text);M.attr("title",F.text)}function D(ah){M.val(ah.text);M.attr("title",ah.text);if(ah.obj&&(F.returnValueNeedType===false)){M.data("obj",ah.obj)}J.val(ah.value);if(F.isMultipleAccountAndDepartment){J.attr("hiddenValue",ah.value);mutAccountDep(ah.text,J)}if(F.valueChange){J.change(F.valueChange(J))}var af=M.attr("comp");if(af){var ai=d.parseJSON("{"+af+"}");ai.value=ah.value;ai.text=ah.text;var ag=d.toJSON(ai);M.attr("comp",ag.substring(1,ag.length-1))}}if(F.excludeElements){}F.id=M.attr("id");if(F.mode!="modal"){F.callbk=function(af){D(af);M.focus()}}if(!F.params){F.params={}}var O=F.elements;H.unbind("click").click(function(){var ah=J.val();if(F.isMultipleAccountAndDepartment){ah=J.attr("hiddenValue")}F.params.value=ah;F.params.text=M.val();if(!O){var ag=M.data("obj");if(ag){F.elements=ag}}var af=d.selectPeople(F);if(af){D(af)}})};d.fn.initAceEditor=function(N){var K=d(this).attr("id")+"Ace",J=N.height,D=N.width,H=N.mode;var M=N.fontSize,G=N.theme,F=N.highlight;if(J==undefined||J==null){J="300"}if(D==undefined||D==null){D="400"}var E=d("<pre id='"+K+"'  style='width: "+D+"px;height: "+J+"px;'></div>");d(this).before(E);ace.require("ace/ext/language_tools");var I=ace.edit(K);if(H==undefined||H==null){H="java"}I.session.setMode("ace/mode/"+H);if(G==undefined||G==null){G="monokai"}I.setTheme("ace/theme/"+G);if(M==undefined||M==null){M=14}I.setFontSize(M);I.setHighlightActiveLine(true);I.setOptions({enableBasicAutocompletion:true,enableSnippets:true,enableLiveAutocompletion:true})};d.fn.fastSelect=function(F){var ab={Account:"account",Department:"dept",Team:"team",Post:"post",Level:"level",Member:"people"};var R=ab[F.selectType];var ad=!(F.maxSize===1);R=R?R:"people";var N=d(this),S=F.id,aa=N.attr("_inited"),ac=28;var G=d("<span id='"+S+"_btn' title='"+d.i18n("org.index.select.people.label.js")+"' class='selectPeopleIcon ico16 "+(ad?"check":"radio")+"_"+R+"_16'></span>");F.srcElement.after(G);var W=S,M,J,H,E,O,I,K=F.showBtn!=undefined?F.showBtn:false;if(F.text){N.val(F.text);N.attr("title",F.text)}M=d('<input type="hidden" />');M.attr("id",W);M.attr("name",W);J=d('<input type="hidden" />');J.attr("id",W+"_txt");J.attr("name",W+"_txt");M.attrObj("_comp",N);J.attrObj("_comp",N);if(F.value){M.val(F.value)}N.after(M);N.after(J);if(F.valueChange){M.change(F.valueChange(M))}if(F.extendWidth){if(!d.browser.msie||(d.browser.msie&&(parseInt(d.browser.version,10)>=9))){var Y=M.css("display");M.css("display","block");if(M.css("width").indexOf("%")!=-1){N.css("width",M.css("width"))}else{if(M.width()>0){N.width(M.width())}}M.css("display",Y)}else{var Z=false;if(N.width()<=0){N.css("width","100%");Z=true}if(N.width()<=0){N.css("width","100");Z=true}}}if(F.extendWidth){if(F.outBtn){var P=F.srcElement.width()+2;if(P<140){P=140}F.srcElement.width(P-30)}}function D(ay){var ag;var aA;var ai=[];var aB=[];var ax=N.select2("data");var af=ay.value.split(",");var ah=v3x.getMessage("V3XLang.common_separator_label")||"、";var am=ay.text.split(ah);for(var aw=0;aw<ax.length;aw++){var az=ax[aw];if((az.text.indexOf(d.i18n("ctp.select2.people.departure"))>-1||az.text.indexOf(d.i18n("ctp.select2.people.deactivate"))>-1)&&(undefined==F.maxSize||F.maxSize>1)){ai.push(az.text);aB.push(az.id)}}if(aB!=""&&aB!=null){ag=d.merge(aB,af)}else{ag=af}if(ay.obj&&(F.returnValueNeedType===false)){N.data("obj",ay.obj)}if(null!=ag){for(var aw=0;aw<ag.length;aw++){var az=ag[aw];if(d.inArray(az,aB)==-1){aB.push(az)}}M.val(aB.join(","))}else{M.val("")}if(ai!=""&&ai!=null){aA=d.merge(ai,am)}else{aA=am}J.val(aA.join("、"));if(F.valueChange){M.change(F.valueChange(M))}N.empty();for(var aw=0;aw<aB.length;aw++){if(""!=aB[aw]){N.append("<option value='"+aB[aw]+"'>"+aA[aw]+"</option>")}}N.val(aB).trigger("change");var ak=N.attr("comp");if(ak){var ae=d.parseJSON("{"+ak+"}");var aj=d.toJSON(ae);N.attr("comp",aj.substring(1,aj.length-1))}}if(F.excludeElements){}if(F.mode!="modal"){F.callbk=function(ae){D(ae);N.focus()}}if(!F.params){F.params={}}var Q=F.elements;switch(F.selectType){case"Account":g(F,d.i18n("ctp.select2.account.placeholder"));break;case"Department":g(F,d.i18n("ctp.select2.account.placeholder"));break;case"Team":g(F,d.i18n("ctp.select2.team.placeholder"));break;case"Post":g(F,d.i18n("ctp.select2.post.placeholder"));break;case"Level":g(F,d.i18n("ctp.select2.leave.placeholder"));break;case"Member":g(F,d.i18n("ctp.select2.people.placeholder"));break}N.bind("change").change(function(){var ai=N.val();var ag=[];var aj=[];var ae=N.select2("data");if(null!=ai){for(var ah=0;ah<ai.length;ah++){var af=ai[ah];if(d.inArray(af,ag)==-1){ag.push(af)}}M.val(ag.join(","))}else{M.val("")}if(ae!=null){for(var ah=0;ah<ae.length;ah++){var af=ae[ah];if(d.inArray(af,aj)==-1){aj.push(af.text)}}J.val(aj.join("、"))}else{J.val("")}});G.unbind("click").click(function(){F.params.value=null;if(null!=N.val()){F.params.value=N.val().join(",")}else{F.params.value=M.val()}if(!Q){var af=N.data("obj");if(af){F.elements=af}}var ae=d.selectPeople(F);if(ae){D(ae)}})};function g(O,M){var G=O.maxSize;if(undefined==G||null==G){G=99999}var N=[];var I=[];if(undefined!=O.value&&O.value!=""){I=O.value.split(",")}var D=[];if(undefined!=O.text){D=O.text.split(",")}for(var K=0;K<I.length;K++){var H={id:"",text:""};H.id=I[K];H.text=D[K];O.srcElement.append("<option value='"+I[K]+"'>"+D[K]+"</option>");N.push(H)}var J=_locale;if(_locale=="zh_CN"){J="zh-CN"}if(_locale=="zh_TW"){J="zh-TW"}O.srcElement.select2({placeholder:M,language:J,maximumSelectionLength:G,initSelection:function(P,Q){if(undefined!=O.value){P.val(O.value.split(","));d("#"+O.id+"_txt").val(D.join("、"))}Q(N)},ajax:{url:"/seeyon/organization/orgIndexController.do?method=getFastSelect"+O.selectType+"&time="+new Date().getTime(),dataType:"json",delay:250,data:function(P){return{q:encodeURI(P.term),page:P.page}},processResults:function(W,Y){Y.page=Y.page||1;var S=[];if(undefined==Y.term){var R=O.srcElement.select2("data");for(var Q=0;Q<R.length;Q++){var P={id:"",text:""};var Z=R[Q];P.id=Z.id;P.text=Z.text;S.push(P)}W=S.concat(W)}return{results:W.unique()}},cache:true},allowClear:false,escapeMarkup:function(P){var Q={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof P!=="string"){return P}return String(P).replace(/[&<>"'\/\\]/g,function(R){return Q[R]})},minimumInputLength:0,templateResult:E,templateSelection:F});function E(P){return P.text}function F(P){return P.text}Array.prototype.unique=function(){var R=[];var P=[];for(var Q=0;Q<this.length;Q++){if(R.indexOf(this[Q].id)==-1){R.push(this[Q].id);P.push(this[Q])}}return P}}d.selectPeople=function(F){var K={mode:"div"};function J(N){var O=[];for(var M=0;M<N.length;M++){if(Object.prototype.toString.call(N[M])=="[object Array]"){O.push(J(N[M]))}else{O.push(N[M])}}return O}F._window=window;F=d.extend(K,F);var I=F.onlyShowChildrenAccount;var E=_ctxPath+"/selectpeople.do?onlyShowChildrenAccount="+I+CsrfGuard.getUrlSurffix(),D;if(F.mode=="modal"){if(F.preCallback){F.preCallback(F)}var H=window.showModalDialog(E+"&isFromModel=true",F,"dialogWidth=708px;dialogHeight=568px");if(H!=null&&(typeof H=="object")){H.obj=J(H.obj)}else{if(H==-1){return}}if(H){D=H;if(F.callback){F.callback(H,F)}}}else{if(F.preCallback){F.preCallback(F)}var G=d.dialog({id:"SelectPeopleDialog",url:E,width:820,height:506,title:d.i18n("selectPeople.page.title"),checkMax:true,transParams:F,closeParam:{show:true,autoClose:true,handler:function(){if(F.canclecallback){F.canclecallback()}}},targetWindow:getCtpTop(),buttons:[{text:d.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var P=G.getReturnValue(),M=true;if(P==-1){return}if(P){if(F.callbk&&F.callbk(P)){M=false}if(F.callback&&F.callback(P,F)){M=false}}if(M){var N="";var Q=0;var R=P.value.split(",");for(var O=0;O<R.length;O++){var S=R[O];if(S.indexOf("Member")==0){if(N==""){N=S}else{N=N+","+S}Q++;if(Q>=30){break}}}d.ajax({type:"POST",beforeSend:CsrfGuard.beforeAjaxSend,url:encodeURI("/seeyon/organization/orgIndexController.do?method=saveRecentData4OrgIndex&rData="+N)});G.close(G.index)}}},{text:d.i18n("common.button.cancel.label"),handler:function(){if(F.canclecallback){F.canclecallback()}G.close()}}],bottomHTML:'<table id="flowTypeDiv" class="hidden" width="" border="0" height="20" align="center" cellpadding="0" cellspacing="0">\r\n  <tr>\r\n    <td id="concurrentType">&nbsp;&nbsp;&nbsp;&nbsp;\r\n      <label for="concurrent">\r\n        <input id="concurrent" name="flowtype" type="radio" value="1" checked>&nbsp;<span>'+d.i18n("selectPeople.flowtype.concurrent.lable")+'</span>\r\n      </label>&nbsp;&nbsp;&nbsp;\r\n    </td>\r\n    <td id="sequenceType">\r\n      <label for="sequence">\r\n        <input id="sequence" name="flowtype" type="radio" value="0">&nbsp;<span>'+d.i18n("selectPeople.flowtype.sequence.lable")+'</span>\r\n      </label>&nbsp;&nbsp;&nbsp;\r\n    </td>\r\n    <td id="multipleType">\r\n      <label for="multiple">\r\n        <input id="multiple" name="flowtype" type="radio" value="2">&nbsp;<span>'+d.i18n("selectPeople.flowtype.multiple.lable")+'</span>\r\n      </label>&nbsp;&nbsp;&nbsp;\r\n    </td>\r\n    <td id="colAssignType">\r\n      <label for="colAssign">\r\n        <input id="colAssign" name="flowtype" type="radio" value="3">&nbsp;<span>'+d.i18n("selectPeople.flowtype.colAssign.lable")+'</span>\r\n      </label>\r\n    </td>\r\n  </tr>\r\n</table><table id="flowTextDiv" name="flowTextDiv" class="hidden" width="" border="0" height="20" align="center" cellpadding="0" cellspacing="0">\r\n  <tr>\r\n    <td>        <span id="flowText">		   </span>\r\n    </td>\r\n  </tr>\r\n</table>'})}return D};d.selectStructuredDocFileds=function(E){var G=d.extend({},{appName:"",formAppId:"",fieldType:"",showSystemVariables:"",showFormVariables:"true",tableType:"",externalType:""},E);var D=_ctxPath+"/custom/function.do?method=showParamBindIndex&appName="+G.appName+"&formAppId="+G.formAppId+"&tableType="+G.tableType+"&fieldType="+G.fieldType+"&showSystemVariables="+G.showSystemVariables+"&showFormVariables="+G.showFormVariables+"&externalType="+G.externalType;var F=d.dialog({id:"SelectStructuredDocFiledsDialog",url:D,width:500,height:500,title:d.i18n("workflow.customFunction.parmbind.label.js"),checkMax:true,transParams:E,targetWindow:getCtpTop(),buttons:[{text:d.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var H=F.getReturnValue();if(typeof(H)==undefined||H===null){return}if(E.onOk){E.onOk(H)}F.close()}},{text:d.i18n("common.button.cancel.label"),handler:function(){F.close();if(E.onCancel){E.onCancel()}}}]})};d.selectFunction=function(E){var G=d.extend({},{templateCode:"",category:"*"},E);var D=_ctxPath+"/custom/function.do?category="+G.category+"&templateCode="+G.templateCode;var F=d.dialog({id:"SelectFunctionDialog",url:D,width:708,height:530,title:d.i18n("functionmod.title.info"),checkMax:true,transParams:E,targetWindow:getCtpTop(),buttons:[{text:d.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var H=F.getReturnValue();if(typeof(H)==undefined||H===null){alert(d.i18n("functionmod.select.isnul"));return}G.methodName=H;if(E.onOk){E.onOk(H)}F.close()}},{text:d.i18n("common.button.cancel.label"),handler:function(){F.close()}}]})};function h(E){var D=_ctxPath+"/custom/function.do?method=setParams&category="+E.category+"&templateCode="+E.templateCode+"&methodName="+E.methodName+"&formApp="+E.formApp;var F=d.dialog({id:"SetParamsFunctionDialog",url:D,width:708,height:530,title:d.i18n("functionmod.title.info"),checkMax:true,transParams:E,targetWindow:getCtpTop(),buttons:[{text:d.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var G=F.getReturnValue();if(G!=null&&G!=""){if(E.onOk){E.onOk(G)}F.close()}}},{text:d.i18n("common.button.cancel.label"),handler:function(){F.close()}}]})}d.callFormula=function(E){var G=d.extend({},{returnType:"String,Bool,Numberic,DateTime,Member,Department,Post,Level,Account,Role",formulaType:"Constant,Variable,GroovyFunction,JavaFunction",templateCode:"",catagory:"",appName:"",showFormVariables:"true"},E);var D=_ctxPath+"/formula/formula.do?method=callFormula";if(G.returnType){D+="&returnType="+G.returnType}if(G.formulaType){D+="&formulaType="+G.formulaType}if(G.templateCode){D+="&templateCode="+G.templateCode}if(G.formulaType){D+="&formulaType="+G.formulaType}if(G.appName){D+="&appName="+G.appName}if(G.appName){D+="&catagory="+G.catagory}if(G.showFormVariables){D+="&showFormVariables="+G.showFormVariables}var F=d.dialog({id:"formulaDialog",url:D,width:600,height:400,title:"调用",checkMax:true,targetWindow:getCtpTop(),transParams:E,buttons:[{text:d.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var I=F.getReturnValue();if(I==""||I==null||I==undefined){alert("请先选择!");return}F.close();G.methodName=I.formulaName;if(I.params!=null&&I.params!=undefined&&I.params!=""){l(G,I)}else{if(I.formulaType!="0"&&I.formulaType!="1"){l(G,I)}else{var H='getVar("'+I.formulaName+'")';if(E.onOk){E.onOk(H)}}}}},{text:d.i18n("common.button.cancel.label"),handler:function(){F.close()}}]})};function l(E,G){var D=_ctxPath+"/formula/formula.do?method=setParams&id="+G.id+"&category="+E.category+"&templateCode="+E.templateCode+"&methodName="+E.methodName+"&appName="+E.appName+"&showFormVariables="+E.showFormVariables+"&formApp="+E.formApp;var F=d.dialog({id:"SetParamsFunctionDialog",url:D,width:600,height:400,title:"参数设置",checkMax:true,targetWindow:getCtpTop(),buttons:[{text:d.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var H=F.getReturnValue();if(H!=null&&H!=""){if(E.onOk){E.onOk(H)}F.close()}}},{text:d.i18n("common.button.cancel.label"),handler:function(){F.close()}}]})}d.fn.showOffice=function(E){var F={webRoot:_ctxServer};E=d.extend(F,E);var H=[];H[".doc"]=".wps";H[".wps"]=".doc";H[".et"]=".xls";H[".xls"]=".et";H[".pdf"]=".pdf";var G=d.ctx.isOfficeEnabled(E.fileType);if(!G&&H[E.fileType]){G=d.ctx.isOfficeEnabled(H[E.fileType])}if(G){var D=d('<div id="officeFrameDiv" style="display:none;height:100%"><iframe src="" name="officeEditorFrame" id="officeEditorFrame" frameborder="0" width="100%" height="100%"></iframe></div>');this.replaceWith(D);E.handWriteCurrentUserId=d.ctx.CurrentUser.id;if(E.fileType==".pdf"){createPdfOcx(E)}else{if(typeof(parent.subject)!="undefined"&&parent.subject!=""){E.saveLocalFileName=parent.subject}OfficeAPI.initOffice(E)}if(typeof officeSupportCallback!="undefined"){officeSupportCallback()}}else{this.replaceWith(d('<center><font color="red" style="font-weight:bold">'+d.i18n("common.body.type.officeNotSupported")+"</font></center>"));if(typeof officeNotSupportCallback!="undefined"){officeNotSupportCallback()}}};d.fn.tab=function(E){var D=this.attrObj("tabObj");if(D){return D}E.id=this.attr("id");D=new MxtTab(E);this.attrObj("tabObj",D);if(E.mode&&"mouseOver"===E.mode){D.setMouseOver()}};d.fn.tabEnable=function(E){var D=this.attrObj("tabObj");if(D){D.enable(E)}};d.fn.tabDisable=function(E){var D=this.attrObj("tabObj");if(D){D.disabled(E)}};d.fn.tabCurrent=function(E){var D=this.attrObj("tabObj");if(D){D.setCurrent(E)}};d.fn.toolbar=function(E){var G={contextPath:_ctxPath,render:this[0].id};G=d.extendParam(G,E);var H=new WebFXMenuBar(G),I=E.toolbar;this.attrObj("toolbarObj",H);if(I){if(!_isDevelop){var F=[];d.each(I,function(P,O){var K=O.resCode,M=O.pluginId,N=false;d.privCheck(K,M,function(){F.push(O);N=true});if(N&&O.subMenu){var J=[];d.each(O.subMenu,function(Q,R){K=R.resCode,M=R.pluginId;d.privCheck(K,M,function(){J.push(R)})});O.subMenu=J}});I=F}d.each(I,function(M,K){var J=d.extendParam({},K);if(K.items){J.items=K.items}if(K.subMenu){J.subMenu=D(K.subMenu)}J.id=J.id?J.id:("mb_"+M);H.add(new WebFXMenuButton(J))})}function D(K){var J=new WebFXMenu();d.each(K,function(P,O){var N=d.extendParam({},O),M;N.id=N.id?N.id:("mi_"+P);M=new WebFXMenuItem(N);J.add(M)});return J}H.show();return H};d.fn.toolbarEnable=function(E){var D=this.attrObj("toolbarObj");if(D){D.enabled(E)}};d.fn.toolbarDisable=function(E){var D=this.attrObj("toolbarObj");if(D){D.disabled(E)}};d.fn.menu=function(D){var E=d.extendParam({render:this[0].id},D);var F=new MxtMenuBar(E);if(D.menus){d.each(D.menus,function(K,J){var H=d.extendParam({},J);var I=new MxtMenu(H);if(J.items){d.each(J.items,function(M,N){I.add(G(N))})}F.add(I)})}function G(H){var I=d.extendParam({},H);var J=new MxtMenuItem(I);if(H.items){var K=new MxtSubMenu({});J.add(K);d.each(H.items,function(N,M){K.add(G(M))})}return J}F.show()};function n(){var H="DBstep.WebSignature.hasSetupHw";var E=d.globalCache(H);if(E==null){var D=false;try{if(d.v3x.isMSIE){var G=navigator.cpuClass.indexOf("x86")!=-1?false:true;if(G){new ActiveXObject("DBstep.WebSignature_x64")}else{new ActiveXObject("DBstep.WebSignature")}D=true}else{D=true}}catch(F){D=false}d.globalCache(H,D);return D}else{return E}}function m(){var D=false;if(navigator.userAgent.toLowerCase().indexOf("edge")!=-1){D=true}return D}d.fn.htmlSignature=function(H,G){if(!n()){H.after(d('<center><font color="red" style="font-weight:bold" class="not_print_html">'+d.i18n("common.isignaturehtml.notInstall")+"</font></center>"))}else{if(m()){H.after(d('<center><font color="red" style="font-weight:bold" class="not_print_html">当前浏览器不支持office签章！</font></center>'))}else{var E=d.ctx&&d.ctx.CurrentUser&&d.ctx.CurrentUser?d.ctx.CurrentUser:top.$.ctx&&top.$.ctx.CurrentUser&&top.$.ctx.CurrentUser.id;if(H.length>0&&H[0].tagName.toLowerCase()==="input"){var D=0;if(H.css("width")==="100%"||H.width()==0){D=H.parent("div").width()}else{D=H.width()}var I=H.height();if(D==0){D=100}if(I==0){I=20}if(G.showButton==true){var F=d("<span></span>");F.attr("id","signButton");F.attr("class",G.buttonClass?G.buttonClass:"ico16 signa_16");if(G.enabled===1){F.unbind("click").bind("click",function(){handWrite(G.recordId,G.signObj,false,"",E)})}H.after(F);D=D-F.width()-2}H[0].initWidth=D+"";H[0].initHeight=I+"";H.attr("initWidth",D+"");H.attr("initHeight",I+"")}G.signObj=H[0];G.currentUserId=E;initHandWriteData(G)}}};d.fn.barCode=function(I){var H=new barCodeManager();var Y=I.width||30,S=I.height||30;var P=d(this),W=P.attr("id");var aa=W+"_img";var N=d("<span style='display: block;float: left;'></span>");var K=d("<div id='"+aa+"' class='left border_all' style='width: "+Y+"px;height: "+S+"px;'></div>");var R=S>40?S-40:0;var ab=d("<div class='left' style='vertical-align:bottom;width: 20px;height: "+S+"px;margin-top: "+R+"px'></div>");var J=d("<div class='ico16 affix_del_16 left' style='vertical-align: top'></div>");var F=d("<div class='ico16 two_dimensional_code_scanning_16 left' style='vertical-align: top'></div>");var Q=I.showBtnAdd||false;var M=I.showBtnDel||false;var O;J.unbind("click").bind("click",function(){E()});F.unbind("click").bind("click",function(){var af=d.extend({},I);af.preCallback="";af.callback="";var ag={};if(I.preCallback){var ad=I.preCallback(P);if(ad&&ad.barOption){af=d.extend(af,ad.barOption)}O=af.width;if(ad&&ad.customOption){ag=ad.customOption}}var ad=H.getBarCodeAttachment(af,ag);if(!ad.success){d.alert(ad.msg);return}var ae=ad.attachment;if(I.callback){I.callback(ae,K)}G(ae)});N.append(K).append(ab);ab.append(J).append(F);P.after(N);P.hide();if(P.attr("attr")){var Z=P.attr("attr");Z=d.parseJSON(Z);G(Z)}else{ac(false)}function G(af){D();P.val(af.subReference);P.attr("reference",af.reference);var ah=_ctxPath+"/fileUpload.do?method=showRTE&fileId="+af.fileUrl+"&type=image";var ai=d(K).width();var ag=d(K).height();K.append("<img onclick='openCtpWindow({url:$(this).attr(\"src\")})' src='"+ah+"'>");var ae=d("img",K);var ad;var aj=new Image();aj.onload=function(){ad=aj.width;if(ad>O||!O){O=ad}if(O!=undefined&&ai!=undefined&&ag!=undefined){if(O>ai&&O>ag){var aw=parseFloat(O/ai);var ak=parseFloat(O/ag);if(aw>=ak){O=ai}else{O=ag}}else{if(O>ai){O=ai}else{if(O>ag){O=ag}}}var am=d("img",K);am.css({width:O,height:O,cursor:"pointer"})}};aj.src=d(ae).attr("src");ac(true)}function E(){d.confirm({msg:d.i18n("common.barcode.delete.label"),ok_fn:function(){D();if(I.callback){I.callback(null,K,true)}}})}function D(){P.val("");K.html("");ac(false)}function ac(ad){F.hide();J.hide();if(Q){F.show()}if(M&&ad){J.show()}if(!Q&&!M){ab.hide()}}};function k(){var E=d.globalCache("useUploadActivex");if(E==null){try{var D=new ActiveXObject("UFIDA_Upload.A8Upload.2");D.SetLimitFileSize(1024);E=true}catch(F){E=false}d.globalCache("useUploadActivex",E)}return E}function w(R,D){if(v3x&&v3x.isMSIE7){R.css("font-size","0")}var P=d(R).attr("id");R.attrObj("_attachShow")?R.attrObj("_attachShow").remove():null;downloadURL=_ctxPath+"/fileUpload.do?type="+((D.customType==undefined)?0:D.customType)+((D.firstSave==undefined)?"":("&firstSave="+D.firstSave))+"&inputId="+P+"&applicationCategory="+D.applicationCategory+"&extensions="+((D.extensions==undefined)?"":D.extensions)+((D.quantity==undefined)?"":("&quantity="+D.quantity))+"&maxSize="+((D.maxSize==undefined)?"":D.maxSize)+"&isEncrypt="+((D.isEncrypt==undefined)?"":D.isEncrypt)+"&popupTitleKey="+((D.attachmentTrId==undefined)?"":("&attachmentTrId="+D.attachmentTrId))+((D.embedInput==undefined)?"":("&embedInput="+D.embedInput))+((D.showReplaceOrAppend==undefined)?"":("&selectRepeatSkipOrCover="+D.showReplaceOrAppend))+((D.callMethod==undefined)?"":("&callMethod="+D.callMethod))+((D.isShowImg==undefined)?"":("&isShowImg="+D.isShowImg))+((D.takeOver==undefined)?"":("&takeOver="+D.takeOver));var I=k();downloadURL+=((!I)?"":("&isA8geniusAdded="+I));var H=((D.displayMode==undefined)?"auto;":D.displayMode);var F="";if((D.autoHeight!=undefined&&D.autoHeight==true)||D.canDeleteOriginalAtts==true||(typeof(D.noMaxheight)!=undefined&&D.noMaxheight==true)){if(D.applicationCategory!=undefined&&D.applicationCategory==2||D.noMaxheight==true){F='style="overflow: '+H+' *font-size:0;overflow-x:hidden;"'}else{F='style="overflow: '+H+' *font-size:0;max-height:192px; overflow-x:hidden;"'}}else{F='style="overflow: '+H+' *font-size:0; max-height:64px; overflow-x:hidden;"'}if(D.isShowImg){F=" "}var K="<div id='attachmentArea"+(D.attachmentTrId?D.attachmentTrId:"")+"' "+F+" requrl='"+downloadURL+"' "+((D.delCallMethod==undefined)?"":("delCallMethod="+D.delCallMethod))+"></div>";if(d("#downloadFileFrame").length==0){K=K+'<div style="display:none;"><iframe name="downloadFileFrame" id="downloadFileFrame" frameborder="0" width="0" height="0"></iframe></div>'}if(D.embedInput){R.append('<input type="text" style="display:none" id="'+(D.embedInput?D.embedInput:"")+'" name="'+(D.embedInput?D.embedInput:"")+'" value="">')}K=d(K);R.after(K);R.hide();R.attrObj("_attachShow",K);B(R,D,true,(D.embedInput?D.embedInput:""));if(R.attr("attsdata")!=""){var N=d.parseJSON(R.attr("attsdata"));if(N!=null&&D.isShowImg&&N.length>0){for(var J=0;J<N.length;J++){if(N[J].subReference==D.attachmentTrId){var Q=d("#attachmentDiv_"+N[J].fileUrl);Q.find("img").hide();var E=d("#"+D.embedInput);E.parent("div").css("display","block");E.css("display","block");var G=E.width();var O=E.height();E.css("display","none");var M=Q.find(".ico16").width()+2;Q.width(G-M).height(O);Q.css("overflow","hidden");Q.find("img").show().load(function(){d(this).css({"max-width":Q.width()-M,"max-height":O,cursor:"pointer"});E.parent("div").css("display","none")});break}}}}}function B(N,D,K,E){var J=D.attsdata?D.attsdata:N.attr("attsdata")?d.parseJSON(N.attr("attsdata")):null;if(J&&J instanceof Array){var M;for(var G=0;G<J.length;G++){M=J[G];if(K){if(M.type==2){continue}}else{if(M.type!=2){continue}}var H=true;var F=false;if(D.canFavourite!=undefined){H=D.canFavourite}if(D.isShowImg!=undefined){F=D.isShowImg}if(D.attachmentTrId){var I=D.checkSubReference!=undefined?D.checkSubReference:true;if(I&&M.reference!=M.subReference&&D.attachmentTrId!=M.subReference){continue}addAttachmentPoi(M.type,M.filename,M.mimeType,M.createdate?M.createdate.toString():null,M.size,M.fileUrl,D.canDeleteOriginalAtts,D.originalAttsNeedClone,M.description,M.extension,M.icon,D.attachmentTrId,M.reference,M.category,false,null,E,true,M.officeTransformEnable,M.v,H,F,M.id,M.hasFavorite)}else{addAttachment(M.type,M.filename,M.mimeType,M.createdate?M.createdate.toString():null,M.size,M.fileUrl,D.canDeleteOriginalAtts,D.originalAttsNeedClone,M.description,M.extension,M.icon,M.reference,M.category,false,null,true,M.officeTransformEnable,M.v,H,M.hasFavorite)}}}}function o(D){if(fileUploadAttachments!=null){var H=fileUploadAttachments.values();var G=new Array();for(var E=0;E<H.size();E++){var F=H.get(E);if(F.isImg()){G.push({dataId:F.fileUrl2,src:_ctxPath+"/fileUpload.do?method=showRTE&type=image&fileId="+F.fileUrl2+"&createDate="+F.createDate.substring(0,10)+"&filename="+encodeURIComponent(F.filename)})}}}}function u(F){theToShowAttachments=new ArrayList();var G=_ctxPath+"/fileUpload.do";var H=F.attr("attsdata");if(H!=null&&H!=""){H=d.parseJSON(H)}var D;for(var E=0;E<H.length;E++){D=H[E];theToShowAttachments.add(new Attachment(D.id,D.reference,D.subReference,D.category,D.type,D.filename,D.mimeType,D.createdate.toString(),D.size,D.fileUrl,"",null,D.extension,D.icon,true,"true"))}}function c(E,D){showAttachment(D.subRef,D.atttype,D.attachmentTrId,D.numberDivId)}function y(E,D){E.css("font-size","0");var F=D.noMaxheight==true?"":"max-height:96px;";E.after(d('<div id="attachment2Area'+(D.attachmentTrId?D.attachmentTrId:"")+'" poi="'+(D.attachmentTrId?D.attachmentTrId:"")+'"  '+(D.embedInput?' embedInput="'+D.embedInput+'"':"")+(D.callMethod?' callMethod="'+D.callMethod+'"':"")+' requestUrl="'+_ctxPath+"/ctp/common/associateddoc/assdocFrame.do?isBind="+(D.modids?D.modids:"")+"&referenceId="+(D.referenceId?D.referenceId:"")+"&applicationCategory="+(D.applicationCategory?D.applicationCategory:"")+"&poi="+(D.attachmentTrId?D.attachmentTrId:"")+('" style="overflow: '+((D.displayMode==undefined)?"auto; *font-size:0;"+F:D.displayMode)+'"></div>')));if(D.embedInput){E.append('<input type="hidden" id="'+(D.embedInput?D.embedInput:"")+'" name="'+(D.embedInput?D.embedInput:"")+'" value="">')}B(E,D,false,(D.embedInput?D.embedInput:""))}function z(G,D,F){var H=d(G[0]);H.width(H.width()-21);var E='<span class="margin_l_5 ico16 '+D+'_16"';F.fun?E+=" onclick='"+F.fun+"()'":null;F.fun?E+=" title='"+F.title+"'":null;E+="></span> ";H.after(E)}d.fn.ctpClone=function(){if(this){return d.ctpClone(d(this))}};d.ctpClone=function(E){if(E&&E.size()>0){var D;if(E[0].outerHTML){D=d(E[0].outerHTML.replace(/jQuery\d+="\d+"/g,""))}else{D=E.clone()}return D}};d.batchExport=function(J,K){var D=10000;if(J<=D){K(1,J);return}var F=Math.ceil(J/D);var E="";for(var I=1;I<=F;I++){E+='<option value="'+I+'">'+I+"</option>"}var H='<table class="popupTitleRight bg_color_white margin_5" style="font-size: 12px;"><tr><td height="30">'+d.i18n("export.batch.desc.1.js")+'</td></tr><tr><td height="30">'+d.i18n("export.batch.desc.2.js",D,J,F)+'</td></tr><tr><td height="30">'+d.i18n("export.batch.desc.3.js",'<select id="exportPageNo" style="width:60px" >'+E+"</select>")+"</td></tr></table>";var G=d.dialog({id:"dlgExport",html:H,title:d.i18n("export.batch.title.js"),width:300,height:120,targetWindow:window,buttons:[{id:"btnExport",text:d.i18n("export.batch.title.js"),handler:function(){var O="btnExport";var R=parseInt(d("#exportPageNo").val());G.disabledBtn(O);var N=G.getBtn(O);var Q=N.html();var P=10;N.html("&#160;"+P+"&#160;");K(R,D);if(R<F){d("#exportPageNo").val(R+1);var M=setInterval(function(){N.html("&#160;"+(--P)+"&#160;")},1000);setTimeout(function(){window.clearInterval(M);G.enabledBtn(O);N.html(Q)},10000)}else{G.close()}}},{text:d.i18n("collaboration.button.cancel.label"),handler:function(){G.close()}}]})};function r(I){var D=d(this);var H=D.val();if(H.length>0){var E=I.data;if(isNaN(H)||!E.type.test(H)){H=H.replace(E.start,"");if(H!="-"&&H!="+"&&isNaN(H)){H=H.replace(E.nonNumber,"")}}if(E.decimalDigit!=null){var G=H.indexOf("."),F=H.length;if(G>-1){if(E.decimalDigit<=0){H=H.substr(0,G)}else{H=H.substr(0,G+E.decimalDigit+1)}}}if(D.val()!=H){D.val(H)}}D=null}function A(I){var D=d(this);var H=D.val();if(H.length>0){var E=I.data;if(isNaN(H)||!E.type.test(H)){H=H.replace(E.end,"");if(H!="-"&&H!="+"&&isNaN(H)){H=H.replace(E.nonNumber,"")}}if(E.decimalDigit!=null){var G=H.indexOf("."),F=H.length;if(G>-1){if(E.decimalDigit<=0){H=H.substr(0,G)}else{H=H.substr(0,G+E.decimalDigit+1)}}}D.val(H)}D=null}function e(G){var D=d(this);var F=D.val();if(F.length>0){var E=F.lastIndexOf("%");var H=F;if(E>-1){H=F.sub(0,E)}if(isNaN(H)||!/^[-+]?\d+(\.\d*)?$/.test(F)){if(!d.isANumber(H)){H=H.replace(/[^\d]+/g,"")}D.val(H)}}D=null}function t(G){var D=d(this);var F=D.val();if(F.length>0){var E=F.lastIndexOf("%");var H=F;if(E>-1){H=F.sub(0,E)}if(isNaN(H)||!/^\d+(\.\d+)?$/.test(F)){if(!d.isANumber(H)){H=H.replace(/[^\d]+/g,"")}D.val(H+"%")}}D=null}function x(F){var D=d(this);var E=D.val();if(E.length>0){var H=E;if(E.length<=3){if(isNaN(H)||!/^[-+]?\d+$/.test(E)){if(!d.isANumber(H)){H=H.replace(/[^\d]+/g,"")}D.val(H)}}else{var G=/^\d\d\d(,\d\d\d)*,\d{0,3}$/;if(!G.test(E)){H=H.match(/\d\d\d(,\d\d\d)*(,\d{0,3})?/);if(H==null){H=""}else{H=H[0]}D.val(H)}}}D=null}function b(F){var D=d(this);var E=D.val();if(E.length>0){var H=E;if(E.length<=3){if(isNaN(H)||!/^[-+]?\d+$/.test(E)){if(!d.isANumber(H)){H=H.replace(/[^\d]+/g,"").substr(0,3)}D.val(H)}}else{var G=/^\d\d\d(,\d\d\d)*$/;if(!G.test(E)){H=H.match(/\d\d\d(,\d\d\d)*/);if(H==null){H=""}else{H=H[0]}D.val(H)}}}D=null}d.fn.extend({onlyNumber:function(F){if(this[0]&&this[0].nodeName&&this[0].nodeName.toUpperCase()=="INPUT"){if(this.prop("type")=="text"){var E=F.numberType,G=F.decimalDigit;if(isNaN(G)){G=null}if(E=="delete"){this.unbind("keyup",r).unbind("blur",A)}else{if(E=="percent"){this.unbind("keyup",e).unbind("blur",t);this.bind("keyup",e).bind("blur",t)}else{if(E=="thousandth"){this.unbind("keyup",x).unbind("blur",b);this.bind("keyup",x).bind("blur",b)}else{var D={};switch(E){case"int":D.start=/[^0123456789-]+|[-]{2,}|[-]$/g;D.end=/[^0123456789-]+|[-]{2,}|[-]$/g;D.nonNumber=/[-]+/g;D.type=/^[-+]?\d+$/;D.decimalDigit=G;break;case"float":D.start=/^[.]|[^0123456789.-]+|[.-]{2,}/g;D.end=/^[.]|[^0123456789.-]+|[.-]{2,}|[.-]$/g;D.nonNumber=/[.-]+/g;D.type=/^[-+]?\d+(\.\d+)?$/;D.decimalDigit=G;break;default:D.start=/^[.]|[^0123456789.-]+|[.-]{2,}/g;D.end=/^[.]|[^0123456789.-]+|[.-]{2,}|[.-]$/g;D.nonNumber=/[.-]+/g;D.type=/^[-+]?\d+$/;D.decimalDigit=G;break}this.unbind("keyup",r).unbind("blur",A);this.bind("keyup",D,r).bind("blur",D,A)}}}}}}})})(jQuery);var selectPictureDialog;function selectPicture(a,c,b){var d=$(top).width();var e=$(top).height();selectPictureDialog=$.dialog({targetWindow:top,id:"selectPictureDialog",url:"/seeyon/portal/portalDesigner.do?method=selectPictures&msn="+a,width:d,height:e-200,title:$.i18n("portal.common.imgdialog.title"),overflow:"hidden",buttons:[{text:$.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var f=selectPictureDialog.getReturnValue({innerButtonId:"ok"});if(f){if(typeof b=="function"){selectPictureDialog.close();b(f)}else{selectPictureDialog.close();$.alert("没有传入回调方法，请检查代码!")}}}},{text:$.i18n("common.button.cancel.label"),isEmphasize:false,handler:function(){selectPictureDialog.close()}}]})}var _makeDialogiconLibrary;function iconLibrary(c,a,e,d){var b=_ctxPath+"/portal/portalDesigner.do?method=iconLibrary&oprate="+c+"&styleId="+a+"&showType="+d;_makeDialogiconLibrary=$.dialog({url:b,id:"moveToDialog",htmlId:"dialog",targetWindow:getA8Top(),width:1500,height:500,title:$.i18n("portal.button.fromiconlib"),overflow:"hidden",buttons:[{id:"ok",isEmphasize:true,text:$.i18n("common.button.ok.label"),handler:function(){if(a==0){$("#plane").hide();if(!$("#line").hasClass("choose")){$("#line").addClass("choose")}}else{$("#line").hide();if(!$("#plane").hasClass("choose")){$("#plane").addClass("choose")}}var f=_makeDialogiconLibrary.getReturnValue();if(typeof e=="function"){if(f=="noChoose"){$.alert($.i18n("portal.common.icon.alert1"))}else{_makeDialogiconLibrary.close();e(f)}}else{_makeDialogiconLibrary.close();$.alert("没有传入回调方法，请检查代码!")}}},{id:"cancel",text:$.i18n("common.button.cancel.label"),handler:function(){_makeDialogiconLibrary.close()}}]})}var imageLibDialog;function imageLibUploadDialog(c,b,a){imageLibDialog=$.dialog({targetWindow:getA8Top(),id:"imageLibDialog",url:"/seeyon/ctp/common/imageIconUpload.do?method=imageUpload&fileId="+(b||"")+"&filePath="+encodeURIComponent(a||""),width:650,height:320,title:$.i18n("link.jsp.add.img.upload"),overflow:"hidden",buttons:[{text:$.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var d=imageLibDialog.getReturnValue();if(d&&d.length>0){if(typeof c=="function"){imageLibDialog.close();c(d)}else{imageLibDialog.close()}}}},{text:$.i18n("common.button.cancel.label"),isEmphasize:false,handler:function(){imageLibDialog.close()}}]})}var iconLibDialog;function iconLibUploadDialog(b,a){if(!a){a="plane"}iconLibDialog=$.dialog({targetWindow:getA8Top(),id:"iconLibDialog",url:"/seeyon/ctp/common/imageIconUpload.do?method=iconUpload&iconType="+a,width:430,height:220,title:$.i18n("portal.common.icondialog.title"),overflow:"hidden",buttons:[{text:$.i18n("common.button.ok.label"),isEmphasize:true,handler:function(){var c=iconLibDialog.getReturnValue();if(c&&c.length==2){if(typeof b=="function"){iconLibDialog.close();b(c)}else{iconLibDialog.close()}}else{if(!c){iconLibDialog.close()}}}},{text:$.i18n("common.button.cancel.label"),isEmphasize:false,handler:function(){iconLibDialog.close()}}]})}(function($){var zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event;_view={addNodes:function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent){return}if(!tools.isArray(newNodes)){newNodes=[newNodes]}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes)}if(parentNode){var target_switchObj=$("#"+parentNode.tId+consts.id.SWITCH),target_icoObj=$("#"+parentNode.tId+consts.id.ICON),target_ulObj=$("#"+parentNode.tId+consts.id.UL);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({display:"none"})}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true)}}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null)}for(var i=0;i<newNodes.length;i++){newNodes[i].data[setting.data.simpleData.pIdKey]=newNodes[i][setting.data.simpleData.pIdKey]}},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){tools.apply(callback);return false}else{if(node&&node.isAjaxing){return false}else{if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false}}}if(node){node.isAjaxing=true;var icoObj=$("#"+node.tId+consts.id.ICON);icoObj.attr({style:"","class":"button ico_loading"})}var isJson=(setting.async.contentType=="application/json"),tmpParam=isJson?"{":"",jTemp="";for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pArray=setting.async.autoParam[i].split("=");var pKey,spKey;if(pArray.length>1){spKey=pArray[1];pKey=pArray[0]}else{pKey=pArray[0];spKey=pKey}if(isJson){var attr=pKey.split(".");if(attr.length==1){jTemp=(typeof node[pKey]=="string")?'"':"";tmpParam+='"'+spKey+('":'+jTemp+node[pKey]).replace(/'/g,"\\'")+jTemp+","}else{if(attr.length==2){jTemp=(typeof node[attr[0]][attr[1]]=="string")?'"':"";tmpParam+='"'+spKey+('":'+jTemp+node[attr[0]][attr[1]]).replace(/'/g,"\\'")+jTemp+","}}}else{tmpParam+=spKey+("="+node[pKey]).replace(/&/g,"%26")+"&"}}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;i<l;i+=2){if(isJson){jTemp=(typeof setting.async.otherParam[i+1]=="string")?'"':"";tmpParam+='"'+setting.async.otherParam[i]+('":'+jTemp+setting.async.otherParam[i+1]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=setting.async.otherParam[i]+("="+setting.async.otherParam[i+1]).replace(/&/g,"%26")+"&"}}}else{for(var p in setting.async.otherParam){if(isJson){jTemp=(typeof setting.async.otherParam[p]=="string")?'"':"";tmpParam+='"'+p+('":'+jTemp+setting.async.otherParam[p]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=p+("="+setting.async.otherParam[p]).replace(/&/g,"%26")+"&"}}}if(tmpParam.length>1){tmpParam=tmpParam.substring(0,tmpParam.length-1)}if(isJson){tmpParam+="}"}var managerName=setting.managerName,managerMethod=setting.managerMethod;if(managerName&&!setting._managerLoaded){$("head").append("<script src='"+_ctxPath+"/ajax.do?managerName="+managerName+"' type='text/javascript'><\/script>");setting._managerLoaded=true}if(managerName&&managerMethod&&window[managerName]){var _bs=new window[managerName]();_bs[managerMethod]($.parseJSON(tmpParam),{success:function(msg){var newNodes=[];try{if(!msg||msg.length==0){newNodes=[]}else{if(typeof msg=="string"){newNodes=eval("("+msg+")")}else{newNodes=msg}}}catch(err){}if(node){node.isAjaxing=null;node.zAsync=true}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!=""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,!!newNodes?tools.clone(newNodes):[],!!isSilent)}else{view.addNodes(setting,node,[],!!isSilent)}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},error:function(request,textStatus,errorThrown){if(node){node.isAjaxing=null}view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,request,textStatus,errorThrown])}})}return true},appendNodes:function(setting,level,nodes,parentNode,initFlag,openFlag){if(!nodes){return[]}var html=[],childKey=setting.data.key.children,nameKey=setting.data.key.name,titleKey=data.getTitleKey(setting);for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i],tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=((tmpPChild.length==nodes.length)&&(i==0)),isLastNode=(i==(nodes.length-1));if(initFlag){data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}var childHtml=[];if(node[childKey]&&node[childKey].length>0){childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open)}if(openFlag){var url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";")}html.push("<li id='",node.tId,"' class='level",node.level,"' tabindex='0' hidefocus='true' treenode>","<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>");data.getBeforeA(setting,node,html);html.push("<a id='",node.tId,consts.id.A,"' class='level",node.level,"' treeNode",consts.id.A,' onclick="',(node.click||""),'" ',((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&node[titleKey]&&node[titleKey].indexOf("title")==-1){html.push("title='",node[titleKey].replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'")}html.push(">");data.getInnerBeforeA(setting,node,html);var name=setting.view.nameIsHTML?node[nameKey]:node[nameKey].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>");data.getInnerAfterA(setting,node,html);html.push("</a>");data.getAfterA(setting,node,html);if(node.isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(""))}html.push("</li>");data.addCreatedNode(setting,node)}}return html}},_data={fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node.data[setting.data.simpleData.pIdKey]=node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId}},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||key==""||!sNodes){return[]}if(!tools.isArray(sNodes)){sNodes=[sNodes]}var d=[],nm=setting.data.key.name,titleKey=data.getTitleKey(setting);for(var i=0;i<sNodes.length;i++){var no={};no[key]=sNodes[i][key];no[parentKey]=sNodes[i][parentKey];if(setting.render){no[nm]=setting.render(sNodes[i][nm],sNodes[i])}else{no[nm]=sNodes[i][nm]}if(titleKey&&titleKey!=""){no[titleKey]=sNodes[i][titleKey]}no.data=sNodes[i];var _iconSkin=sNodes[i]["iconSkin"];if(_iconSkin){no.iconSkin=_iconSkin}if(setting.nodeHandler){setting.nodeHandler(no)}d.push(no)}sNodes=d;var r=[];var tmpMap=[];for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i]}for(i=0,l=sNodes.length;i<l;i++){if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){if(!tmpMap[sNodes[i][parentKey]][childKey]){tmpMap[sNodes[i][parentKey]][childKey]=[]}tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])}else{r.push(sNodes[i])}}return r}},_z={view:_view,data:_data};$.extend(true,$.fn.zTree._z,_z);$.fn.tree=function(options){var settings={};options=$.extend(settings,options);var checkValue={};if(options.settings){checkValue=options.settings.check}var opts={async:{enable:false,autoParam:["id"],contentType:"application/json"},edit:{enable:false,showRemoveBtn:false,showRenameBtn:false},callback:{},check:checkValue,data:{simpleData:{enable:true,idKey:"id",pIdKey:"pId",rootPId:0},key:{name:"name"}},view:{selectedMulti:false}},oe=opts.edit,oc=opts.callback,od=opts.data,ods=od.simpleData,odk=od.key;if(options.onClick){oc.onClick=options.onClick}if(options.onDblClick){oc.onDblClick=options.onDblClick}if(options.beforeDrag){oc.beforeDrag=options.beforeDrag}if(options.beforeDrop){oc.beforeDrop=options.beforeDrop}if(options.onAsyncSuccess){oc.onAsyncSuccess=options.onAsyncSuccess}if(options.onAsyncError){oc.onAsyncError=options.onAsyncError}if(options.beforeAsync){oc.beforeAsync=options.beforeAsync}if(options.idKey){ods.idKey=options.idKey}if(options.pIdKey){ods.pIdKey=options.pIdKey}if(options.rootPId){ods.rootPId=options.rootPId}if(options.nameKey){odk.name=options.nameKey}if(options.enableEdit){oe.enable=true}if(options.enableRename){oe.showRenameBtn=true}if(options.enableRemove){oe.showRemoveBtn=true}if(options.enableCheck){opts.check.enable=true}if(options.managerName){opts.async.enable=true;opts.async.autoParam=[ods.idKey];if(options.autoParam){opts.async.autoParam=opts.async.autoParam.concat(options.autoParam)}if(options.asyncParam){opts.async.otherParam=options.asyncParam}}if(options.fontCss){opts.view.fontCss=options.fontCss}if(options.addHoverDom){opts.view.addHoverDom=options.addHoverDom}if(options.removeHoverDom){opts.view.removeHoverDom=options.removeHoverDom}if(options.dblClickExpand){opts.view.dblClickExpand=options.dblClickExpand}if(options.render){opts.view.nameIsHTML=true;opts.render=options.render}if(options.nodeHandler){opts.nodeHandler=options.nodeHandler}if(options.managerName){opts.managerName=options.managerName}if(options.managerMethod){opts.managerMethod=options.managerMethod}if(options.title){odk.title=options.title}oc.onRename=function(evt,tid,tNode){tNode.data[odk.name]=tNode[odk.name]};var t=this[0],id=t.id,d=[];$(this).replaceWith("<ul id='"+id+"' class='ztree'></ul>");t=$("#"+id);if($._autofill){var $af=$._autofill,$afg=$af.filllists;if($afg&&$afg[id]){d=$afg[id]}}$.fn.zTree.init(t,opts,d)};$.fn.treeObj=function(){var id=this[0].id;return $.fn.zTree.getZTreeObj(id)}})(jQuery);(function(e){function b(f){var g=e.extend({data:[],value:null},f);this.data=g.data;this.value=g.value;this.onChange=g.onChange;this.originValue=this.value;function h(j){return j.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}this.filter=function(l,j){if(l==null){return[]}var k=new RegExp(h(j),"i");return e.grep(l,function(m){return k.test(m.label||m.value||m)})};return this}b.prototype.search=function(g,f){return this.filter(this.data,g)};b.prototype.get=function(g){var f=e.grep(this.data,function(h){return h.value==g});if(f.length>0){return f[0]}return null};b.prototype.getAll=function(f){return this.data};b.prototype.val=function(f){if(f){this.value=f;e(this).trigger("change",f)}return this.value};b.prototype.restore=function(){this.val(this.originValue)};b.prototype.destroy=function(f){this.data=null;this.value=null;e(this).unbind("change")};function c(f){this.id=Math.random()*10000;this.setting=e.extend({autoSize:false},f);this.onSelect=f.onSelect;this.ui=f.ui;this._cursor=null;this.scrollDomId=f.scrollDomId;this.cursor=function(j){if(j===null||j){this._cursor=j}return this._cursor};this.ds=f.ds;this.data=f.ds.getAll();var h=this;function g(){var k="autocomplete_popup";var j=e("#"+k);if(j.length==0){j=e("<div></div>").attr("id",k).addClass("autocomplete-popup").append(e("<div></div>").addClass("menu")).appendTo(e("body"));j.hide();j.mousedown(function(l){var m=e(l.target).closest(".item").length==0;if(!m){h.close()}else{setTimeout(function(){e(document).one("mousedown",function(n){if(j[0]!=n.target&&!e.contains(j,n.target)){h.close()}})},1)}setTimeout(function(){clearTimeout(j.closing)},13);e(h).trigger("clicked")})}if(e("#"+k+"_mask").length==0){e("<iframe></iframe>").attr("id",k+"_mask").addClass("autocomplete-popup-mask").appendTo(e("body"))}e(this).unbind("moveFirst").bind("moveFirst",function(m,l){h.moveFirst()}).unbind("moveNext").bind("moveNext",function(m,l){h.moveNext()}).bind("movePrevious",function(m,l){h.movePrevious()});return j}this.container=g();this.moveFirst=function(){h.cursor(e(h.container).find("div.menu div:first-child"));h.highlight()};this.moveNext=function(){if(h.cursor()==null){h.moveFirst();return}var j=h.cursor().next();if(j.length>0){h.cursor(j);h.highlight()}};this.movePrevious=function(){if(h.cursor()==null){h.moveFirst();return}var j=h.cursor().prev();if(j.length>0){h.cursor(j);h.highlight()}};this.highlight=function(){e(".item-selected").removeClass("item-selected");h.cursor().addClass("item-selected")};this.calcPosition=function(){var B,t,q;var y={left:0,top:0,width:0,height:0};B=document.documentElement;t=B.clientWidth+e(B).scrollLeft();q=B.clientHeight;var z=e(h.ui);var x=z.offset().top-1;var m=z.outerHeight();var o=x+m;var l=h.container;var j=l.height("").outerHeight();var k=6+2;var A,w,s;if(o+j>q){if(o>q/2){if(j>x){w=k;A=x-k;y.scroll=true}else{w=x-j;A=j}}else{if(j>q-o){A=q-o-k;y.scroll=true}else{A=j}w=o}}else{w=o;A=j}y.top=w;y.height=A;y.left=z.offset().left;y.width=z.width();var u=z.next('input[name="acToggle"]').length>0;if(u){y.width=y.width+z.next('input[name="acToggle"]').outerWidth()-3}if(h.setting.autoSize){var r=0;e.each(h.data,function(E,F){var D=F.label.length;if(D>r){r=D}});var n=r*8+24;y.width=y.width>n?y.width:n}return y}}c.prototype.refresh=function(){var g=this.container.find("div.menu");g.empty();var h=this;var f=this.ds.value;e.each(this.data,function(m,o){var n=f&&(o.value==f.value)?" item-selected":"";var q=typeof o.title=="undefined"?"":o.title.replace(/<script>/g,"");var k=typeof o.label=="undefined"?"":o.label.escapeHTML(true);var j=e("<div></div>").html(k).data("item",o).attr("title",q).addClass("item"+n).hover(function(l){h.cursor(e(this));h.highlight()}).mousedown(function(l){h.select(l)}).appendTo(g);if(n){h.cursor(j)}});if(this.cursor()==null){this.moveFirst()}this.highlight();if(this.data.length==0){g.addClass("empty-menu")}else{g.removeClass("empty-menu")}};c.prototype.search=function(f){this.data=this.ds.search(f);this.cursor(null);this.refresh()};c.prototype.hide=function(f){e("#autocomplete_popup_mask").hide();this.container.hide()};c.prototype.show=function(){var k=this;var j=this.calcPosition();var g=this.container;if(j.scroll){g.css("overflow-y","auto").css("overflow-x","hidden").css("height",j.height+"px")}else{g.css("height","auto")}g.css({width:j.width-2+"px",top:j.top+"px",left:j.left+1+"px"});var f=g.height();e("#autocomplete_popup_mask").css({width:j.width-2+"px",top:j.top-1+"px",left:j.left-0+"px",height:f+"px"}).show();e(g.parents()).scroll(function(){k.hide()});var h=e(k.ui).offset().top;setTimeout(function(){var l=e(k.ui).offset().top;if(l!=h){k.hide()}},500);this.container.show()};c.prototype.toggle=function(){this.container.toggle()};c.prototype.close=function(f){this.hide()};c.prototype.visible=function(){return e(this.container).is(":visible")};c.prototype.select=function(f){var g=this.cursor();if(g!=null){this.ds.val(g.data("item"))}e(this.ui.ui).focus()};c.prototype.destroy=function(f){e(this).unbind("moveFirst").unbind("movePrevious").unbind("moveNext")};var a={isClickPopup:false};function d(h){var g=false;var m=this.keyCode;var l=e(h.ui);var n=this;var k=h.value;this.ds=new b({data:h.data,value:k});e(this.ds).unbind("change").bind("change",function(r,q){if(q){var o=l.data("value")==q.value;d.updateUi(l,q,o);if(h.onSelect){h.onSelect(q)}}});var f=new c(e.extend(h,{ds:this.ds,input:this}));var j;l.unbind("keyup").bind("keyup",function(o){switch(o.keyCode){case m.PAGE_UP:break;case m.PAGE_DOWN:break;case m.UP:if(n.popup.visible()){e(f).trigger("movePrevious")}else{n.popup.refresh();n.popup.show()}o.preventDefault();break;case m.DOWN:if(n.popup.visible()){e(f).trigger("moveNext")}else{n.popup.refresh();n.popup.show()}o.preventDefault();break;case m.ENTER:case m.NUMPAD_ENTER:if(n.popup.visible()){j=true;f.select();f.close();o.preventDefault()}case m.TAB:break;case m.ESCAPE:f.close(o);break;case m.CONTROL:f.close(o);break;case m.ALT:f.close(o);break;default:clearTimeout(n.searching);var q=e(this).val();n.searching=setTimeout(function(){f.search(q);f.show()},150);break}}).keypress(function(o){if(j){j=false;o.preventDefault()}}).unbind("click").bind("click",function(o){f.refresh();setTimeout(function(){f.show()},0)}).unbind("blur").bind("blur",function(o){e(this).val(e(this).data("label"));if(a.isClickPopup){a.isClickPopup=false;return}a.isClickPopup=false;f.close();if(g){f.select()}n.destroy()});e(f).unbind("clicked").bind("clicked",function(o){a.isClickPopup=true});e(l.parents()).scroll(function(){f.close()});this.ui=l;this.popup=f}d.prototype.destroy=function(f){this.popup.destroy(f);this.ds.destroy(f)};d.updateUi=function(f,h,g){f.val(h.label).attr("title",h.title).data("value",h.value).data("label",h.label);if(!g){f.trigger("changed",h)}};d.prototype.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};e.autocomplete=function(g,h){var l=e(g);if(typeof(g)=="string"){l=e("#"+g)}var k=l[0].nodeName.toLowerCase();if(h.visibility!="undefined"){if(k=="select"){var f=e("#"+l.attr("id")+"_txt");var j=f.next('input[name="acToggle"]');if(h.visibility){f.show();if(e.browser.mozilla){j.css("display","inline-block")}j.show()}else{f.hide();j.hide()}}}};e.fn.autocomplete=function(k){var z=false;if(this.length==0){return}var s={value:"",label:""};var j=this[0].nodeName.toLowerCase();var D=true;if(k&&k.visibility!="undefined"){D=k.visibility}function f(w,H,I){if(!z){w.trigger(H,I)}}function y(w){if(G&&G.length>0){w.removeAttr("disabled")}else{w.attr("disabled",true)}}function h(w){var H=[];w.find("option").each(function(){var J=e(this);var I=J.text();var K=J.attr("title");if(K==undefined){K=I}H.push({value:J.val(),label:I,title:K})});return H}function q(w){var H=w.find("option:selected");H=(H.length>0)?H:w.find("option:first");if(H.length>0){return{value:H.val(),label:H.text()}}else{return{value:"",label:""}}}if(j=="select"){var u=this;var o=this.data("binding");if(!o){var x=this.outerWidth();var E=this.attr("id")!=undefined?('id="'+this.attr("id")+'_txt" '):"";o=e('<input style="padding-left:0; padding-right:0;width: '+(x-2)+'px;" '+E+'type="text" widthVal="'+x+'" autocomplete="off" />').insertAfter(this);if(self.frameElement&&self.frameElement.getAttribute("id")=="zwIframe"&&o.width()<10){o.width(50)}if(D==false){o.hide()}o.data("binding",u);u.data("binding",o);u.change(function(J,I){if(I){return}var w=e(this);var K=q(w);var H=o.data("value")==K.value;d.updateUi(o,K,H);o.autocomplete({data:h(w),value:q(w)})});o.bind("changed",function(H,w){if(k.valueChange){k.valueChange(o)}u.val(w.value);f(u,"change",w)})}var F=q(this);this.hide();if(k&&k.value){if(k.value!=F.value){u.val(k.value);F=q(this)}}f(o,"change",F);d.updateUi(o,F,true);if(k.valueChange){k.valueChange(o)}var m=e.extend({data:h(this)},k);return o.autocomplete(m)}if(j!="input"){return}var A=e(this);this.showButton=true;var G=this.data("data");if(k){if(k.data){G=k.data}if(k.value){this.data("value",k.value)}}if(this.showButton){var r=this.next('input[name="acToggle"]').length>0;if(!r){var l=_ctxPath;if(!l){l=""}var B="background-image:url('"+l+"/common/images/desc.gif');background-repeat:no-repeat;background-color: #ececec;background-position:center;width:"+13+"px;height:30px;border:1px #e4e4e4 solid;vertical-align:middle";var g=e('<input type="button" name="acToggle" tabindex="-1" onclick="$(this.previousSibling).trigger(\'focus\').trigger(\'click\');" style="'+B+'"/>');if(D==false){g.hide()}this.after(g);var n=0;if(e.browser.msie&&parseInt(e.browser.version,10)<9){n=parseInt(this.attr("widthVal"),10)-g.outerWidth(true)-5;if(n<=0){var o=this;setTimeout(function(){var K=e("select",o.parent());if(K.length>0){var J=K.css("display");K.css("display","");var I=K.width();K.css("display",J);var H=I-g.outerWidth(true)-3;o.width(H)}},300)}else{this.width(n)}}else{n=this.width()-(this.outerWidth(true)-this.width())-g.outerWidth(true)-2;this.width(n)}}}y(this);var t=e.extend({data:G,ui:A,value:A.data("value"),autoSize:false},k);this.focus(function(){this.select();var H=A.attr("realUpdate");if(H=="true"){var w=A.attr("data");if(w&&w!=""){try{var I=e.parseJSON("{"+w+"}");t.data=I.selectdata}catch(J){}}}new d(t)})}})(jQuery);var msBeautify=msBeautify||{};(function($){msBeautify={version:{msDropdown:"3.5.2"},author:"Marghoob Suleman",counter:20,debug:function(v){if(v!==false){$(".ddOutOfVision").css({height:"auto",position:"relative"})}else{$(".ddOutOfVision").css({height:"0px",position:"absolute"})}},oldDiv:"",create:function(id,settings,type){type=type||"dropdown";var data;switch(type.toLowerCase()){case"dropdown":case"select":data=$(id).msDropdown(settings).data("dd");break}return data}};$.msDropDown={};$.msDropdown={};$.extend(true,$.msDropDown,msBeautify);$.extend(true,$.msDropdown,msBeautify);if($.fn.prop===undefined){$.fn.prop=$.fn.attr}if($.fn.on===undefined){$.fn.on=$.fn.bind;$.fn.off=$.fn.unbind}if(typeof $.expr.createPseudo==="function"){$.expr[":"].Contains=$.expr.createPseudo(function(arg){return function(elem){return $(elem).text().toUpperCase().indexOf(arg.toUpperCase())>=0}})}else{$.expr[":"].Contains=function(a,i,m){return $(a).text().toUpperCase().indexOf(m[3].toUpperCase())>=0}}function dd(element,settings){var settings=$.extend(true,{byJson:{data:null,selectedIndex:0,name:null,size:0,multiple:false,width:0},mainCSS:"dd",height:120,visibleRows:7,rowHeight:0,showIcon:true,zIndex:9999,useSprite:false,animStyle:"slideDown",event:"click",openDirection:"auto",jsonTitle:true,style:"",disabledOpacity:0.7,disabledOptionEvents:true,childWidth:0,enableCheckbox:false,checkboxNameSuffix:"_mscheck",append:"",prepend:"",reverseMode:true,roundedCorner:true,enableAutoFilter:true,on:{create:null,open:null,close:null,add:null,remove:null,change:null,blur:null,click:null,dblclick:null,mousemove:null,mouseover:null,mouseout:null,focus:null,mousedown:null,mouseup:null}},settings);var $this=this;var holderId={postElementHolder:"_msddHolder",postID:"_msdd",postTitleID:"_title",postTitleTextID:"_titleText",postChildID:"_child"};var css={dd:settings.mainCSS,ddTitle:"ddTitle",arrow:"ddArrow arrowoff",ddChild:"ddChild",ddTitleText:"ddTitleText",disabled:"disabled",enabled:"enabled",ddOutOfVision:"ddOutOfVision",borderTop:"borderTop",noBorderTop:"noBorderTop",selected:"selected",divider:"divider",optgroup:"optgroup",optgroupTitle:"optgroupTitle",description:"description",label:"ddlabel",hover:"hover",disabledAll:"disabledAll"};var css_i={li:"_msddli_",borderRadiusTp:"borderRadiusTp",ddChildMore:"border shadow",fnone:"fnone"};var isList=false,isMultiple=false,isDisabled=false,cacheElement={},element,orginial={},isOpen=false;var DOWN_ARROW=40,UP_ARROW=38,LEFT_ARROW=37,RIGHT_ARROW=39,ESCAPE=27,ENTER=13,ALPHABETS_START=47,SHIFT=16,CONTROL=17,BACKSPACE=8,DELETE=46;var shiftHolded=false,controlHolded=false,lastTarget=null,forcedTrigger=false,oldSelected,isCreated=false;var doc=document,ua=window.navigator.userAgent,isIE=ua.match(/msie/i);settings.reverseMode=settings.reverseMode.toString();settings.roundedCorner=settings.roundedCorner.toString();var isArray=function(obj){return(Object.prototype.toString.call(obj)=="[object Array]")?true:false};var msieversion=function(){var msie=ua.indexOf("MSIE");if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)))}else{return 0}};var maxImgWidth=0;var checkDataSetting=function(){var spanUniqueId=settings.byJson.spanUniqueId;var _ele=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element);settings.mainCSS=_ele.data("maincss")||settings.mainCSS;settings.visibleRows=_ele.data("visiblerows")||settings.visibleRows;if(_ele.data("showicon")==false){settings.showIcon=_ele.data("showicon")}settings.useSprite=_ele.data("usesprite")||settings.useSprite;settings.animStyle=_ele.data("animstyle")||settings.animStyle;settings.event=_ele.data("event")||settings.event;settings.openDirection=_ele.data("opendirection")||settings.openDirection;settings.jsonTitle=_ele.data("jsontitle")||settings.jsonTitle;settings.disabledOpacity=_ele.data("disabledopacity")||settings.disabledOpacity;settings.childWidth=_ele.data("childwidth")||settings.childWidth;settings.enableCheckbox=_ele.data("enablecheckbox")||settings.enableCheckbox;settings.checkboxNameSuffix=_ele.data("checkboxnamesuffix")||settings.checkboxNameSuffix;settings.append=_ele.data("append")||settings.append;settings.prepend=_ele.data("prepend")||settings.prepend;settings.reverseMode=_ele.data("reversemode")||settings.reverseMode;settings.roundedCorner=_ele.data("roundedcorner")||settings.roundedCorner;settings.enableAutoFilter=_ele.data("enableautofilter")||settings.enableAutoFilter;settings.reverseMode=settings.reverseMode.toString();settings.roundedCorner=settings.roundedCorner.toString();settings.enableAutoFilter=settings.enableAutoFilter.toString()};var getElement=function(ele){var spanUniqueId=settings.byJson.spanUniqueId;if(cacheElement[ele]===undefined){cacheElement[ele]=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+ele)[0]}return cacheElement[ele]};var getIndex=function(opt){var spanUniqueId=settings.byJson.spanUniqueId;var childid=getPostID("postChildID");return $("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li).index(opt)};var createByJson=function(){if(settings.byJson.data){var validData=["description","image","title"];try{if(!element.id){element.id="dropdown"+msBeautify.counter}settings.byJson.data=eval(settings.byJson.data);var id="msdropdown"+(msBeautify.counter++);var obj={};obj.id=settings.byJson.id||id;obj.name=settings.byJson.name||element.id;if(settings.byJson.size>0){obj.size=settings.byJson.size}obj.multiple=settings.byJson.multiple;var oSelect=createElement("select",obj);if(settings.byJson.className){oSelect.className=settings.byJson.className}var hasImage=false;for(var i=0;i<settings.byJson.data.length;i++){var current=settings.byJson.data[i];if(typeof current.image!="undefined"){hasImage=true;break}}for(var i=0;i<settings.byJson.data.length;i++){var current=settings.byJson.data[i];if(hasImage&&typeof current.image=="undefined"){current.image="/seeyon/common/images/msdropdown/skin1/title-bg.gif"}var txt=(typeof(current.text)=="undefined")?"":current.text;var opt=new Option(txt,current.value);for(var p in current){if(p.toLowerCase()!="text"){var key=($.inArray(p.toLowerCase(),validData)!=-1)?"data-":"";opt.setAttribute(key+p,current[p])}}oSelect.options[i]=opt}var spanUniqueId=settings.byJson.spanUniqueId;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element.id).append(oSelect);$(oSelect).bind("change",function(){if(settings.byJson.change){var func=window[settings.byJson.change];if(typeof func=="function"){func($(oSelect))}}});if(settings.byJson.inCalculate){oSelect.setAttribute("inCalculate",settings.byJson.inCalculate)}if(settings.byJson.inCondition){oSelect.setAttribute("inCondition",settings.byJson.inCondition)}if(settings.byJson.unique){oSelect.setAttribute("unique",settings.byJson.unique)}if(settings.byJson.validate){if(typeof settings.byJson.validate=="object"){var validateObj=settings.byJson.validate;var validateStr="name:'"+validateObj.name+"',type:'"+validateObj.type+"',maxLength:"+validateObj.maxLength+",notNull:"+validateObj.notNull+",errorMsg:'"+validateObj.errorMsg+"',func:validateSelect";oSelect.setAttribute("validate",validateStr)}else{oSelect.setAttribute("validate",settings.byJson.validate)}}oSelect.selectedIndex=settings.byJson.selectedIndex;if(settings.byJson.width===undefined||settings.byJson.width===0){}else{$(oSelect).css({width:settings.byJson.width+"px"})}element=oSelect}catch(e){throw"There is an error in json data."}}};var init=function(){var spanUniqueId=settings.byJson.spanUniqueId;createByJson();if(!element.id){element.id="msdrpdd"+(msBeautify.counter++)}element=element.id;$this.element=element;checkDataSetting();isDisabled=getElement(element).disabled;var useCheckbox=settings.enableCheckbox;if(useCheckbox.toString()==="true"){getElement(element).multiple=true;settings.enableCheckbox=true}isList=(getElement(element).size>1||getElement(element).multiple==true)?true:false;if(isList){isMultiple=getElement(element).multiple}mergeAllProp();createLayout();updateProp("uiData",getDataAndUI());updateProp("selectedOptions",$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element+" option:selected"));var childid=getPostID("postChildID");oldSelected=$("#"+childid+" li."+css.selected);var _ele=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element);if(settings.reverseMode==="true"){_ele.on("change",function(){setValue(this.selectedIndex)})}getElement(element).refresh=function(e){$("#"+element).msDropdown().data("dd").refresh()}};var getPostID=function(id){return element+holderId[id]};var getInternalStyle=function(ele){var s=(ele.style===undefined)?"":ele.style.cssText;return s};var parseOption=function(opt){var imagePath="",title="",description="",value=-1,text="",className="",imagecss="",index;if(opt!==undefined&&opt!=null){var attrTitle=opt.title||"";if(attrTitle!=""){var reg=/^\{.*\}$/;var isJson=reg.test(attrTitle);if(isJson&&settings.jsonTitle){var obj=eval("["+attrTitle+"]")}title=(isJson&&settings.jsonTitle)?obj[0].title:title;description=(isJson&&settings.jsonTitle)?obj[0].description:description;imagePath=(isJson&&settings.jsonTitle)?obj[0].image:attrTitle;imagecss=(isJson&&settings.jsonTitle)?obj[0].imagecss:imagecss;index=opt.index}text=opt.text||"";value=opt.value||"";className=opt.className||"";title=$(opt).prop("data-title")||$(opt).data("title")||(title||"");description=$(opt).prop("data-description")||$(opt).data("description")||(description||"");imagePath=$(opt).prop("data-image")||$(opt).data("image")||(imagePath||"");imagecss=$(opt).prop("data-imagecss")||$(opt).data("imagecss")||(imagecss||"");index=$(opt).index()}var o={image:imagePath,title:title,description:description,value:value,text:text,className:className,imagecss:imagecss,index:index};return o};var createElement=function(nm,attr,html){var tag=doc.createElement(nm);if(attr){for(var i in attr){switch(i){case"style":tag.style.cssText=attr[i];break;default:tag[i]=attr[i];break}}}if(html){tag.innerHTML=html}return tag};var hideOriginal=function(){var hidid=getPostID("postElementHolder");if($("#"+hidid).length==0){var obj={style:"height: 0px;overflow: hidden;position: absolute;",className:css.ddOutOfVision};obj.id=hidid;var oDiv=createElement("div",obj);var spanUniqueId=settings.byJson.spanUniqueId;var _ele=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element);_ele.after(oDiv);$(oDiv).width(_ele.width());_ele.appendTo($("#"+hidid))}else{$("#"+hidid).css({height:0,overflow:"hidden",position:"absolute"})}getElement(element).tabIndex=-1};var createWrapper=function(){var brdRds=(settings.roundedCorner=="true")?" borderRadius":"";var obj={className:css.dd+" ddcommon"+brdRds};var intcss=getInternalStyle(getElement(element));var w=$("#"+element).outerWidth();obj.style="width: "+w+"px;";if(intcss.length>0){obj.style=obj.style+""+intcss}obj.id=getPostID("postID");obj.tabIndex=getElement(element).tabIndex;var oDiv=createElement("div",obj);return oDiv};var createTitle=function(){var selectedOption;if(getElement(element).selectedIndex>=0){selectedOption=getElement(element).options[getElement(element).selectedIndex]}else{selectedOption={value:"",text:""}}var spriteClass="",selectedClass="";var useSprite=$("#"+element).data("usesprite");if(useSprite){settings.useSprite=useSprite}if(settings.useSprite!=false){spriteClass=" "+settings.useSprite;selectedClass=" "+selectedOption.className}var brdRdsTp=(settings.roundedCorner=="true")?" "+css_i.borderRadiusTp:"";var oTitle=createElement("div",{className:css.ddTitle+spriteClass+brdRdsTp});var oDivider=createElement("span",{className:css.divider});var oArrow=createElement("span",{className:css.arrow});var titleid=getPostID("postTitleID");var oTitleText=createElement("span",{className:css.ddTitleText+selectedClass,id:titleid});var parsed=parseOption(selectedOption);var arrowPath=parsed.image;var sText=parsed.text||"";if(arrowPath!=""&&settings.showIcon){var oIcon=createElement("img");oIcon.src=arrowPath;if(parsed.imagecss!=""){oIcon.className=parsed.imagecss+" "}}var oTitleText_in=createElement("span",{className:css.label},sText);oTitle.appendChild(oArrow);if(oIcon){oTitleText.appendChild(oIcon)}oTitleText.appendChild(oTitleText_in);oTitle.appendChild(oTitleText);var oDescription=createElement("span",{className:css.description},parsed.description);oTitleText.appendChild(oDescription);return oTitle};var createFilterBox=function(){var tid=getPostID("postTitleTextID");var brdRds=(settings.roundedCorner=="true")?"borderRadius":"";var sText=createElement("input",{id:tid,type:"text",value:"",autocomplete:"off",className:"text shadow "+brdRds,style:"display: none"});return sText};var createChild=function(opt){var obj={};var intcss=getInternalStyle(opt);if(intcss.length>0){obj.style=intcss}var css2=(opt.disabled)?css.disabled:css.enabled;css2=(opt.selected)?(css2+" "+css.selected):css2;css2=css2+" "+css_i.li;obj.className=css2;if(settings.useSprite!=false){obj.className=css2+" "+opt.className}var li=createElement("li",obj);var parsed=parseOption(opt);if(parsed.title!=""){li.title=parsed.title}var arrowPath=parsed.image;if(arrowPath!=""&&settings.showIcon){var oIcon=createElement("img");oIcon.src=arrowPath;if(parsed.imagecss!=""){oIcon.className=parsed.imagecss+" "}setImageHeight(oIcon);if(typeof(settings.realImageHeight)=="undefined"){settings.realImageHeight=0}settings.realImageHeight=oIcon.height>settings.realImageHeight?oIcon.height:settings.realImageHeight}if(parsed.description!=""){var oDescription=createElement("span",{className:css.description},parsed.description)}var sText=opt.text||"";var oTitleText=createElement("span",{className:css.label},sText);if(settings.enableCheckbox===true){var chkbox=createElement("input",{type:"checkbox",name:element+settings.checkboxNameSuffix+"[]",value:opt.value||"",className:"checkbox"});li.appendChild(chkbox);if(settings.enableCheckbox===true){chkbox.checked=(opt.selected)?true:false}}if(oIcon){li.appendChild(oIcon)}li.appendChild(oTitleText);if(oDescription){li.appendChild(oDescription)}else{if(oIcon){oIcon.className=oIcon.className+css_i.fnone}}var oClear=createElement("div",{className:"clear"});li.appendChild(oClear);return li};var createChildren=function(){var childid=getPostID("postChildID");var obj={className:css.ddChild+" ddchild_ "+css_i.ddChildMore,id:childid};if(isList==false){obj.style="z-index: "+settings.zIndex}else{obj.style="z-index:1"}var childWidth=$("#"+element).data("childwidth")||settings.childWidth;if(childWidth){obj.style=(obj.style||"")+";width:"+childWidth}var oDiv=createElement("div",obj);var ul=createElement("ul");if(settings.useSprite!=false){ul.className=settings.useSprite}var allOptions=getElement(element).children;for(var i=0;i<allOptions.length;i++){var current=allOptions[i];var li;if(current.nodeName.toLowerCase()=="optgroup"){li=createElement("li",{className:css.optgroup});var span=createElement("span",{className:css.optgroupTitle},current.label);li.appendChild(span);var optChildren=current.children;var optul=createElement("ul");for(var j=0;j<optChildren.length;j++){var opt_li=createChild(optChildren[j]);optul.appendChild(opt_li)}li.appendChild(optul)}else{li=createChild(current)}ul.appendChild(li)}oDiv.appendChild(ul);return oDiv};var childHeight=function(val){var childid=getPostID("postChildID");if(val){var ddChild=$('.ddChild[id="'+childid+'"] ');if(val==-1){ddChild.css({height:"auto",overflow:"auto"})}else{ddChild.css("height",val+"px")}return false}var iHeight;var totalOptions=getElement(element).options.length;if(totalOptions>settings.visibleRows||settings.visibleRows){var firstLI=$("#"+childid+" li:first");var margin=parseInt(firstLI.css("padding-bottom"))+parseInt(firstLI.css("padding-top"));if(settings.rowHeight===0){$("#"+childid).css({visibility:"hidden",display:"block"});settings.rowHeight=Math.ceil(firstLI.height());$("#"+childid).css({visibility:"visible"});if(!isList||settings.enableCheckbox===true){$("#"+childid).css({display:"none"})}}iHeight=((settings.rowHeight+margin)*Math.min(settings.visibleRows,totalOptions))+3}else{if(isList){iHeight=$("#"+element).height()}}if(settings.imageHeight){iHeight=((settings.imageHeight+margin)*Math.min(settings.visibleRows,totalOptions))+3}return iHeight};var applyChildEvents=function(){var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;var _childidObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid);_childidObj.on("click",function(e){if(isDisabled===true){return false}e.preventDefault();e.stopPropagation();if(isList){bind_on_events()}});var _childEnabledObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.enabled);_childEnabledObj.on("click",function(e){if(e.target.nodeName.toLowerCase()!=="input"){close(this)}});_childEnabledObj.on("mousedown",function(e){var spanUniqueId=settings.byJson.spanUniqueId;if(isDisabled===true){return false}oldSelected=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected);lastTarget=this;e.preventDefault();e.stopPropagation();if(settings.enableCheckbox===true){if(e.target.nodeName.toLowerCase()==="input"){controlHolded=true}}if(isList===true){if(isMultiple){if(shiftHolded===true){$(this).addClass(css.selected);var selected=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected);var lastIndex=getIndex(this);if(selected.length>1){var items=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li);var ind1=getIndex(selected[0]);var ind2=getIndex(selected[1]);if(lastIndex>ind2){ind1=(lastIndex);ind2=ind2+1}for(var i=Math.min(ind1,ind2);i<=Math.max(ind1,ind2);i++){var current=items[i];if($(current).hasClass(css.enabled)){$(current).addClass(css.selected)}}}}else{if(controlHolded===true){$(this).toggleClass(css.selected);if(settings.enableCheckbox===true){var checkbox=this.childNodes[0];checkbox.checked=!checkbox.checked}}else{$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected).removeClass(css.selected);$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" input:checkbox").prop("checked",false);$(this).addClass(css.selected);if(settings.enableCheckbox===true){this.childNodes[0].checked=true}}}}else{$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected).removeClass(css.selected);$(this).addClass(css.selected)}}else{$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected).removeClass(css.selected);$(this).addClass(css.selected)}});_childEnabledObj.on("mouseenter",function(e){if(isDisabled===true){return false}e.preventDefault();e.stopPropagation();if(lastTarget!=null){if(isMultiple){$(this).addClass(css.selected);if(settings.enableCheckbox===true){this.childNodes[0].checked=true}}}});_childEnabledObj.on("mouseover",function(e){if(isDisabled===true){return false}$(this).addClass(css.hover)});_childEnabledObj.on("mouseout",function(e){if(isDisabled===true){return false}var spanUniqueId=settings.byJson.spanUniqueId;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.hover).removeClass(css.hover)});_childEnabledObj.on("mouseup",function(e){if(isDisabled===true){return false}e.preventDefault();e.stopPropagation();if(settings.enableCheckbox===true){controlHolded=false}var spanUniqueId=settings.byJson.spanUniqueId;var selected=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected).length;forcedTrigger=(oldSelected.length!=selected||selected==0)?true:false;fireAfterItemClicked();unbind_on_events();bind_on_events();lastTarget=null});if(settings.disabledOptionEvents==false){var _liObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li);_liObj.on("click",function(e){if(isDisabled===true){return false}fireOptionEventIfExist(this,"click")});_liObj.on("mouseenter",function(e){if(isDisabled===true){return false}fireOptionEventIfExist(this,"mouseenter")});_liObj.on("mouseover",function(e){if(isDisabled===true){return false}fireOptionEventIfExist(this,"mouseover")});_liObj.on("mouseout",function(e){if(isDisabled===true){return false}fireOptionEventIfExist(this,"mouseout")});_liObj.on("mousedown",function(e){if(isDisabled===true){return false}fireOptionEventIfExist(this,"mousedown")});_liObj.on("mouseup",function(e){if(isDisabled===true){return false}fireOptionEventIfExist(this,"mouseup")})}};var removeChildEvents=function(){var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).off("click");var _liObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.enabled);_liObj.off("mouseenter");_liObj.off("click");_liObj.off("mouseover");_liObj.off("mouseout");_liObj.off("mousedown");_liObj.off("mouseup")};var triggerBypassingHandler=function(id,evt_n,handler){var spanUniqueId=settings.byJson.spanUniqueId;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).off(evt_n,handler);$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).trigger(evt_n);$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).on(evt_n,handler)};var applyEvents=function(){var id=getPostID("postID");var tid=getPostID("postTitleTextID");var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;var _idObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id);_idObj.on(settings.event,function(e){if(isDisabled===true){return false}fireEventIfExist(settings.event);e.preventDefault();e.stopPropagation();open(e)});_idObj.on("keydown",function(e){var k=e.which;if(!isOpen&&(k==ENTER||k==UP_ARROW||k==DOWN_ARROW||k==LEFT_ARROW||k==RIGHT_ARROW||(k>=ALPHABETS_START&&!isList))){open(e);if(k>=ALPHABETS_START){showFilterBox()}else{e.preventDefault();e.stopImmediatePropagation()}}});_idObj.on("focus",wrapperFocusHandler);_idObj.on("blur",wrapperBlurHandler);var _tidObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+tid);_tidObj.on("blur",function(e){triggerBypassingHandler(id,"focus",wrapperFocusHandler)});applyChildEvents();_idObj.on("dblclick",on_dblclick);_idObj.on("mousemove",on_mousemove);_idObj.on("mouseenter",on_mouseover);_idObj.on("mouseleave",on_mouseout);_idObj.on("mousedown",on_mousedown);_idObj.on("mouseup",on_mouseup)};var wrapperFocusHandler=function(e){fireEventIfExist("focus")};var wrapperBlurHandler=function(e){fireEventIfExist("blur")};var fixedForList=function(){var id=getPostID("postID");var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;if(isList===true&&settings.enableCheckbox===false){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id+" ."+css.ddTitle).hide();$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).css({display:"block",position:"relative"})}else{if(settings.enableCheckbox===false){isMultiple=false}$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id+" ."+css.ddTitle).show();$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).css({display:"none",position:"absolute"});var first=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected)[0];$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected).removeClass(css.selected);var index=getIndex($(first).addClass(css.selected));setValue(index)}childHeight(childHeight())};var fixedForDisabled=function(){var id=getPostID("postID");var opc=(isDisabled==true)?settings.disabledOpacity:1;var spanUniqueId=settings.byJson.spanUniqueId;if(isDisabled===true){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).addClass(css.disabledAll)}else{$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).removeClass(css.disabledAll)}};var fixedSomeUI=function(){var tid=getPostID("postTitleTextID");var spanUniqueId=settings.byJson.spanUniqueId;if(settings.enableAutoFilter=="true"){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+tid).on("keyup",applyFilters)}fixedForList();fixedForDisabled()};var createLayout=function(){var oDiv=createWrapper();maxImgWidth=$(oDiv).width()-58;var oTitle=createTitle();oDiv.appendChild(oTitle);var oFilterBox=createFilterBox();oDiv.appendChild(oFilterBox);var oChildren=createChildren();oDiv.appendChild(oChildren);var spanUniqueId=settings.byJson.spanUniqueId;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element).after(oDiv);hideOriginal();fixedSomeUI();applyEvents();var childid=getPostID("postChildID");if(settings.append!=""){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).append(settings.append)}if(settings.prepend!=""){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).prepend(settings.prepend)}if(typeof settings.on.create=="function"){settings.on.create.apply($this,arguments)}};var selectUI_LI=function(indexes){var spanUniqueId=settings.byJson.spanUniqueId;var childid=getPostID("postChildID");$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li).removeClass(css.selected);if(settings.enableCheckbox===true){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li+" input.checkbox").prop("checked",false)}if(isArray(indexes)===true){for(var i=0;i<indexes.length;i++){updateNow(indexes[i])}}else{updateNow(indexes)}function updateNow(index){var spanUniqueId=settings.byJson.spanUniqueId;$($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li)[index]).addClass(css.selected);if(settings.enableCheckbox===true){$($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li)[index]).find("input.checkbox").prop("checked","checked")}}};var selectMutipleOptions=function(bySelected,useIndexes){var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;var selected=bySelected||$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected);for(var i=0;i<selected.length;i++){var ind=(useIndexes===true)?selected[i]:getIndex(selected[i]);getElement(element).options[ind].selected="selected"}setValue(selected)};var fireAfterItemClicked=function(){var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;var selected=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected);if(isMultiple&&(shiftHolded||controlHolded)||forcedTrigger){getElement(element).selectedIndex=-1}var index;if(selected.length==0){index=-1}else{if(selected.length>1){selectMutipleOptions(selected)}else{index=getIndex($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected))}}if((getElement(element).selectedIndex!=index||forcedTrigger)&&selected.length<=1){forcedTrigger=false;var evt=has_handler("change");getElement(element).selectedIndex=index;setValue(index);if(typeof settings.on.change=="function"){var d=getDataAndUI();settings.on.change(d.data,d.ui)}$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element).trigger("change")}};var setValue=function(index,byvalue){var spanUniqueId=settings.byJson.spanUniqueId;if(index!==undefined){var selectedIndex,value,selectedText;if(index==-1){selectedIndex=-1;value="";selectedText="";updateTitleUI(-1)}else{if(typeof index!="object"){var opt=getElement(element).options[index];getElement(element).selectedIndex=index;selectedIndex=index;value=parseOption(opt);selectedText=(index>=0)?getElement(element).options[index].text:"";updateTitleUI(undefined,value);value=value.value}else{selectedIndex=(byvalue&&byvalue.index)||getElement(element).selectedIndex;value=(byvalue&&byvalue.value)||getElement(element).value;selectedText=(byvalue&&byvalue.text)||getElement(element).options[getElement(element).selectedIndex].text||"";updateTitleUI(selectedIndex)}}updateProp("selectedIndex",selectedIndex);updateProp("value",value);updateProp("selectedText",selectedText);updateProp("children",getElement(element).children);updateProp("uiData",getDataAndUI());updateProp("selectedOptions",$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element+" option:selected"))}};var has_handler=function(name){var evt={byElement:false,byJQuery:false,hasEvent:false};var spanUniqueId=settings.byJson.spanUniqueId;var obj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element);try{if(obj.prop("on"+name)!==null){evt.hasEvent=true;evt.byElement=true}}catch(e){}var evs;if(typeof $._data=="function"){evs=$._data(obj[0],"events")}else{evs=obj.data("events")}if(evs&&evs[name]){evt.hasEvent=true;evt.byJQuery=true}return evt};var bind_on_events=function(){unbind_on_events();$("body").on("click",close);$(document).on("keydown",on_keydown);$(document).on("keyup",on_keyup)};var unbind_on_events=function(){$("body").off("click",close);$(document).off("keydown",on_keydown);$(document).off("keyup",on_keyup)};var applyFilters=function(e){if(e.keyCode<ALPHABETS_START&&e.keyCode!=BACKSPACE&&e.keyCode!=DELETE){return false}var spanUniqueId=settings.byJson.spanUniqueId;var childid=getPostID("postChildID");var tid=getPostID("postTitleTextID");var sText=getElement(tid).value;if(sText.length==0){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:hidden").show();childHeight(childHeight())}else{$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li").hide();var items=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:Contains('"+sText+"')").show();if($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:visible").length<=settings.visibleRows){childHeight(-1)}if(items.length>0&&!isList||!isMultiple){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" ."+css.selected).removeClass(css.selected);$(items[0]).addClass(css.selected)}}if(!isList){adjustOpen()}};var showFilterBox=function(){if(settings.enableAutoFilter=="true"){var spanUniqueId=settings.byJson.spanUniqueId;var id=getPostID("postID");var tid=getPostID("postTitleTextID");if($("span[spanUniqueId="+spanUniqueId+"]").find("#"+tid+":hidden").length>0&&controlHolded==false){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+tid+":hidden").show().val("");triggerBypassingHandler(id,"blur",wrapperBlurHandler);getElement(tid).focus()}}};var hideFilterBox=function(){var spanUniqueId=settings.byJson.spanUniqueId;var tid=getPostID("postTitleTextID");if($("span[spanUniqueId="+spanUniqueId+"]").find("#"+tid+":visible").length>0){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+tid+":visible").hide();getElement(tid).blur()}};var on_keydown=function(evt){var spanUniqueId=settings.byJson.spanUniqueId;var tid=getPostID("postTitleTextID");var childid=getPostID("postChildID");switch(evt.keyCode){case DOWN_ARROW:case RIGHT_ARROW:evt.preventDefault();evt.stopPropagation();next();break;case UP_ARROW:case LEFT_ARROW:evt.preventDefault();evt.stopPropagation();previous();break;case ESCAPE:case ENTER:evt.preventDefault();evt.stopPropagation();close();var selected=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected).length;forcedTrigger=(oldSelected.length!=selected||selected==0)?true:false;fireAfterItemClicked();unbind_on_events();lastTarget=null;break;case SHIFT:shiftHolded=true;break;case CONTROL:controlHolded=true;break;default:if(evt.keyCode>=ALPHABETS_START&&isList===false){showFilterBox()}break}if(isDisabled===true){return false}fireEventIfExist("keydown")};var on_keyup=function(evt){switch(evt.keyCode){case SHIFT:shiftHolded=false;break;case CONTROL:controlHolded=false;break}if(isDisabled===true){return false}fireEventIfExist("keyup")};var on_dblclick=function(evt){if(isDisabled===true){return false}fireEventIfExist("dblclick")};var on_mousemove=function(evt){if(isDisabled===true){return false}fireEventIfExist("mousemove")};var on_mouseover=function(evt){if(isDisabled===true){return false}evt.preventDefault();fireEventIfExist("mouseover")};var on_mouseout=function(evt){if(isDisabled===true){return false}evt.preventDefault();fireEventIfExist("mouseout")};var on_mousedown=function(evt){if(isDisabled===true){return false}fireEventIfExist("mousedown")};var on_mouseup=function(evt){if(isDisabled===true){return false}fireEventIfExist("mouseup")};var option_has_handler=function(opt,name){var evt={byElement:false,byJQuery:false,hasEvent:false};if($(opt).prop("on"+name)!=undefined){evt.hasEvent=true;evt.byElement=true}var evs=$(opt).data("events");if(evs&&evs[name]){evt.hasEvent=true;evt.byJQuery=true}return evt};var fireOptionEventIfExist=function(li,evt_n){if(settings.disabledOptionEvents==false){var opt=getElement(element).options[getIndex(li)];if(option_has_handler(opt,evt_n).hasEvent===true){if(option_has_handler(opt,evt_n).byElement===true){opt["on"+evt_n]()}if(option_has_handler(opt,evt_n).byJQuery===true){switch(evt_n){case"keydown":case"keyup":break;default:$(opt).trigger(evt_n);break}}return false}}};var fireEventIfExist=function(evt_n){if(typeof settings.on[evt_n]=="function"){settings.on[evt_n].apply(this,arguments)}if(has_handler(evt_n).hasEvent===true){if(has_handler(evt_n).byElement===true){getElement(element)["on"+evt_n]()}else{if(has_handler(evt_n).byJQuery===true){switch(evt_n){case"keydown":case"keyup":break;default:$("#"+element).triggerHandler(evt_n);break}}}return false}};var scrollToIfNeeded=function(opt){var spanUniqueId=settings.byJson.spanUniqueId;var childid=getPostID("postChildID");opt=(opt!==undefined)?opt:$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected);if(opt.length>0){var pos=parseInt(($(opt).position().top));var ch=parseInt($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).height());if(pos>ch){var top=pos+$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).scrollTop()-(ch/2);$("#"+childid).animate({scrollTop:top},500)}}};var next=function(){var spanUniqueId=settings.byJson.spanUniqueId;var childid=getPostID("postChildID");var items=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:visible."+css_i.li);var selected=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:visible."+css.selected);selected=(selected.length==0)?items[0]:selected;var index=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:visible."+css_i.li).index(selected);if((index<items.length-1)){index=getNext(index);if(index<items.length){if(!shiftHolded||!isList||!isMultiple){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" ."+css.selected).removeClass(css.selected)}$(items[index]).addClass(css.selected);updateTitleUI(index);if(isList==true){fireAfterItemClicked()}scrollToIfNeeded($(items[index]))}if(!isList){adjustOpen()}}function getNext(ind){ind=ind+1;if(ind>items.length){return ind}if($(items[ind]).hasClass(css.enabled)===true){return ind}return ind=getNext(ind)}};var previous=function(){var spanUniqueId=settings.byJson.spanUniqueId;var childid=getPostID("postChildID");var selected=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:visible."+css.selected);var items=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:visible."+css_i.li);var index=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:visible."+css_i.li).index(selected[0]);if(index>=0){index=getPrev(index);if(index>=0){if(!shiftHolded||!isList||!isMultiple){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" ."+css.selected).removeClass(css.selected)}$(items[index]).addClass(css.selected);updateTitleUI(index);if(isList==true){fireAfterItemClicked()}if(parseInt(($(items[index]).position().top+$(items[index]).height()))<=0){var _childObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid);var top=(_childObj.scrollTop()-_childObj.height())-$(items[index]).height();_childObj.animate({scrollTop:top},500)}}if(!isList){adjustOpen()}}function getPrev(ind){ind=ind-1;if(ind<0){return ind}if($(items[ind]).hasClass(css.enabled)===true){return ind}return ind=getPrev(ind)}};var adjustOpen=function(){var spanUniqueId=settings.byJson.spanUniqueId;var id=getPostID("postID");var childid=getPostID("postChildID");var _idObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id);var _childIdObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid);var pos=_idObj.offset();var mH=_idObj.height();var wH=$(window).height();var st=$(window).scrollTop();var cH=_childIdObj.height();var top=_idObj.height();var direction=settings.openDirection.toLowerCase();if(((wH+st)<Math.floor(cH+mH+pos.top)||direction=="alwaysup")&&direction!="alwaysdown"){top=cH;_childIdObj.css({top:"-"+top+"px",display:"block",zIndex:settings.zIndex});if(settings.roundedCorner=="true"){_idObj.removeClass("borderRadius borderRadiusTp").addClass("borderRadiusBtm")}var top=$("#"+childid).offset().top;if(top<-10){_childIdObj.css({top:(parseInt(_childIdObj.css("top"))-top+20+st)+"px",zIndex:settings.zIndex});if(settings.roundedCorner=="true"){_idObj.removeClass("borderRadiusBtm borderRadiusTp").addClass("borderRadius")}}}else{_childIdObj.css({top:top+"px",zIndex:settings.zIndex});if(settings.roundedCorner=="true"){_idObj.removeClass("borderRadius borderRadiusBtm").addClass("borderRadiusTp")}}if(isIE){if(msieversion()<=7){$("div.ddcommon").css("zIndex",settings.zIndex-10);_idObj.css("zIndex",settings.zIndex+5)}}};var open=function(e){$(".ddChild").hide();if(isDisabled===true){return false}var id=getPostID("postID");var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;if(!isOpen){isOpen=true;if(msBeautify.oldDiv!=""){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+msBeautify.oldDiv).css({display:"none"})}msBeautify.oldDiv=childid;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li:hidden").show();adjustOpen();var animStyle=settings.animStyle;if(animStyle==""||animStyle=="none"){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).css({display:"block"});scrollToIfNeeded();if(typeof settings.on.open=="function"){var d=getDataAndUI();settings.on.open(d.data,d.ui)}}else{$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid)[animStyle]("fast",function(){scrollToIfNeeded();if(typeof settings.on.open=="function"){var d=getDataAndUI();settings.on.open(d.data,d.ui)}})}bind_on_events()}else{if(settings.event!=="mouseover"){close()}}};var close=function(e){isOpen=false;var id=getPostID("postID");var childid=getPostID("postChildID");var spanUniqueId=settings.byJson.spanUniqueId;if(isList===false||settings.enableCheckbox===true){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).css({display:"none"});if(settings.roundedCorner=="true"){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).removeClass("borderRadiusTp borderRadiusBtm").addClass("borderRadius")}}unbind_on_events();if(typeof settings.on.close=="function"){var d=getDataAndUI();settings.on.close(d.data,d.ui)}hideFilterBox();childHeight(childHeight());$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid).css({zIndex:1});updateTitleUI(getElement(element).selectedIndex)};var mergeAllProp=function(){try{orginial=$.extend(true,{},getElement(element));for(var i in orginial){if(typeof orginial[i]!="function"){$this[i]=orginial[i]}}}catch(e){}$this.selectedText=(getElement(element).selectedIndex>=0)?getElement(element).options[getElement(element).selectedIndex].text:"";$this.version=msBeautify.version.msDropdown;$this.author=msBeautify.author};var getDataAndUIByOption=function(opt){if(opt!=null&&typeof opt!="undefined"){var childid=getPostID("postChildID");var data=parseOption(opt);var spanUniqueId=settings.byJson.spanUniqueId;var ui=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li+":eq("+(opt.index)+")");return{data:data,ui:ui,option:opt,index:opt.index}}return null};var getDataAndUI=function(){var childid=getPostID("postChildID");var ele=getElement(element);var data,ui,option,index;var spanUniqueId=settings.byJson.spanUniqueId;if(ele.selectedIndex==-1){data=null;ui=null;option=null;index=-1}else{ui=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected);if(ui.length>1){var d=[],op=[],ind=[];for(var i=0;i<ui.length;i++){var pd=getIndex(ui[i]);d.push(pd);op.push(ele.options[pd])}data=d;option=op;index=d}else{option=ele.options[ele.selectedIndex];data=parseOption(option);index=ele.selectedIndex}}return{data:data,ui:ui,index:index,option:option}};var updateTitleUI=function(index,byvalue){var titleid=getPostID("postTitleID");var value={};if(index==-1){value.text="&nbsp;";value.className="";value.description="";value.image=""}else{if(typeof index!="undefined"){var opt=getElement(element).options[index];value=parseOption(opt)}else{value=byvalue}}var spanUniqueId=settings.byJson.spanUniqueId;var _titleIdObj=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+titleid);_titleIdObj.find("."+css.label).html(value.text);getElement(titleid).className=css.ddTitleText+" "+value.className;if(value.description!=""){_titleIdObj.find("."+css.description).html(value.description).show()}else{_titleIdObj.find("."+css.description).html("").hide()}var img=_titleIdObj.find("img");if(img.length>0){$(img).remove()}if(value.image!=""&&settings.showIcon){var uniqueSpanObj=$("span[spanUniqueId="+spanUniqueId+"]");var _sImg=uniqueSpanObj.find("#"+element+"_child").find("li").eq(value.index).find("img");img=new Image();$(img).on("load",function(){var r=img.width/img.height;if(!isNaN(r)&&r!=0){img.width=_sImg.height()*r;var uniqueSpanObjW=uniqueSpanObj.width();if(uniqueSpanObjW==0){uniqueSpanObjW=uniqueSpanObj.find("#"+element+"_imgspan").width()}if(img.width>uniqueSpanObjW-35){img.width=uniqueSpanObjW-35}}img.height=_sImg.height();var id=getPostID("postID");var _spanHeight=_sImg.height();if(_spanHeight==0){_spanHeight=17}uniqueSpanObj.find("#"+id).height(_spanHeight);uniqueSpanObj.find("#"+id).find("div.borderRadiusTp").height(_spanHeight);uniqueSpanObj.find("#"+element+"_imgspan").css({display:"inline",overflow:"visible",width:"",height:""})});img.src=value.image;uniqueSpanObj.find("#"+element+"_imgspan").css({display:"block",overflow:"hidden",width:uniqueSpanObj.find("#"+element+"_imgspan").width()+"px",height:"10px"});_titleIdObj.prepend(img);if(value.imagecss!=""){img.className=value.imagecss+" "}if(value.description==""){img.className=img.className+css_i.fnone}}};var setImageHeight=function(img){var scaleBaseHeight=true;if(settings.imageHeight){$(img).on("load",function(){var h=img.height;var w=img.width;if(h==0||w==0){return}var r=w/h;var width=settings.imageHeight*r;var height=settings.imageHeight;if(maxImgWidth>0&&(width>maxImgWidth)){scaleBaseHeight=false;width=maxImgWidth}img.height=height;img.width=width});var h=img.height;var w=img.width;if(h==0||w==0){return}var r=w/h;img.height=settings.imageHeight;img.width=settings.imageHeight*r}if(scaleBaseHeight&&(settings.realImageHeight>img.height)){img.height=settings.realImageHeight}};var updateProp=function(p,v){$this[p]=v};var updateUI=function(a,opt,i){var childid=getPostID("postChildID");var wasSelected=false;var spanUniqueId=settings.byJson.spanUniqueId;switch(a){case"add":var li=createChild(opt||getElement(element).options[i]);var index;if(arguments.length==3){index=i}else{index=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li).length-1}if(index<0||!index){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" ul").append(li)}else{var at=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li)[index];$(at).before(li)}removeChildEvents();applyChildEvents();if(settings.on.add!=null){settings.on.add.apply(this,arguments)}break;case"remove":wasSelected=$($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li)[i]).hasClass(css.selected);$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li+":eq("+i+")").remove();var items=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.enabled);if(wasSelected==true){if(items.length>0){$(items[0]).addClass(css.selected);var ind=$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li).index(items[0]);setValue(ind)}}if(items.length==0){setValue(-1)}if($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li).length<settings.visibleRows&&!isList){childHeight(-1)}if(settings.on.remove!=null){settings.on.remove.apply(this,arguments)}break}};this.act=function(){var action=arguments[0];Array.prototype.shift.call(arguments);switch(action){case"add":$this.add.apply(this,arguments);break;case"remove":$this.remove.apply(this,arguments);break;default:try{getElement(element)[action].apply(getElement(element),arguments)}catch(e){}break}};this.add=function(){var text,value,title,image,description;var obj=arguments[0];if(typeof obj=="string"){text=obj;value=text;opt=new Option(text,value)}else{text=obj.text||"";value=obj.value||text;title=obj.title||"";image=obj.image||"";description=obj.description||"";opt=new Option(text,value);$(opt).data("description",description);$(opt).data("image",image);$(opt).data("title",title)}arguments[0]=opt;getElement(element).add.apply(getElement(element),arguments);updateProp("children",getElement(element)["children"]);updateProp("length",getElement(element).length);updateUI("add",opt,arguments[1])};this.remove=function(i){getElement(element).remove(i);updateProp("children",getElement(element)["children"]);updateProp("length",getElement(element).length);updateUI("remove",undefined,i)};this.set=function(prop,val){if(typeof prop=="undefined"||typeof val=="undefined"){return false}prop=prop.toString();try{updateProp(prop,val)}catch(e){}var spanUniqueId=settings.byJson.spanUniqueId;switch(prop){case"size":getElement(element)[prop]=val;if(val==0){getElement(element).multiple=false}isList=(getElement(element).size>1||getElement(element).multiple==true)?true:false;fixedForList();break;case"multiple":getElement(element)[prop]=val;isList=(getElement(element).size>1||getElement(element).multiple==true)?true:false;isMultiple=getElement(element).multiple;fixedForList();updateProp(prop,val);break;case"disabled":getElement(element)[prop]=val;isDisabled=val;fixedForDisabled();break;case"selectedIndex":case"value":if(prop=="selectedIndex"&&isArray(val)===true){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element+" option").prop("selected",false);selectMutipleOptions(val,true);selectUI_LI(val)}else{getElement(element)[prop]=val;selectUI_LI(getElement(element).selectedIndex);setValue(getElement(element).selectedIndex)}break;case"length":var childid=getPostID("postChildID");if(val<getElement(element).length){getElement(element)[prop]=val;if(val==0){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li).remove();setValue(-1)}else{$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css_i.li+":gt("+(val-1)+")").remove();if($("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.selected).length==0){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+childid+" li."+css.enabled+":eq(0)").addClass(css.selected)}}updateProp(prop,val);updateProp("children",getElement(element)["children"])}break;case"id":break;default:try{getElement(element)[prop]=val;updateProp(prop,val)}catch(e){}break}};this.get=function(prop){return $this[prop]||getElement(element)[prop]};this.visible=function(val){var id=getPostID("postID");var spanUniqueId=settings.byJson.spanUniqueId;if(val===true){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).show()}else{if(val===false){$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).hide()}else{return($("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).css("display")=="none")?false:true}}};this.debug=function(v){msBeautify.debug(v)};this.close=function(){close()};this.open=function(){open()};this.showRows=function(r){if(typeof r=="undefined"||r==0){return false}settings.visibleRows=r;childHeight(childHeight())};this.visibleRows=this.showRows;this.on=function(type,fn){var spanUniqueId=settings.byJson.spanUniqueId;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element).on(type,fn)};this.off=function(type,fn){var spanUniqueId=settings.byJson.spanUniqueId;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element).off(type,fn)};this.addMyEvent=this.on;this.getData=function(){return getDataAndUI()};this.namedItem=function(){var opt=getElement(element).namedItem.apply(getElement(element),arguments);return getDataAndUIByOption(opt)};this.item=function(){var opt=getElement(element).item.apply(getElement(element),arguments);return getDataAndUIByOption(opt)};this.setIndexByValue=function(val){this.set("value",val)};this.destroy=function(){var spanUniqueId=settings.byJson.spanUniqueId;var hidid=getPostID("postElementHolder");var id=getPostID("postID");$("#"+id+", #"+id+" *").off();getElement(element).tabIndex=getElement(id).tabIndex;$("span[spanUniqueId="+spanUniqueId+"]").find("#"+id).remove();$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element).parent().replaceWith($("span[spanUniqueId="+spanUniqueId+"]").find("#"+element));$("span[spanUniqueId="+spanUniqueId+"]").find("#"+element).data("dd",null)};this.refresh=function(){setValue(getElement(element).selectedIndex)};init()}$.fn.extend({msDropDown:function(settings){return this.each(function(){if(!$(this).data("dd")){var mydropdown=new dd(this,settings);$(this).data("dd",mydropdown)}})}});$.fn.msDropdown=$.fn.msDropDown})(jQuery);(function(a){function b(c){var d=c;this.getValue=function(){return d.get("value")};this.getImage=function(){return d.get("uiData").data.image};this.getText=function(){return d.get("uiData").data.text}}a.fn.imageDropdown=function(d){if(this.msDropDown){var e=a.extend({},d);var c=this.msDropDown({byJson:{data:e.data,id:e.id,name:e.name,width:e.width,change:e.change,inCondition:e.inCondition,inCalculate:e.inCalculate,unique:e.unique,validate:e.validate,spanUniqueId:e.spanUniqueId,className:a(this).attr("class")},rowHeight:e.rowHeight,imageHeight:e.height}).data("dd");if(e.value){c.set("value",e.value)}return new b(c)}}})(jQuery);